<!DOCTYPE html>
<meta http-equiv='cache-control' content='no-cache'> 
<meta http-equiv='expires' content='0'> 
<meta http-equiv='pragma' content='no-cache'>
<html>
<head>
    <title>DARE DECK</title>
    <style>
        @font-face {
            font-family: Timer;
            src: url(source/alarm\ clock.ttf);
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #000000;
            color: #fff;
        }
        header {
            background-color: #141414;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 20px;
        }
        .logo {
            width: 60px; /* Adjust the width as needed */
            height: 60px; /* Adjust the height as needed */
            object-fit: contain;
        }
        nav {
            background-color: #141414;
            padding: 10px 20px;
            display: flex;
            align-items: center;
        }
        nav a {
            color: #00e5ff;
            text-decoration: none;
            margin: 0 10px;
        }
        nav a:hover {
            text-decoration: underline;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #141414;
            border: 3px solid #00e5ff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            border-radius: 10px;
        }
        img {
            max-width: 100%;
            height: auto;
            margin-bottom: 20px;
            border: 1px solid #333;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
            border-radius: 5px;
        }
        .card {
            background-color: #202020;
            padding: 10px;
            border: 1px solid #333;
            border-radius: 5px;
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 100%;
        }
        .card img {
            display: block;
            margin: 0 auto;
        }
        .countdown {
            color: #00e5ff;
            font-family: Timer;
            font-size: 20px;
            margin-top: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        .countdown strong {
            font-size: 32px;
        }

        /* Add CSS styles to create the podium appearance */
        .name-row {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            border: 1px solid #ffffff;
            border-radius: 5px;
            padding: 10px;
            background-color: #000000;
            color: #ffffff;
        }

        /* Styles for the podium positions */
        .first-place {
            background-color: rgb(0, 0, 0);
            border: 1px solid rgb(255, 0, 0);
            color: #ff0000;
            
        }

        .second-place {
            background-color: rgb(0, 0, 0);
            border: 1px solid rgb(0, 255, 13);
            color: #00ff11;
        }

        .third-place {
            background-color: rgb(0, 0, 0);
            border: 1px solid rgb(0, 255, 225);
            color: #00ffea;
        }

        /* Style for last place */
        .last-place {
            background-color: rgb(255, 0, 0);
            border: 1px solid rgb(255, 0, 0);
            color: #000000;
        }

        .place {
            flex: 0.5;
            text-align: center;
            font-size: 24px;
        }

        .name {
            flex: 2;
            font-size: 24px;
        }

        .points {
            flex: 0.5;
            text-align: center;
            font-size: 24px;
        }
        #allNames {
    display: none;
  }
  #errorMessage {
    display: none;
    color: red;
  }
  #loader {
    border: 16px solid #000000; /* Light grey */
    border-top: 16px solid #00ffff; /* Blue */
    border-radius: 50%;
    width: 50px;
    height: 50px;
    animation: spin 2s linear infinite;
    margin: auto;
    margin-top: 40px;
    margin-bottom: 40px;
  }
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
    </style>
    <script>
        function toggleCards(playerId) {
            var cardSections = document.querySelectorAll('.card');
            for (var i = 0; i < cardSections.length; i++) {
                cardSections[i].style.display = 'none';
            }
            document.getElementById(playerId).style.display = 'block';
        }

        function updateCountdown() {
            const now = new Date();
            const nextMonth = new Date(now);
            nextMonth.setMonth(nextMonth.getMonth() + 1);
            nextMonth.setDate(1);
            nextMonth.setHours(0, 0, 0, 0);

            const timeDiff = nextMonth - now;

            const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);

            document.getElementById('countdown').innerHTML = `NEXT MONTH STARTS IN: ${days}d ${hours}h ${minutes}m ${seconds}`;
        }

        document.addEventListener('DOMContentLoaded', function() {
            updateCountdown();
            setInterval(updateCountdown, 1000);

            toggleCards('screenshot'); // Show Dare Deck Screenshot by default
        });
    </script>
</head>
<body>
    <header>
        <img class="logo" src="cardgame/DARE DECK.png" alt="Dare Deck Logo">
        <nav>
            <a href="">Made With The Love Of Oakley :)</a>
        </nav>
    </header>
    <div class="container">

        <div id="display">
            <div id="loader"> 
                <h4></h4> 
            </div>
            <div id="allNames">
            </div>
            <div id="errorMessage"> 
                <h2> Failed to get data. Please refresh </h2>
            </div>
        </div>
        <script>
            let allNamesElm = document.getElementById("allNames");
            let loaderElm = document.getElementById("loader");
            let errorMessageElm = document.getElementById("errorMessage");
            
            function setErrorDisplay() {
                loaderElm.style.display = "none";
                allNamesElm.style.display = "none";
                errorMessageElm.style.display = "block";
            }
                    
            fetch("https://api.apispreadsheets.com/data/1p3qf0uxhdXqDRWf/").then(res=>{
                if (res.status === 200) {
                    res.json().then(data=>{
                        const yourData = data["data"];
                        const lastPlaceIndex = yourData.length - 1;
                        for(let i = 0; i < yourData.length; i++) {
                            let rowInfo = yourData[i];
                            let rowInfoDiv = document.createElement("div");
                            rowInfoDiv.classList.add("name-row");
    
                            // Add podium class based on position
                            if (i === 0) {
                                rowInfoDiv.classList.add("first-place");
                            } else if (i === 1) {
                                rowInfoDiv.classList.add("second-place");
                            } else if (i === 2) {
                                rowInfoDiv.classList.add("third-place");
                            }
    
                            // Add last place class
                            if (i === lastPlaceIndex) {
                                rowInfoDiv.classList.add("last-place");
                            }
                            
                            let rowPlace = document.createElement("p");
                            let rowPlaceNode = document.createTextNode(rowInfo["Place"]);
                            rowPlace.appendChild(rowPlaceNode);
                            rowPlace.classList.add("place");
    
                            let rowName = document.createElement("p");
                            let rowNameNode = document.createTextNode(rowInfo["Name"]);
                            rowName.appendChild(rowNameNode);
                            rowName.classList.add("name");
                            
                            let rowPoints = document.createElement("p");
                            let rowPointsNode = document.createTextNode(rowInfo["Points"]);
                            rowPoints.appendChild(rowPointsNode);
                            rowPoints.classList.add("points");
    
                            rowInfoDiv.appendChild(rowPlace);
                            rowInfoDiv.appendChild(rowName);
                            rowInfoDiv.appendChild(rowPoints);
                            
                            allNamesElm.appendChild(rowInfoDiv);
                        }
                        
                        loaderElm.style.display = "none";
                        allNamesElm.style.display = "block";
                        errorMessageElm.style.display = "none";
        
                    }).catch(err => {
                        setErrorDisplay();
                    });
                }
                else {
                    setErrorDisplay();
                }
            }).catch(err =>{
                setErrorDisplay();
            });
        </script>
        <div class="countdown" id="countdown">
            <strong>Next month starts in:</strong>
            <div id="countdown-display"></div>
        </div>
    </div>
    
</body>
</html>
