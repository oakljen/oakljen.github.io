(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Jv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fd={exports:{}},ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function rS(){if(hy)return ll;hy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return ll.Fragment=t,ll.jsx=n,ll.jsxs=n,ll}var fy;function sS(){return fy||(fy=1,fd.exports=rS()),fd.exports}var Bt=sS(),dd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function aS(){if(dy)return St;dy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.iterator;function k(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,et={};function $(C,X,nt){this.props=C,this.context=X,this.refs=et,this.updater=nt||G}$.prototype.isReactComponent={},$.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},$.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function pt(){}pt.prototype=$.prototype;function Et(C,X,nt){this.props=C,this.context=X,this.refs=et,this.updater=nt||G}var ot=Et.prototype=new pt;ot.constructor=Et,Z(ot,$.prototype),ot.isPureReactComponent=!0;var vt=Array.isArray,ft={H:null,A:null,T:null,S:null,V:null},bt=Object.prototype.hasOwnProperty;function N(C,X,nt,W,ct,It){return nt=It.ref,{$$typeof:r,type:C,key:X,ref:nt!==void 0?nt:null,props:It}}function S(C,X){return N(C.type,X,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function O(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return X[nt]})}var V=/\/+/g;function U(C,X){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):X.toString(36)}function w(){}function Ve(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,X,nt,W,ct){var It=typeof C;(It==="undefined"||It==="boolean")&&(C=null);var yt=!1;if(C===null)yt=!0;else switch(It){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(C.$$typeof){case r:case t:yt=!0;break;case E:return yt=C._init,re(yt(C._payload),X,nt,W,ct)}}if(yt)return ct=ct(C),yt=W===""?"."+U(C,0):W,vt(ct)?(nt="",yt!=null&&(nt=yt.replace(V,"$&/")+"/"),re(ct,X,nt,"",function(Bn){return Bn})):ct!=null&&(R(ct)&&(ct=S(ct,nt+(ct.key==null||C&&C.key===ct.key?"":(""+ct.key).replace(V,"$&/")+"/")+yt)),X.push(ct)),1;yt=0;var Re=W===""?".":W+":";if(vt(C))for(var Zt=0;Zt<C.length;Zt++)W=C[Zt],It=Re+U(W,Zt),yt+=re(W,X,nt,It,ct);else if(Zt=k(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(W=C.next()).done;)W=W.value,It=Re+U(W,Zt++),yt+=re(W,X,nt,It,ct);else if(It==="object"){if(typeof C.then=="function")return re(Ve(C),X,nt,W,ct);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return yt}function H(C,X,nt){if(C==null)return C;var W=[],ct=0;return re(C,W,"","",function(It){return X.call(nt,It,ct++)}),W}function tt(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Lt(){}return St.Children={map:H,forEach:function(C,X,nt){H(C,function(){X.apply(this,arguments)},nt)},count:function(C){var X=0;return H(C,function(){X++}),X},toArray:function(C){return H(C,function(X){return X})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},St.Component=$,St.Fragment=n,St.Profiler=o,St.PureComponent=Et,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,St.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ft.H.useMemoCache(C)}},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cloneElement=function(C,X,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=Z({},C.props),ct=C.key,It=void 0;if(X!=null)for(yt in X.ref!==void 0&&(It=void 0),X.key!==void 0&&(ct=""+X.key),X)!bt.call(X,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&X.ref===void 0||(W[yt]=X[yt]);var yt=arguments.length-2;if(yt===1)W.children=nt;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];W.children=Re}return N(C.type,ct,void 0,void 0,It,W)},St.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},St.createElement=function(C,X,nt){var W,ct={},It=null;if(X!=null)for(W in X.key!==void 0&&(It=""+X.key),X)bt.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ct[W]=X[W]);var yt=arguments.length-2;if(yt===1)ct.children=nt;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];ct.children=Re}if(C&&C.defaultProps)for(W in yt=C.defaultProps,yt)ct[W]===void 0&&(ct[W]=yt[W]);return N(C,It,void 0,void 0,null,ct)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:g,render:C}},St.isValidElement=R,St.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:tt}},St.memo=function(C,X){return{$$typeof:y,type:C,compare:X===void 0?null:X}},St.startTransition=function(C){var X=ft.T,nt={};ft.T=nt;try{var W=C(),ct=ft.S;ct!==null&&ct(nt,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Lt,lt)}catch(It){lt(It)}finally{ft.T=X}},St.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},St.use=function(C){return ft.H.use(C)},St.useActionState=function(C,X,nt){return ft.H.useActionState(C,X,nt)},St.useCallback=function(C,X){return ft.H.useCallback(C,X)},St.useContext=function(C){return ft.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,X){return ft.H.useDeferredValue(C,X)},St.useEffect=function(C,X,nt){var W=ft.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,X)},St.useId=function(){return ft.H.useId()},St.useImperativeHandle=function(C,X,nt){return ft.H.useImperativeHandle(C,X,nt)},St.useInsertionEffect=function(C,X){return ft.H.useInsertionEffect(C,X)},St.useLayoutEffect=function(C,X){return ft.H.useLayoutEffect(C,X)},St.useMemo=function(C,X){return ft.H.useMemo(C,X)},St.useOptimistic=function(C,X){return ft.H.useOptimistic(C,X)},St.useReducer=function(C,X,nt){return ft.H.useReducer(C,X,nt)},St.useRef=function(C){return ft.H.useRef(C)},St.useState=function(C){return ft.H.useState(C)},St.useSyncExternalStore=function(C,X,nt){return ft.H.useSyncExternalStore(C,X,nt)},St.useTransition=function(){return ft.H.useTransition()},St.version="19.1.0",St}var my;function im(){return my||(my=1,dd.exports=aS()),dd.exports}var Dn=im();const oS=Jv(Dn);var md={exports:{}},ul={},gd={exports:{}},pd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function lS(){return gy||(gy=1,function(r){function t(H,tt){var lt=H.length;H.push(tt);t:for(;0<lt;){var Lt=lt-1>>>1,C=H[Lt];if(0<o(C,tt))H[Lt]=tt,H[lt]=C,lt=Lt;else break t}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var tt=H[0],lt=H.pop();if(lt!==tt){H[0]=lt;t:for(var Lt=0,C=H.length,X=C>>>1;Lt<X;){var nt=2*(Lt+1)-1,W=H[nt],ct=nt+1,It=H[ct];if(0>o(W,lt))ct<C&&0>o(It,W)?(H[Lt]=It,H[ct]=lt,Lt=ct):(H[Lt]=W,H[nt]=lt,Lt=nt);else if(ct<C&&0>o(It,lt))H[Lt]=It,H[ct]=lt,Lt=ct;else break t}}return tt}function o(H,tt){var lt=H.sortIndex-tt.sortIndex;return lt!==0?lt:H.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],y=[],E=1,I=null,k=3,G=!1,Z=!1,et=!1,$=!1,pt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function vt(H){for(var tt=n(y);tt!==null;){if(tt.callback===null)s(y);else if(tt.startTime<=H)s(y),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=n(y)}}function ft(H){if(et=!1,vt(H),!Z)if(n(p)!==null)Z=!0,bt||(bt=!0,U());else{var tt=n(y);tt!==null&&re(ft,tt.startTime-H)}}var bt=!1,N=-1,S=5,R=-1;function O(){return $?!0:!(r.unstable_now()-R<S)}function V(){if($=!1,bt){var H=r.unstable_now();R=H;var tt=!0;try{t:{Z=!1,et&&(et=!1,Et(N),N=-1),G=!0;var lt=k;try{e:{for(vt(H),I=n(p);I!==null&&!(I.expirationTime>H&&O());){var Lt=I.callback;if(typeof Lt=="function"){I.callback=null,k=I.priorityLevel;var C=Lt(I.expirationTime<=H);if(H=r.unstable_now(),typeof C=="function"){I.callback=C,vt(H),tt=!0;break e}I===n(p)&&s(p),vt(H)}else s(p);I=n(p)}if(I!==null)tt=!0;else{var X=n(y);X!==null&&re(ft,X.startTime-H),tt=!1}}break t}finally{I=null,k=lt,G=!1}tt=void 0}}finally{tt?U():bt=!1}}}var U;if(typeof ot=="function")U=function(){ot(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ve=w.port2;w.port1.onmessage=V,U=function(){Ve.postMessage(null)}}else U=function(){pt(V,0)};function re(H,tt){N=pt(function(){H(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_next=function(H){switch(k){case 1:case 2:case 3:var tt=3;break;default:tt=k}var lt=k;k=tt;try{return H()}finally{k=lt}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=k;k=H;try{return tt()}finally{k=lt}},r.unstable_scheduleCallback=function(H,tt,lt){var Lt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Lt+lt:Lt):lt=Lt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,H={id:E++,callback:tt,priorityLevel:H,startTime:lt,expirationTime:C,sortIndex:-1},lt>Lt?(H.sortIndex=lt,t(y,H),n(p)===null&&H===n(y)&&(et?(Et(N),N=-1):et=!0,re(ft,lt-Lt))):(H.sortIndex=C,t(p,H),Z||G||(Z=!0,bt||(bt=!0,U()))),H},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(H){var tt=k;return function(){var lt=k;k=tt;try{return H.apply(this,arguments)}finally{k=lt}}}}(pd)),pd}var py;function uS(){return py||(py=1,gd.exports=lS()),gd.exports}var _d={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function cS(){if(_y)return je;_y=1;var r=im();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,je.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,E)},je.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},je.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},je.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},je.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,I=g(E,y.crossOrigin),k=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:I,integrity:k,fetchPriority:G}):E==="script"&&s.d.X(p,{crossOrigin:I,integrity:k,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},je.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},je.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,I=g(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:I,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},je.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},je.requestFormReset=function(p){s.d.r(p)},je.unstable_batchedUpdates=function(p,y){return p(y)},je.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},je.useFormStatus=function(){return f.H.useHostTransitionStatus()},je.version="19.1.0",je}var yy;function hS(){if(yy)return _d.exports;yy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_d.exports=cS(),_d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function fS(){if(vy)return ul;vy=1;var r=uS(),t=im(),n=hS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,I=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),pt=Symbol.for("react.provider"),Et=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case $:return"Profiler";case et:return"StrictMode";case ft:return"Suspense";case bt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case ot:return(e.displayName||"Context")+".Provider";case Et:return(e._context.displayName||"Context")+".Consumer";case vt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:Ve(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return Ve(e(i))}catch{}}return null}var re=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Lt=[],C=-1;function X(e){return{current:e}}function nt(e){0>C||(e.current=Lt[C],Lt[C]=null,C--)}function W(e,i){C++,Lt[C]=e.current,e.current=i}var ct=X(null),It=X(null),yt=X(null),Re=X(null);function Zt(e,i){switch(W(yt,i),W(It,e),W(ct,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?z_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=z_(i),e=B_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ct),W(ct,e)}function Bn(){nt(ct),nt(It),nt(yt)}function Yi(e){e.memoizedState!==null&&W(Re,e);var i=ct.current,a=B_(i,e.type);i!==a&&(W(It,e),W(ct,a))}function di(e){It.current===e&&(nt(ct),nt(It)),Re.current===e&&(nt(Re),il._currentValue=lt)}var qr=Object.prototype.hasOwnProperty,Hr=r.unstable_scheduleCallback,jr=r.unstable_cancelCallback,Ja=r.unstable_shouldYield,Ll=r.unstable_requestPaint,mn=r.unstable_now,hh=r.unstable_getCurrentPriorityLevel,to=r.unstable_ImmediatePriority,zs=r.unstable_UserBlockingPriority,Gr=r.unstable_NormalPriority,fh=r.unstable_LowPriority,Bs=r.unstable_IdlePriority,eo=r.log,zl=r.unstable_setDisableYieldValue,se=null,jt=null;function rn(e){if(typeof eo=="function"&&zl(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(se,e)}catch{}}var qe=Math.clz32?Math.clz32:Fr,Bl=Math.log,dh=Math.LN2;function Fr(e){return e>>>=0,e===0?32:31-(Bl(e)/dh|0)|0}var Qr=256,Kr=4194304;function On(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qs(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=On(l):(v&=T,v!==0?h=On(v):a||(a=T&~e,a!==0&&(h=On(a))))):(T=l&~d,T!==0?h=On(T):v!==0?h=On(v):a||(a=l&~e,a!==0&&(h=On(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Yr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function no(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function io(){var e=Qr;return Qr<<=1,(Qr&4194048)===0&&(Qr=256),e}function ro(){var e=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),e}function mi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function gi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function so(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var j=31-qe(a),Q=1<<j;T[j]=0,b[j]=-1;var z=L[j];if(z!==null)for(L[j]=null,j=0;j<z.length;j++){var B=z[j];B!==null&&(B.lane&=-536870913)}a&=~Q}l!==0&&qn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function qn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-qe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function ao(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-qe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Xi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $i(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:sy(e.type))}function ql(e,i){var a=tt.p;try{return tt.p=e,i()}finally{tt.p=a}}var te=Math.random().toString(36).slice(2),ye="__reactFiber$"+te,fe="__reactProps$"+te,gn="__reactContainer$"+te,oo="__reactEvents$"+te,mh="__reactListeners$"+te,Zi="__reactHandles$"+te,Hl="__reactResources$"+te,Xr="__reactMarker$"+te;function Wi(e){delete e[ye],delete e[fe],delete e[oo],delete e[mh],delete e[Zi]}function pi(e){var i=e[ye];if(i)return i;for(var a=e.parentNode;a;){if(i=a[gn]||a[ye]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=G_(e);e!==null;){if(a=e[ye])return a;e=G_(e)}return i}e=a,a=e.parentNode}return null}function Hn(e){if(e=e[ye]||e[gn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function jn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Xe(e){var i=e[Hl];return i||(i=e[Hl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function le(e){e[Xr]=!0}var lo=new Set,js={};function Nn(e,i){_i(e,i),_i(e+"Capture",i)}function _i(e,i){for(js[e]=i,e=0;e<i.length;e++)lo.add(i[e])}var jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gl={},$r={};function Fl(e){return qr.call($r,e)?!0:qr.call(Gl,e)?!1:jl.test(e)?$r[e]=!0:(Gl[e]=!0,!1)}function Ji(e,i,a){if(Fl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Gn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Me(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var Zr,Ql;function yi(e){if(Zr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Zr=i&&i[1]||"",Ql=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+e+Ql}var Gs=!1;function Fs(e,i){if(!e||Gs)return"";Gs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var b=v.split(`
`),L=T.split(`
`);for(h=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===b.length||h===L.length)for(l=b.length-1,h=L.length-1;1<=l&&0<=h&&b[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(b[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||b[l]!==L[h]){var j=`
`+b[l].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=l&&0<=h);break}}}finally{Gs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?yi(a):""}function uo(e){switch(e.tag){case 26:case 27:case 5:return yi(e.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return Fs(e.type,!1);case 11:return Fs(e.type.render,!1);case 1:return Fs(e.type,!0);case 31:return yi("Activity");default:return""}}function Qs(e){try{var i="";do i+=uo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function co(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function gh(e){var i=co(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ks(e){e._valueTracker||(e._valueTracker=gh(e))}function ho(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=co(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ph=/[\n"\\]/g;function de(e){return e.replace(ph,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function sn(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+$e(i)):e.value!==""+$e(i)&&(e.value=""+$e(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?tr(e,v,$e(i)):a!=null?tr(e,v,$e(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+$e(T):e.removeAttribute("name")}function Jr(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+$e(a):"",i=i!=null?""+$e(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function tr(e,i,a){i==="number"&&Wr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function vi(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+$e(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Qt(e,i,a){if(i!=null&&(i=""+$e(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+$e(a):""}function ts(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(re(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=$e(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function pn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||es.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function fo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Kl(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Kl(e,d,i[d])}function mo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _h=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ys(e){return yh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ti=null;function _n(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ei=null,Ai=null;function go(e){var i=Hn(e);if(i&&(e=i.stateNode)){var a=e[fe]||null;t:switch(e=i.stateNode,i.type){case"input":if(sn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+de(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[fe]||null;if(!h)throw Error(s(90));sn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&ho(l)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&vi(e,!!a.multiple,i,!1)}}}var Fn=!1;function Yl(e,i,a){if(Fn)return e(i,a);Fn=!0;try{var l=e(i);return l}finally{if(Fn=!1,(Ei!==null||Ai!==null)&&(qu(),Ei&&(i=Ei,e=Ai,Ai=Ei=null,go(i),e)))for(i=0;i<e.length;i++)go(e[i])}}function ns(e,i){var a=e.stateNode;if(a===null)return null;var l=a[fe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Vn)try{var is={};Object.defineProperty(is,"passive",{get:function(){yn=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{yn=!1}var Qn=null,er=null,Si=null;function po(){if(Si)return Si;var e,i=er,a=i.length,l,h="value"in Qn?Qn.value:Qn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Si=h.slice(e,1<l?1-l:void 0)}function Kn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Yn(){return!0}function _o(){return!1}function we(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yn:_o,this.isPropagationStopped=_o,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),i}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=we(qt),rs=E({},qt,{view:0,detail:0}),Xl=we(rs),$s,Zs,Xn,ss=E({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&e.type==="mousemove"?($s=e.screenX-Xn.screenX,Zs=e.screenY-Xn.screenY):Zs=$s=0,Xn=e),$s)},movementY:function(e){return"movementY"in e?e.movementY:Zs}}),vn=we(ss),$l=E({},ss,{dataTransfer:0}),vh=we($l),as=E({},rs,{relatedTarget:0}),Ws=we(as),yo=E({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Js=we(yo),Zl=E({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ta=we(Zl),Th=E({},qt,{data:0}),vo=we(Th),os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function To(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Jl[e])?!!i[e]:!1}function ls(){return To}var tu=E({},rs,{key:function(e){if(e.key){var i=os[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Kn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(e){return e.type==="keypress"?Kn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ea=we(tu),eu=E({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eo=we(eu),bi=E({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),nu=we(bi),iu=E({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),ru=we(iu),su=E({},ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),na=we(su),Ze=E({},qt,{newState:0,oldState:0}),au=we(Ze),ou=[9,13,27,32],$n=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,_=Vn&&(!$n||u&&8<u&&11>=u),A=" ",P=!1;function q(e,i){switch(e){case"keyup":return ou.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function ve(e,i){switch(e){case"compositionend":return J(i);case"keypress":return i.which!==32?null:(P=!0,A);case"textInput":return e=i.data,e===A&&P?null:e;default:return null}}function Ut(e,i){if(Mt)return e==="compositionend"||!$n&&q(e,i)?(e=po(),Si=er=Qn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ie[e.type]:i==="textarea"}function Ri(e,i,a,l){Ei?Ai?Ai.push(l):Ai=[l]:Ei=l,i=Ku(i,"onChange"),0<i.length&&(a=new Xs("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ue=null,Zn=null;function Ao(e){U_(e,0)}function lu(e){var i=jn(e);if(ho(i))return e}function eg(e,i){if(e==="change")return i}var ng=!1;if(Vn){var Eh;if(Vn){var Ah="oninput"in document;if(!Ah){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),Ah=typeof ig.oninput=="function"}Eh=Ah}else Eh=!1;ng=Eh&&(!document.documentMode||9<document.documentMode)}function rg(){Ue&&(Ue.detachEvent("onpropertychange",sg),Zn=Ue=null)}function sg(e){if(e.propertyName==="value"&&lu(Zn)){var i=[];Ri(i,Zn,e,_n(e)),Yl(Ao,i)}}function U0(e,i,a){e==="focusin"?(rg(),Ue=i,Zn=a,Ue.attachEvent("onpropertychange",sg)):e==="focusout"&&rg()}function k0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lu(Zn)}function P0(e,i){if(e==="click")return lu(i)}function x0(e,i){if(e==="input"||e==="change")return lu(i)}function L0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var an=typeof Object.is=="function"?Object.is:L0;function So(e,i){if(an(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!qr.call(i,h)||!an(e[h],i[h]))return!1}return!0}function ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function og(e,i){var a=ag(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ag(a)}}function lg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?lg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ug(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Wr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Wr(e.document)}return i}function Sh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var z0=Vn&&"documentMode"in document&&11>=document.documentMode,ia=null,bh=null,bo=null,Rh=!1;function cg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rh||ia==null||ia!==Wr(l)||(l=ia,"selectionStart"in l&&Sh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bo&&So(bo,l)||(bo=l,l=Ku(bh,"onSelect"),0<l.length&&(i=new Xs("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ia)))}function us(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ra={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},wh={},hg={};Vn&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function cs(e){if(wh[e])return wh[e];if(!ra[e])return e;var i=ra[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in hg)return wh[e]=i[a];return e}var fg=cs("animationend"),dg=cs("animationiteration"),mg=cs("animationstart"),B0=cs("transitionrun"),q0=cs("transitionstart"),H0=cs("transitioncancel"),gg=cs("transitionend"),pg=new Map,Ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ih.push("scrollEnd");function Mn(e,i){pg.set(e,i),Nn(i,[e])}var _g=new WeakMap;function Tn(e,i){if(typeof e=="object"&&e!==null){var a=_g.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Qs(i)},_g.set(e,i),i)}return{value:e,source:i,stack:Qs(i)}}var En=[],sa=0,Ch=0;function uu(){for(var e=sa,i=Ch=sa=0;i<e;){var a=En[i];En[i++]=null;var l=En[i];En[i++]=null;var h=En[i];En[i++]=null;var d=En[i];if(En[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&yg(a,h,d)}}function cu(e,i,a,l){En[sa++]=e,En[sa++]=i,En[sa++]=a,En[sa++]=l,Ch|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Dh(e,i,a,l){return cu(e,i,a,l),hu(e)}function aa(e,i){return cu(e,null,null,i),hu(e)}function yg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-qe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function hu(e){if(50<Xo)throw Xo=0,Pf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var oa={};function j0(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,i,a,l){return new j0(e,i,a,l)}function Oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wi(e,i){var a=e.alternate;return a===null?(a=on(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function vg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function fu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")Oh(e)&&(v=1);else if(typeof e=="string")v=FA(e,a,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=on(31,a,i,h),e.elementType=R,e.lanes=d,e;case Z:return hs(a.children,h,d,i);case et:v=8,h|=24;break;case $:return e=on(12,a,i,h|2),e.elementType=$,e.lanes=d,e;case ft:return e=on(13,a,i,h),e.elementType=ft,e.lanes=d,e;case bt:return e=on(19,a,i,h),e.elementType=bt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:case ot:v=10;break t;case Et:v=9;break t;case vt:v=11;break t;case N:v=14;break t;case S:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=on(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function hs(e,i,a,l){return e=on(7,e,l,i),e.lanes=a,e}function Nh(e,i,a){return e=on(6,e,null,i),e.lanes=a,e}function Vh(e,i,a){return i=on(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var la=[],ua=0,du=null,mu=0,An=[],Sn=0,fs=null,Ii=1,Ci="";function ds(e,i){la[ua++]=mu,la[ua++]=du,du=e,mu=i}function Tg(e,i,a){An[Sn++]=Ii,An[Sn++]=Ci,An[Sn++]=fs,fs=e;var l=Ii;e=Ci;var h=32-qe(l)-1;l&=~(1<<h),a+=1;var d=32-qe(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ii=1<<32-qe(i)+h|a<<h|l,Ci=d+e}else Ii=1<<d|a<<h|l,Ci=e}function Mh(e){e.return!==null&&(ds(e,1),Tg(e,1,0))}function Uh(e){for(;e===du;)du=la[--ua],la[ua]=null,mu=la[--ua],la[ua]=null;for(;e===fs;)fs=An[--Sn],An[Sn]=null,Ci=An[--Sn],An[Sn]=null,Ii=An[--Sn],An[Sn]=null}var We=null,ae=null,zt=!1,ms=null,Wn=!1,kh=Error(s(519));function gs(e){var i=Error(s(418,""));throw Io(Tn(i,e)),kh}function Eg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[ye]=e,i[fe]=l,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<Zo.length;a++)Ot(Zo[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),Jr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ks(i);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),ts(i,l.value,l.defaultValue,l.children),Ks(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||L_(i.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),l.onScroll!=null&&Ot("scroll",i),l.onScrollEnd!=null&&Ot("scrollend",i),l.onClick!=null&&(i.onclick=Yu),i=!0):i=!1,i||gs(e)}function Ag(e){for(We=e.return;We;)switch(We.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:We=We.return}}function Ro(e){if(e!==We)return!1;if(!zt)return Ag(e),zt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Wf(e.type,e.memoizedProps)),a=!a),a&&ae&&gs(e),Ag(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ae=kn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ae=null}}else i===27?(i=ae,_r(e.type)?(e=nd,nd=null,ae=e):ae=i):ae=We?kn(e.stateNode.nextSibling):null;return!0}function wo(){ae=We=null,zt=!1}function Sg(){var e=ms;return e!==null&&(en===null?en=e:en.push.apply(en,e),ms=null),e}function Io(e){ms===null?ms=[e]:ms.push(e)}var Ph=X(null),ps=null,Di=null;function nr(e,i,a){W(Ph,i._currentValue),i._currentValue=a}function Oi(e){e._currentValue=Ph.current,nt(Ph)}function xh(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Lh(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var b=0;b<i.length;b++)if(T.context===i[b]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),xh(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),xh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Co(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;an(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Re.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}h=h.return}e!==null&&Lh(i,e,a,l),i.flags|=262144}function gu(e){for(e=e.firstContext;e!==null;){if(!an(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _s(e){ps=e,Di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return bg(ps,e)}function pu(e,i){return ps===null&&_s(e),bg(e,i)}function bg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Di===null){if(e===null)throw Error(s(308));Di=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Di=Di.next=i;return a}var G0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},F0=r.unstable_scheduleCallback,Q0=r.unstable_NormalPriority,Ee={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zh(){return{controller:new G0,data:new Map,refCount:0}}function Do(e){e.refCount--,e.refCount===0&&F0(Q0,function(){e.controller.abort()})}var Oo=null,Bh=0,ca=0,ha=null;function K0(e,i){if(Oo===null){var a=Oo=[];Bh=0,ca=jf(),ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Bh++,i.then(Rg,Rg),i}function Rg(){if(--Bh===0&&Oo!==null){ha!==null&&(ha.status="fulfilled");var e=Oo;Oo=null,ca=0,ha=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Y0(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var wg=H.S;H.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&K0(e,i),wg!==null&&wg(e,i)};var ys=X(null);function qh(){var e=ys.current;return e!==null?e:Wt.pooledCache}function _u(e,i){i===null?W(ys,ys.current):W(ys,i.pool)}function Ig(){var e=qh();return e===null?null:{parent:Ee._currentValue,pool:e}}var No=Error(s(460)),Cg=Error(s(474)),yu=Error(s(542)),Hh={then:function(){}};function Dg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vu(){}function Og(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(vu,vu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Vg(e),e;default:if(typeof i.status=="string")i.then(vu,vu);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Vg(e),e}throw Vo=i,No}}var Vo=null;function Ng(){if(Vo===null)throw Error(s(459));var e=Vo;return Vo=null,e}function Vg(e){if(e===No||e===yu)throw Error(s(483))}var ir=!1;function jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=hu(e),yg(e,null,a),i}return cu(e,l,i,a),hu(e)}function Mo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,ao(e,a)}}function Fh(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Qh=!1;function Uo(){if(Qh){var e=ha;if(e!==null)throw e}}function ko(e,i,a,l){Qh=!1;var h=e.updateQueue;ir=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var b=T,L=b.next;b.next=null,v===null?d=L:v.next=L,v=b;var j=e.alternate;j!==null&&(j=j.updateQueue,T=j.lastBaseUpdate,T!==v&&(T===null?j.firstBaseUpdate=L:T.next=L,j.lastBaseUpdate=b))}if(d!==null){var Q=h.baseState;v=0,j=L=b=null,T=d;do{var z=T.lane&-536870913,B=z!==T.lane;if(B?(kt&z)===z:(l&z)===z){z!==0&&z===ca&&(Qh=!0),j!==null&&(j=j.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var mt=e,ht=T;z=i;var Xt=a;switch(ht.tag){case 1:if(mt=ht.payload,typeof mt=="function"){Q=mt.call(Xt,Q,z);break t}Q=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ht.payload,z=typeof mt=="function"?mt.call(Xt,Q,z):mt,z==null)break t;Q=E({},Q,z);break t;case 2:ir=!0}}z=T.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},j===null?(L=j=B,b=Q):j=j.next=B,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;B=T,T=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);j===null&&(b=Q),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=j,d===null&&(h.shared.lanes=0),dr|=v,e.lanes=v,e.memoizedState=Q}}function Mg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Ug(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Mg(a[e],i)}var fa=X(null),Tu=X(0);function kg(e,i){e=xi,W(Tu,e),W(fa,i),xi=e|i.baseLanes}function Kh(){W(Tu,xi),W(fa,fa.current)}function Yh(){xi=Tu.current,nt(fa),nt(Tu)}var ar=0,Rt=null,Kt=null,me=null,Eu=!1,da=!1,vs=!1,Au=0,Po=0,ma=null,X0=0;function ue(){throw Error(s(321))}function Xh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!an(e[a],i[a]))return!1;return!0}function $h(e,i,a,l,h,d){return ar=d,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?yp:vp,vs=!1,d=a(l,h),vs=!1,da&&(d=xg(i,a,l,h)),Pg(e),d}function Pg(e){H.H=Cu;var i=Kt!==null&&Kt.next!==null;if(ar=0,me=Kt=Rt=null,Eu=!1,Po=0,ma=null,i)throw Error(s(300));e===null||Ce||(e=e.dependencies,e!==null&&gu(e)&&(Ce=!0))}function xg(e,i,a,l){Rt=e;var h=0;do{if(da&&(ma=null),Po=0,da=!1,25<=h)throw Error(s(301));if(h+=1,me=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=nA,d=i(a,l)}while(da);return d}function $0(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?xo(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Rt.flags|=1024),i}function Zh(){var e=Au!==0;return Au=0,e}function Wh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Jh(e){if(Eu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Eu=!1}ar=0,me=Kt=Rt=null,da=!1,Po=Au=0,ma=null}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?Rt.memoizedState=me=e:me=me.next=e,me}function ge(){if(Kt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=me===null?Rt.memoizedState:me.next;if(i!==null)me=i,Kt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},me===null?Rt.memoizedState=me=e:me=me.next=e}return me}function tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(e){var i=Po;return Po+=1,ma===null&&(ma=[]),e=Og(ma,e,i),i=Rt,(me===null?i.memoizedState:me.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?yp:vp),e}function Su(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xo(e);if(e.$$typeof===ot)return He(e)}throw Error(s(438,String(e)))}function ef(e){var i=null,a=Rt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=tf(),Rt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function Ni(e,i){return typeof i=="function"?i(e):i}function bu(e){var i=ge();return nf(i,Kt,e)}function nf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,b=null,L=i,j=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(kt&Q)===Q:(ar&Q)===Q){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===ca&&(j=!0);else if((ar&z)===z){L=L.next,z===ca&&(j=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(T=b=Q,v=d):b=b.next=Q,Rt.lanes|=z,dr|=z;Q=L.action,vs&&a(d,Q),d=L.hasEagerState?L.eagerState:a(d,Q)}else z={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(T=b=z,v=d):b=b.next=z,Rt.lanes|=Q,dr|=Q;L=L.next}while(L!==null&&L!==i);if(b===null?v=d:b.next=T,!an(d,e.memoizedState)&&(Ce=!0,j&&(a=ha,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=b,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function rf(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);an(d,i.memoizedState)||(Ce=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Lg(e,i,a){var l=Rt,h=ge(),d=zt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!an((Kt||h).memoizedState,a);v&&(h.memoizedState=a,Ce=!0),h=h.queue;var T=qg.bind(null,l,h,e);if(Lo(2048,8,T,[e]),h.getSnapshot!==i||v||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,ga(9,Ru(),Bg.bind(null,l,h,a,i),null),Wt===null)throw Error(s(349));d||(ar&124)!==0||zg(l,i,a)}return a}function zg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Rt.updateQueue,i===null?(i=tf(),Rt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Bg(e,i,a,l){i.value=a,i.getSnapshot=l,Hg(i)&&jg(e)}function qg(e,i,a){return a(function(){Hg(i)&&jg(e)})}function Hg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!an(e,a)}catch{return!0}}function jg(e){var i=aa(e,2);i!==null&&fn(i,e,2)}function sf(e){var i=Je();if(typeof e=="function"){var a=e;if(e=a(),vs){rn(!0);try{a()}finally{rn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:e},i}function Gg(e,i,a,l){return e.baseState=a,nf(e,Kt,typeof l=="function"?l:Ni)}function Z0(e,i,a,l,h){if(Iu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};H.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Fg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Fg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=H.T,v={};H.T=v;try{var T=a(h,l),b=H.S;b!==null&&b(v,T),Qg(e,i,T)}catch(L){af(e,i,L)}finally{H.T=d}}else try{d=a(h,l),Qg(e,i,d)}catch(L){af(e,i,L)}}function Qg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Kg(e,i,l)},function(l){return af(e,i,l)}):Kg(e,i,a)}function Kg(e,i,a){i.status="fulfilled",i.value=a,Yg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Fg(e,a)))}function af(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Yg(i),i=i.next;while(i!==l)}e.action=null}function Yg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Xg(e,i){return i}function $g(e,i){if(zt){var a=Wt.formState;if(a!==null){t:{var l=Rt;if(zt){if(ae){e:{for(var h=ae,d=Wn;h.nodeType!==8;){if(!d){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ae=kn(h.nextSibling),l=h.data==="F!";break t}}gs(l)}l=!1}l&&(i=a[0])}}return a=Je(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:i},a.queue=l,a=gp.bind(null,Rt,l),l.dispatch=a,l=sf(!1),d=hf.bind(null,Rt,!1,l.queue),l=Je(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=Z0.bind(null,Rt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Zg(e){var i=ge();return Wg(i,Kt,e)}function Wg(e,i,a){if(i=nf(e,i,Xg)[0],e=bu(Ni)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=xo(i)}catch(v){throw v===No?yu:v}else l=i;i=ge();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Rt.flags|=2048,ga(9,Ru(),W0.bind(null,h,a),null)),[l,d,e]}function W0(e,i){e.action=i}function Jg(e){var i=ge(),a=Kt;if(a!==null)return Wg(i,a,e);ge(),i=i.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function ga(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Rt.updateQueue,i===null&&(i=tf(),Rt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Ru(){return{destroy:void 0,resource:void 0}}function tp(){return ge().memoizedState}function wu(e,i,a,l){var h=Je();l=l===void 0?null:l,Rt.flags|=e,h.memoizedState=ga(1|i,Ru(),a,l)}function Lo(e,i,a,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Kt!==null&&l!==null&&Xh(l,Kt.memoizedState.deps)?h.memoizedState=ga(i,d,a,l):(Rt.flags|=e,h.memoizedState=ga(1|i,d,a,l))}function ep(e,i){wu(8390656,8,e,i)}function np(e,i){Lo(2048,8,e,i)}function ip(e,i){return Lo(4,2,e,i)}function rp(e,i){return Lo(4,4,e,i)}function sp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ap(e,i,a){a=a!=null?a.concat([e]):null,Lo(4,4,sp.bind(null,i,e),a)}function of(){}function op(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Xh(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function lp(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Xh(i,l[1]))return l[0];if(l=e(),vs){rn(!0);try{e()}finally{rn(!1)}}return a.memoizedState=[l,i],l}function lf(e,i,a){return a===void 0||(ar&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=h_(),Rt.lanes|=e,dr|=e,a)}function up(e,i,a,l){return an(a,i)?a:fa.current!==null?(e=lf(e,a,l),an(e,i)||(Ce=!0),e):(ar&42)===0?(Ce=!0,e.memoizedState=a):(e=h_(),Rt.lanes|=e,dr|=e,i)}function cp(e,i,a,l,h){var d=tt.p;tt.p=d!==0&&8>d?d:8;var v=H.T,T={};H.T=T,hf(e,!1,i,a);try{var b=h(),L=H.S;if(L!==null&&L(T,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=Y0(b,l);zo(e,i,j,hn(e))}else zo(e,i,l,hn(e))}catch(Q){zo(e,i,{then:function(){},status:"rejected",reason:Q},hn())}finally{tt.p=d,H.T=v}}function J0(){}function uf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=hp(e).queue;cp(e,h,i,lt,a===null?J0:function(){return fp(e),a(l)})}function hp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:lt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function fp(e){var i=hp(e).next.queue;zo(e,i,{},hn())}function cf(){return He(il)}function dp(){return ge().memoizedState}function mp(){return ge().memoizedState}function tA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=hn();e=rr(a);var l=sr(i,e,a);l!==null&&(fn(l,i,a),Mo(l,i,a)),i={cache:zh()},e.payload=i;return}i=i.return}}function eA(e,i,a){var l=hn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Iu(e)?pp(i,a):(a=Dh(e,i,a,l),a!==null&&(fn(a,e,l),_p(a,i,l)))}function gp(e,i,a){var l=hn();zo(e,i,a,l)}function zo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Iu(e))pp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,an(T,v))return cu(e,i,h,0),Wt===null&&uu(),!1}catch{}finally{}if(a=Dh(e,i,h,l),a!==null)return fn(a,e,l),_p(a,i,l),!0}return!1}function hf(e,i,a,l){if(l={lane:2,revertLane:jf(),action:l,hasEagerState:!1,eagerState:null,next:null},Iu(e)){if(i)throw Error(s(479))}else i=Dh(e,a,l,2),i!==null&&fn(i,e,2)}function Iu(e){var i=e.alternate;return e===Rt||i!==null&&i===Rt}function pp(e,i){da=Eu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function _p(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,ao(e,a)}}var Cu={readContext:He,use:Su,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},yp={readContext:He,use:Su,useCallback:function(e,i){return Je().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:ep,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,wu(4194308,4,sp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return wu(4194308,4,e,i)},useInsertionEffect:function(e,i){wu(4,2,e,i)},useMemo:function(e,i){var a=Je();i=i===void 0?null:i;var l=e();if(vs){rn(!0);try{e()}finally{rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=Je();if(a!==void 0){var h=a(i);if(vs){rn(!0);try{a(i)}finally{rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=eA.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var i=Je();return e={current:e},i.memoizedState=e},useState:function(e){e=sf(e);var i=e.queue,a=gp.bind(null,Rt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:of,useDeferredValue:function(e,i){var a=Je();return lf(a,e,i)},useTransition:function(){var e=sf(!1);return e=cp.bind(null,Rt,e.queue,!0,!1),Je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Rt,h=Je();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(kt&124)!==0||zg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ep(qg.bind(null,l,d,e),[e]),l.flags|=2048,ga(9,Ru(),Bg.bind(null,l,d,a,i),null),a},useId:function(){var e=Je(),i=Wt.identifierPrefix;if(zt){var a=Ci,l=Ii;a=(l&~(1<<32-qe(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Au++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=X0++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:cf,useFormState:$g,useActionState:$g,useOptimistic:function(e){var i=Je();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=hf.bind(null,Rt,!0,a),a.dispatch=i,[e,i]},useMemoCache:ef,useCacheRefresh:function(){return Je().memoizedState=tA.bind(null,Rt)}},vp={readContext:He,use:Su,useCallback:op,useContext:He,useEffect:np,useImperativeHandle:ap,useInsertionEffect:ip,useLayoutEffect:rp,useMemo:lp,useReducer:bu,useRef:tp,useState:function(){return bu(Ni)},useDebugValue:of,useDeferredValue:function(e,i){var a=ge();return up(a,Kt.memoizedState,e,i)},useTransition:function(){var e=bu(Ni)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:xo(e),i]},useSyncExternalStore:Lg,useId:dp,useHostTransitionStatus:cf,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,i){var a=ge();return Gg(a,Kt,e,i)},useMemoCache:ef,useCacheRefresh:mp},nA={readContext:He,use:Su,useCallback:op,useContext:He,useEffect:np,useImperativeHandle:ap,useInsertionEffect:ip,useLayoutEffect:rp,useMemo:lp,useReducer:rf,useRef:tp,useState:function(){return rf(Ni)},useDebugValue:of,useDeferredValue:function(e,i){var a=ge();return Kt===null?lf(a,e,i):up(a,Kt.memoizedState,e,i)},useTransition:function(){var e=rf(Ni)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:xo(e),i]},useSyncExternalStore:Lg,useId:dp,useHostTransitionStatus:cf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e,i){var a=ge();return Kt!==null?Gg(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ef,useCacheRefresh:mp},pa=null,Bo=0;function Du(e){var i=Bo;return Bo+=1,pa===null&&(pa=[]),Og(pa,e,i)}function qo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ou(e,i){throw i.$$typeof===I?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Tp(e){var i=e._init;return i(e._payload)}function Ep(e){function i(M,D){if(e){var x=M.deletions;x===null?(M.deletions=[D],M.flags|=16):x.push(D)}}function a(M,D){if(!e)return null;for(;D!==null;)i(M,D),D=D.sibling;return null}function l(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function h(M,D){return M=wi(M,D),M.index=0,M.sibling=null,M}function d(M,D,x){return M.index=x,e?(x=M.alternate,x!==null?(x=x.index,x<D?(M.flags|=67108866,D):x):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function v(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function T(M,D,x,F){return D===null||D.tag!==6?(D=Nh(x,M.mode,F),D.return=M,D):(D=h(D,x),D.return=M,D)}function b(M,D,x,F){var st=x.type;return st===Z?j(M,D,x.props.children,F,x.key):D!==null&&(D.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&Tp(st)===D.type)?(D=h(D,x.props),qo(D,x),D.return=M,D):(D=fu(x.type,x.key,x.props,null,M.mode,F),qo(D,x),D.return=M,D)}function L(M,D,x,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==x.containerInfo||D.stateNode.implementation!==x.implementation?(D=Vh(x,M.mode,F),D.return=M,D):(D=h(D,x.children||[]),D.return=M,D)}function j(M,D,x,F,st){return D===null||D.tag!==7?(D=hs(x,M.mode,F,st),D.return=M,D):(D=h(D,x),D.return=M,D)}function Q(M,D,x){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Nh(""+D,M.mode,x),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case k:return x=fu(D.type,D.key,D.props,null,M.mode,x),qo(x,D),x.return=M,x;case G:return D=Vh(D,M.mode,x),D.return=M,D;case S:var F=D._init;return D=F(D._payload),Q(M,D,x)}if(re(D)||U(D))return D=hs(D,M.mode,x,null),D.return=M,D;if(typeof D.then=="function")return Q(M,Du(D),x);if(D.$$typeof===ot)return Q(M,pu(M,D),x);Ou(M,D)}return null}function z(M,D,x,F){var st=D!==null?D.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return st!==null?null:T(M,D,""+x,F);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case k:return x.key===st?b(M,D,x,F):null;case G:return x.key===st?L(M,D,x,F):null;case S:return st=x._init,x=st(x._payload),z(M,D,x,F)}if(re(x)||U(x))return st!==null?null:j(M,D,x,F,null);if(typeof x.then=="function")return z(M,D,Du(x),F);if(x.$$typeof===ot)return z(M,D,pu(M,x),F);Ou(M,x)}return null}function B(M,D,x,F,st){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(x)||null,T(D,M,""+F,st);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case k:return M=M.get(F.key===null?x:F.key)||null,b(D,M,F,st);case G:return M=M.get(F.key===null?x:F.key)||null,L(D,M,F,st);case S:var Ct=F._init;return F=Ct(F._payload),B(M,D,x,F,st)}if(re(F)||U(F))return M=M.get(x)||null,j(D,M,F,st,null);if(typeof F.then=="function")return B(M,D,x,Du(F),st);if(F.$$typeof===ot)return B(M,D,x,pu(D,F),st);Ou(D,F)}return null}function mt(M,D,x,F){for(var st=null,Ct=null,at=D,dt=D=0,Oe=null;at!==null&&dt<x.length;dt++){at.index>dt?(Oe=at,at=null):Oe=at.sibling;var xt=z(M,at,x[dt],F);if(xt===null){at===null&&(at=Oe);break}e&&at&&xt.alternate===null&&i(M,at),D=d(xt,D,dt),Ct===null?st=xt:Ct.sibling=xt,Ct=xt,at=Oe}if(dt===x.length)return a(M,at),zt&&ds(M,dt),st;if(at===null){for(;dt<x.length;dt++)at=Q(M,x[dt],F),at!==null&&(D=d(at,D,dt),Ct===null?st=at:Ct.sibling=at,Ct=at);return zt&&ds(M,dt),st}for(at=l(at);dt<x.length;dt++)Oe=B(at,M,dt,x[dt],F),Oe!==null&&(e&&Oe.alternate!==null&&at.delete(Oe.key===null?dt:Oe.key),D=d(Oe,D,dt),Ct===null?st=Oe:Ct.sibling=Oe,Ct=Oe);return e&&at.forEach(function(Ar){return i(M,Ar)}),zt&&ds(M,dt),st}function ht(M,D,x,F){if(x==null)throw Error(s(151));for(var st=null,Ct=null,at=D,dt=D=0,Oe=null,xt=x.next();at!==null&&!xt.done;dt++,xt=x.next()){at.index>dt?(Oe=at,at=null):Oe=at.sibling;var Ar=z(M,at,xt.value,F);if(Ar===null){at===null&&(at=Oe);break}e&&at&&Ar.alternate===null&&i(M,at),D=d(Ar,D,dt),Ct===null?st=Ar:Ct.sibling=Ar,Ct=Ar,at=Oe}if(xt.done)return a(M,at),zt&&ds(M,dt),st;if(at===null){for(;!xt.done;dt++,xt=x.next())xt=Q(M,xt.value,F),xt!==null&&(D=d(xt,D,dt),Ct===null?st=xt:Ct.sibling=xt,Ct=xt);return zt&&ds(M,dt),st}for(at=l(at);!xt.done;dt++,xt=x.next())xt=B(at,M,dt,xt.value,F),xt!==null&&(e&&xt.alternate!==null&&at.delete(xt.key===null?dt:xt.key),D=d(xt,D,dt),Ct===null?st=xt:Ct.sibling=xt,Ct=xt);return e&&at.forEach(function(iS){return i(M,iS)}),zt&&ds(M,dt),st}function Xt(M,D,x,F){if(typeof x=="object"&&x!==null&&x.type===Z&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case k:t:{for(var st=x.key;D!==null;){if(D.key===st){if(st=x.type,st===Z){if(D.tag===7){a(M,D.sibling),F=h(D,x.props.children),F.return=M,M=F;break t}}else if(D.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&Tp(st)===D.type){a(M,D.sibling),F=h(D,x.props),qo(F,x),F.return=M,M=F;break t}a(M,D);break}else i(M,D);D=D.sibling}x.type===Z?(F=hs(x.props.children,M.mode,F,x.key),F.return=M,M=F):(F=fu(x.type,x.key,x.props,null,M.mode,F),qo(F,x),F.return=M,M=F)}return v(M);case G:t:{for(st=x.key;D!==null;){if(D.key===st)if(D.tag===4&&D.stateNode.containerInfo===x.containerInfo&&D.stateNode.implementation===x.implementation){a(M,D.sibling),F=h(D,x.children||[]),F.return=M,M=F;break t}else{a(M,D);break}else i(M,D);D=D.sibling}F=Vh(x,M.mode,F),F.return=M,M=F}return v(M);case S:return st=x._init,x=st(x._payload),Xt(M,D,x,F)}if(re(x))return mt(M,D,x,F);if(U(x)){if(st=U(x),typeof st!="function")throw Error(s(150));return x=st.call(x),ht(M,D,x,F)}if(typeof x.then=="function")return Xt(M,D,Du(x),F);if(x.$$typeof===ot)return Xt(M,D,pu(M,x),F);Ou(M,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,D!==null&&D.tag===6?(a(M,D.sibling),F=h(D,x),F.return=M,M=F):(a(M,D),F=Nh(x,M.mode,F),F.return=M,M=F),v(M)):a(M,D)}return function(M,D,x,F){try{Bo=0;var st=Xt(M,D,x,F);return pa=null,st}catch(at){if(at===No||at===yu)throw at;var Ct=on(29,at,null,M.mode);return Ct.lanes=F,Ct.return=M,Ct}finally{}}}var _a=Ep(!0),Ap=Ep(!1),bn=X(null),Jn=null;function or(e){var i=e.alternate;W(Ae,Ae.current&1),W(bn,e),Jn===null&&(i===null||fa.current!==null||i.memoizedState!==null)&&(Jn=e)}function Sp(e){if(e.tag===22){if(W(Ae,Ae.current),W(bn,e),Jn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Jn=e)}}else lr()}function lr(){W(Ae,Ae.current),W(bn,bn.current)}function Vi(e){nt(bn),Jn===e&&(Jn=null),nt(Ae)}var Ae=X(0);function Nu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ed(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ff(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var df={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=hn(),h=rr(l);h.payload=i,a!=null&&(h.callback=a),i=sr(e,h,l),i!==null&&(fn(i,e,l),Mo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=hn(),h=rr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=sr(e,h,l),i!==null&&(fn(i,e,l),Mo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=hn(),l=rr(a);l.tag=2,i!=null&&(l.callback=i),i=sr(e,l,a),i!==null&&(fn(i,e,a),Mo(i,e,a))}};function bp(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!So(a,l)||!So(h,d):!0}function Rp(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&df.enqueueReplaceState(i,i.state,null)}function Ts(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function wp(e){Vu(e)}function Ip(e){console.error(e)}function Cp(e){Vu(e)}function Mu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Dp(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function mf(e,i,a){return a=rr(a),a.tag=3,a.payload={element:null},a.callback=function(){Mu(e,i)},a}function Op(e){return e=rr(e),e.tag=3,e}function Np(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Dp(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Dp(i,a,l),typeof h!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function iA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Co(i,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 13:return Jn===null?Lf():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Hh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Bf(e,l,h)),!1;case 22:return a.flags|=65536,l===Hh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Bf(e,l,h)),!1}throw Error(s(435,a.tag))}return Bf(e,l,h),Lf(),!1}if(zt)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==kh&&(e=Error(s(422),{cause:l}),Io(Tn(e,a)))):(l!==kh&&(i=Error(s(423),{cause:l}),Io(Tn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Tn(l,a),h=mf(e.stateNode,l,h),Fh(e,h),oe!==4&&(oe=2)),!1;var d=Error(s(520),{cause:l});if(d=Tn(d,a),Yo===null?Yo=[d]:Yo.push(d),oe!==4&&(oe=2),i===null)return!0;l=Tn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=mf(a.stateNode,l,e),Fh(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(mr===null||!mr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Op(h),Np(h,e,a,l),Fh(a,h),!1}a=a.return}while(a!==null);return!1}var Vp=Error(s(461)),Ce=!1;function ke(e,i,a,l){i.child=e===null?Ap(i,null,a,l):_a(i,e.child,a,l)}function Mp(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return _s(i),l=$h(e,i,a,v,d,h),T=Zh(),e!==null&&!Ce?(Wh(e,i,h),Mi(e,i,h)):(zt&&T&&Mh(i),i.flags|=1,ke(e,i,l,h),i.child)}function Up(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Oh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,kp(e,i,d,l,h)):(e=fu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Af(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:So,a(v,l)&&e.ref===i.ref)return Mi(e,i,h)}return i.flags|=1,e=wi(d,l),e.ref=i.ref,e.return=i,i.child=e}function kp(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(So(d,l)&&e.ref===i.ref)if(Ce=!1,i.pendingProps=l=d,Af(e,h))(e.flags&131072)!==0&&(Ce=!0);else return i.lanes=e.lanes,Mi(e,i,h)}return gf(e,i,a,l,h)}function Pp(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return xp(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&_u(i,d!==null?d.cachePool:null),d!==null?kg(i,d):Kh(),Sp(i);else return i.lanes=i.childLanes=536870912,xp(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(_u(i,d.cachePool),kg(i,d),lr(),i.memoizedState=null):(e!==null&&_u(i,null),Kh(),lr());return ke(e,i,h,a),i.child}function xp(e,i,a,l){var h=qh();return h=h===null?null:{parent:Ee._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&_u(i,null),Kh(),Sp(i),e!==null&&Co(e,i,l,!0),null}function Uu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function gf(e,i,a,l,h){return _s(i),a=$h(e,i,a,l,void 0,h),l=Zh(),e!==null&&!Ce?(Wh(e,i,h),Mi(e,i,h)):(zt&&l&&Mh(i),i.flags|=1,ke(e,i,a,h),i.child)}function Lp(e,i,a,l,h,d){return _s(i),i.updateQueue=null,a=xg(i,l,a,h),Pg(e),l=Zh(),e!==null&&!Ce?(Wh(e,i,d),Mi(e,i,d)):(zt&&l&&Mh(i),i.flags|=1,ke(e,i,a,d),i.child)}function zp(e,i,a,l,h){if(_s(i),i.stateNode===null){var d=oa,v=a.contextType;typeof v=="object"&&v!==null&&(d=He(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=df,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},jh(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?He(v):oa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ff(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&df.enqueueReplaceState(d,d.state,null),ko(i,l,d,h),Uo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,b=Ts(a,T);d.props=b;var L=d.context,j=a.contextType;v=oa,typeof j=="object"&&j!==null&&(v=He(j));var Q=a.getDerivedStateFromProps;j=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,j||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||L!==v)&&Rp(i,d,l,v),ir=!1;var z=i.memoizedState;d.state=z,ko(i,l,d,h),Uo(),L=i.memoizedState,T||z!==L||ir?(typeof Q=="function"&&(ff(i,a,Q,l),L=i.memoizedState),(b=ir||bp(i,a,b,l,z,L,v))?(j||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=v,l=b):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Gh(e,i),v=i.memoizedProps,j=Ts(a,v),d.props=j,Q=i.pendingProps,z=d.context,L=a.contextType,b=oa,typeof L=="object"&&L!==null&&(b=He(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Q||z!==b)&&Rp(i,d,l,b),ir=!1,z=i.memoizedState,d.state=z,ko(i,l,d,h),Uo();var B=i.memoizedState;v!==Q||z!==B||ir||e!==null&&e.dependencies!==null&&gu(e.dependencies)?(typeof T=="function"&&(ff(i,a,T,l),B=i.memoizedState),(j=ir||bp(i,a,j,l,z,B,b)||e!==null&&e.dependencies!==null&&gu(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,b)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=b,l=j):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Uu(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=_a(i,e.child,null,h),i.child=_a(i,null,a,h)):ke(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Mi(e,i,h),e}function Bp(e,i,a,l){return wo(),i.flags|=256,ke(e,i,a,l),i.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _f(e){return{baseLanes:e,cachePool:Ig()}}function yf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Rn),e}function qp(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(zt){if(h?or(i):lr(),zt){var T=ae,b;if(b=T){t:{for(b=T,T=Wn;b.nodeType!==8;){if(!T){T=null;break t}if(b=kn(b.nextSibling),b===null){T=null;break t}}T=b}T!==null?(i.memoizedState={dehydrated:T,treeContext:fs!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},b=on(18,null,null,0),b.stateNode=T,b.return=i,i.child=b,We=i,ae=null,b=!0):b=!1}b||gs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return ed(T)?i.lanes=32:i.lanes=536870912,null;Vi(i)}return T=l.children,l=l.fallback,h?(lr(),h=i.mode,T=ku({mode:"hidden",children:T},h),l=hs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=_f(a),h.childLanes=yf(e,v,a),i.memoizedState=pf,l):(or(i),vf(i,T))}if(b=e.memoizedState,b!==null&&(T=b.dehydrated,T!==null)){if(d)i.flags&256?(or(i),i.flags&=-257,i=Tf(e,i,a)):i.memoizedState!==null?(lr(),i.child=e.child,i.flags|=128,i=null):(lr(),h=l.fallback,T=i.mode,l=ku({mode:"visible",children:l.children},T),h=hs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,_a(i,e.child,null,a),l=i.child,l.memoizedState=_f(a),l.childLanes=yf(e,v,a),i.memoizedState=pf,i=h);else if(or(i),ed(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(s(419)),l.stack="",l.digest=v,Io({value:l,source:null,stack:null}),i=Tf(e,i,a)}else if(Ce||Co(e,i,a,!1),v=(a&e.childLanes)!==0,Ce||v){if(v=Wt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Xi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,aa(e,l),fn(v,e,l),Vp;T.data==="$?"||Lf(),i=Tf(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,ae=kn(T.nextSibling),We=i,zt=!0,ms=null,Wn=!1,e!==null&&(An[Sn++]=Ii,An[Sn++]=Ci,An[Sn++]=fs,Ii=e.id,Ci=e.overflow,fs=i),i=vf(i,l.children),i.flags|=4096);return i}return h?(lr(),h=l.fallback,T=i.mode,b=e.child,L=b.sibling,l=wi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=wi(L,h):(h=hs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=_f(a):(b=T.cachePool,b!==null?(L=Ee._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=Ig(),T={baseLanes:T.baseLanes|a,cachePool:b}),h.memoizedState=T,h.childLanes=yf(e,v,a),i.memoizedState=pf,l):(or(i),a=e.child,e=a.sibling,a=wi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function vf(e,i){return i=ku({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ku(e,i){return e=on(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Tf(e,i,a){return _a(i,e.child,null,a),e=vf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Hp(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),xh(e.return,i,a)}function Ef(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function jp(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(ke(e,i,l.children,a),l=Ae.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hp(e,a,i);else if(e.tag===19)Hp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(W(Ae,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Nu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ef(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Nu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ef(i,!0,a,null,d);break;case"together":Ef(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),dr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Co(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=wi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=wi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Af(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&gu(e)))}function rA(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),nr(i,Ee,e.memoizedState.cache),wo();break;case 27:case 5:Yi(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:nr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(or(i),i.flags|=128,null):(a&i.child.childLanes)!==0?qp(e,i,a):(or(i),e=Mi(e,i,a),e!==null?e.sibling:null);or(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Co(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return jp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Ae,Ae.current),l)break;return null;case 22:case 23:return i.lanes=0,Pp(e,i,a);case 24:nr(i,Ee,e.memoizedState.cache)}return Mi(e,i,a)}function Gp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ce=!0;else{if(!Af(e,a)&&(i.flags&128)===0)return Ce=!1,rA(e,i,a);Ce=(e.flags&131072)!==0}else Ce=!1,zt&&(i.flags&1048576)!==0&&Tg(i,mu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Oh(l)?(e=Ts(l,e),i.tag=1,i=zp(null,i,l,e,a)):(i.tag=0,i=gf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===vt){i.tag=11,i=Mp(null,i,l,e,a);break t}else if(h===N){i.tag=14,i=Up(null,i,l,e,a);break t}}throw i=Ve(l)||l,Error(s(306,i,""))}}return i;case 0:return gf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ts(l,i.pendingProps),zp(e,i,l,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Gh(e,i),ko(i,l,null,a);var v=i.memoizedState;if(l=v.cache,nr(i,Ee,l),l!==d.cache&&Lh(i,[Ee],a,!0),Uo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Bp(e,i,l,a);break t}else if(l!==h){h=Tn(Error(s(424)),i),Io(h),i=Bp(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=kn(e.firstChild),We=i,zt=!0,ms=null,Wn=!0,a=Ap(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wo(),l===h){i=Mi(e,i,a);break t}ke(e,i,l,a)}i=i.child}return i;case 26:return Uu(e,i),e===null?(a=Y_(i.type,null,i.pendingProps,null))?i.memoizedState=a:zt||(a=i.type,e=i.pendingProps,l=Xu(yt.current).createElement(a),l[ye]=i,l[fe]=e,xe(l,a,e),le(l),i.stateNode=l):i.memoizedState=Y_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Yi(i),e===null&&zt&&(l=i.stateNode=F_(i.type,i.pendingProps,yt.current),We=i,Wn=!0,h=ae,_r(i.type)?(nd=h,ae=kn(l.firstChild)):ae=h),ke(e,i,i.pendingProps.children,a),Uu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&zt&&((h=l=ae)&&(l=VA(l,i.type,i.pendingProps,Wn),l!==null?(i.stateNode=l,We=i,ae=kn(l.firstChild),Wn=!1,h=!0):h=!1),h||gs(i)),Yi(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Wf(h,d)?l=null:v!==null&&Wf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=$h(e,i,$0,null,null,a),il._currentValue=h),Uu(e,i),ke(e,i,l,a),i.child;case 6:return e===null&&zt&&((e=a=ae)&&(a=MA(a,i.pendingProps,Wn),a!==null?(i.stateNode=a,We=i,ae=null,e=!0):e=!1),e||gs(i)),null;case 13:return qp(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=_a(i,null,l,a):ke(e,i,l,a),i.child;case 11:return Mp(e,i,i.type,i.pendingProps,a);case 7:return ke(e,i,i.pendingProps,a),i.child;case 8:return ke(e,i,i.pendingProps.children,a),i.child;case 12:return ke(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,nr(i,i.type,l.value),ke(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,_s(i),h=He(h),l=l(h),i.flags|=1,ke(e,i,l,a),i.child;case 14:return Up(e,i,i.type,i.pendingProps,a);case 15:return kp(e,i,i.type,i.pendingProps,a);case 19:return jp(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=ku(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=wi(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Pp(e,i,a);case 24:return _s(i),l=He(Ee),e===null?(h=qh(),h===null&&(h=Wt,d=zh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},jh(i),nr(i,Ee,h)):((e.lanes&a)!==0&&(Gh(e,i),ko(i,null,null,a),Uo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),nr(i,Ee,l)):(l=d.cache,nr(i,Ee,l),l!==h.cache&&Lh(i,[Ee],a,!0))),ke(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ui(e){e.flags|=4}function Fp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!J_(i)){if(i=bn.current,i!==null&&((kt&4194048)===kt?Jn!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==Jn))throw Vo=Hh,Cg;e.flags|=8192}}function Pu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ro():536870912,e.lanes|=i,Ea|=i)}function Ho(e,i){if(!zt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function sA(e,i,a){var l=i.pendingProps;switch(Uh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Oi(Ee),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ro(i)?Ui(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Sg())),ne(i),null;case 26:return a=i.memoizedState,e===null?(Ui(i),a!==null?(ne(i),Fp(i,a)):(ne(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Ui(i),ne(i),Fp(i,a)):(ne(i),i.flags&=-16777217):(e.memoizedProps!==l&&Ui(i),ne(i),i.flags&=-16777217),null;case 27:di(i),a=yt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ne(i),null}e=ct.current,Ro(i)?Eg(i):(e=F_(h,l,a),i.stateNode=e,Ui(i))}return ne(i),null;case 5:if(di(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ne(i),null}if(e=ct.current,Ro(i))Eg(i);else{switch(h=Xu(yt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[ye]=i,e[fe]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(xe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ui(i)}}return ne(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=yt.current,Ro(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ye]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||L_(e.nodeValue,a)),e||gs(i)}else e=Xu(e).createTextNode(l),e[ye]=i,i.stateNode=e}return ne(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ro(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ye]=i}else wo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else h=Sg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Vi(i),i):(Vi(i),null)}if(Vi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Pu(i,i.updateQueue),ne(i),null;case 4:return Bn(),e===null&&Kf(i.stateNode.containerInfo),ne(i),null;case 10:return Oi(i.type),ne(i),null;case 19:if(nt(Ae),h=i.memoizedState,h===null)return ne(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Ho(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Nu(e),d!==null){for(i.flags|=128,Ho(h,!1),e=d.updateQueue,i.updateQueue=e,Pu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)vg(a,e),a=a.sibling;return W(Ae,Ae.current&1|2),i.child}e=e.sibling}h.tail!==null&&mn()>zu&&(i.flags|=128,l=!0,Ho(h,!1),i.lanes=4194304)}else{if(!l)if(e=Nu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Pu(i,e),Ho(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!zt)return ne(i),null}else 2*mn()-h.renderingStartTime>zu&&a!==536870912&&(i.flags|=128,l=!0,Ho(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=mn(),i.sibling=null,e=Ae.current,W(Ae,l?e&1|2:e&1),i):(ne(i),null);case 22:case 23:return Vi(i),Yh(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&Pu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&nt(ys),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Oi(Ee),ne(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function aA(e,i){switch(Uh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Oi(Ee),Bn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return di(i),null;case 13:if(Vi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));wo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(Ae),null;case 4:return Bn(),null;case 10:return Oi(i.type),null;case 22:case 23:return Vi(i),Yh(),e!==null&&nt(ys),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Oi(Ee),null;case 25:return null;default:return null}}function Qp(e,i){switch(Uh(i),i.tag){case 3:Oi(Ee),Bn();break;case 26:case 27:case 5:di(i);break;case 4:Bn();break;case 13:Vi(i);break;case 19:nt(Ae);break;case 10:Oi(i.type);break;case 22:case 23:Vi(i),Yh(),e!==null&&nt(ys);break;case 24:Oi(Ee)}}function jo(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){$t(i,i.return,T)}}function ur(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var b=a,L=T;try{L()}catch(j){$t(h,b,j)}}}l=l.next}while(l!==d)}}catch(j){$t(i,i.return,j)}}function Kp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ug(i,a)}catch(l){$t(e,e.return,l)}}}function Yp(e,i,a){a.props=Ts(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function Go(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,i,h)}}function ti(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function Xp(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Sf(e,i,a){try{var l=e.stateNode;IA(l,e.type,a,i),l[fe]=i}catch(h){$t(e,e.return,h)}}function $p(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_r(e.type)||e.tag===4}function bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||$p(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_r(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yu));else if(l!==4&&(l===27&&_r(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Rf(e,i,a),e=e.sibling;e!==null;)Rf(e,i,a),e=e.sibling}function xu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&_r(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(xu(e,i,a),e=e.sibling;e!==null;)xu(e,i,a),e=e.sibling}function Zp(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);xe(i,l,a),i[ye]=e,i[fe]=a}catch(d){$t(e,e.return,d)}}var ki=!1,ce=!1,wf=!1,Wp=typeof WeakSet=="function"?WeakSet:Set,De=null;function oA(e,i){if(e=e.containerInfo,$f=ec,e=ug(e),Sh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,b=-1,L=0,j=0,Q=e,z=null;e:for(;;){for(var B;Q!==a||h!==0&&Q.nodeType!==3||(T=v+h),Q!==d||l!==0&&Q.nodeType!==3||(b=v+l),Q.nodeType===3&&(v+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===a&&++L===h&&(T=v),z===d&&++j===l&&(b=v),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}a=T===-1||b===-1?null:{start:T,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zf={focusedElem:e,selectionRange:a},ec=!1,De=i;De!==null;)if(i=De,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,De=e;else for(;De!==null;){switch(i=De,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var mt=Ts(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(mt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(ht){$t(a,a.return,ht)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)td(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,De=e;break}De=i.return}}function Jp(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:cr(e,a),l&4&&jo(5,a);break;case 1:if(cr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=Ts(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}l&64&&Kp(a),l&512&&Go(a,a.return);break;case 3:if(cr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ug(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&l&4&&Zp(a);case 26:case 5:cr(e,a),i===null&&l&4&&Xp(a),l&512&&Go(a,a.return);break;case 12:cr(e,a);break;case 13:cr(e,a),l&4&&n_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=pA.bind(null,a),UA(e,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){i=i!==null&&i.memoizedState!==null||ce,h=ki;var d=ce;ki=l,(ce=i)&&!d?hr(e,a,(a.subtreeFlags&8772)!==0):cr(e,a),ki=h,ce=d}break;case 30:break;default:cr(e,a)}}function t_(e){var i=e.alternate;i!==null&&(e.alternate=null,t_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Wi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,tn=!1;function Pi(e,i,a){for(a=a.child;a!==null;)e_(e,i,a),a=a.sibling}function e_(e,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:ce||ti(a,i),Pi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||ti(a,i);var l=ee,h=tn;_r(a.type)&&(ee=a.stateNode,tn=!1),Pi(e,i,a),Jo(a.stateNode),ee=l,tn=h;break;case 5:ce||ti(a,i);case 6:if(l=ee,h=tn,ee=null,Pi(e,i,a),ee=l,tn=h,ee!==null)if(tn)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ee.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ee!==null&&(tn?(e=ee,j_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ol(e)):j_(ee,a.stateNode));break;case 4:l=ee,h=tn,ee=a.stateNode.containerInfo,tn=!0,Pi(e,i,a),ee=l,tn=h;break;case 0:case 11:case 14:case 15:ce||ur(2,a,i),ce||ur(4,a,i),Pi(e,i,a);break;case 1:ce||(ti(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Yp(a,i,l)),Pi(e,i,a);break;case 21:Pi(e,i,a);break;case 22:ce=(l=ce)||a.memoizedState!==null,Pi(e,i,a),ce=l;break;default:Pi(e,i,a)}}function n_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ol(e)}catch(a){$t(i,i.return,a)}}function lA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Wp),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Wp),i;default:throw Error(s(435,e.tag))}}function If(e,i){var a=lA(e);i.forEach(function(l){var h=_A.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function ln(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(_r(T.type)){ee=T.stateNode,tn=!1;break t}break;case 5:ee=T.stateNode,tn=!1;break t;case 3:case 4:ee=T.stateNode.containerInfo,tn=!0;break t}T=T.return}if(ee===null)throw Error(s(160));e_(d,v,h),ee=null,tn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)i_(i,e),i=i.sibling}var Un=null;function i_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(i,e),un(e),l&4&&(ur(3,e,e.return),jo(3,e),ur(5,e,e.return));break;case 1:ln(i,e),un(e),l&512&&(ce||a===null||ti(a,a.return)),l&64&&ki&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Un;if(ln(i,e),un(e),l&512&&(ce||a===null||ti(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Xr]||d[ye]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),xe(d,l,a),d[ye]=e,le(d),l=d;break t;case"link":var v=Z_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),xe(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Z_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),xe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ye]=e,le(d),l=d}e.stateNode=l}else W_(h,e.type,e.stateNode);else e.stateNode=$_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?W_(h,e.type,e.stateNode):$_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Sf(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(i,e),un(e),l&512&&(ce||a===null||ti(a,a.return)),a!==null&&l&4&&Sf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,e),un(e),l&512&&(ce||a===null||ti(a,a.return)),e.flags&32){h=e.stateNode;try{pn(h,"")}catch(B){$t(e,e.return,B)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Sf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(wf=!0);break;case 6:if(ln(i,e),un(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(B){$t(e,e.return,B)}}break;case 3:if(Wu=null,h=Un,Un=$u(i.containerInfo),ln(i,e),Un=h,un(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ol(i.containerInfo)}catch(B){$t(e,e.return,B)}wf&&(wf=!1,r_(e));break;case 4:l=Un,Un=$u(e.stateNode.containerInfo),ln(i,e),un(e),Un=l;break;case 12:ln(i,e),un(e);break;case 13:ln(i,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mf=mn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,If(e,l)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,L=ki,j=ce;if(ki=L||h,ce=j||b,ln(i,e),ce=j,ki=L,un(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||b||ki||ce||Es(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(d=b.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=b.stateNode;var Q=b.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(b,b.return,B)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){$t(b,b.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,If(e,a))));break;case 19:ln(i,e),un(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,If(e,l)));break;case 30:break;case 21:break;default:ln(i,e),un(e)}}function un(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if($p(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=bf(e);xu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(pn(v,""),a.flags&=-33);var T=bf(e);xu(e,T,v);break;case 3:case 4:var b=a.stateNode.containerInfo,L=bf(e);Rf(e,L,b);break;default:throw Error(s(161))}}catch(j){$t(e,e.return,j)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function r_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;r_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function cr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Jp(e,i.alternate,i),i=i.sibling}function Es(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ur(4,i,i.return),Es(i);break;case 1:ti(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Yp(i,i.return,a),Es(i);break;case 27:Jo(i.stateNode);case 26:case 5:ti(i,i.return),Es(i);break;case 22:i.memoizedState===null&&Es(i);break;case 30:Es(i);break;default:Es(i)}e=e.sibling}}function hr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:hr(h,d,a),jo(4,d);break;case 1:if(hr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Mg(b[h],T)}catch(L){$t(l,l.return,L)}}a&&v&64&&Kp(d),Go(d,d.return);break;case 27:Zp(d);case 26:case 5:hr(h,d,a),a&&l===null&&v&4&&Xp(d),Go(d,d.return);break;case 12:hr(h,d,a);break;case 13:hr(h,d,a),a&&v&4&&n_(h,d);break;case 22:d.memoizedState===null&&hr(h,d,a),Go(d,d.return);break;case 30:break;default:hr(h,d,a)}i=i.sibling}}function Cf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Do(a))}function Df(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Do(e))}function ei(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)s_(e,i,a,l),i=i.sibling}function s_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(e,i,a,l),h&2048&&jo(9,i);break;case 1:ei(e,i,a,l);break;case 3:ei(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Do(e)));break;case 12:if(h&2048){ei(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){$t(i,i.return,b)}}else ei(e,i,a,l);break;case 13:ei(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ei(e,i,a,l):Fo(e,i):d._visibility&2?ei(e,i,a,l):(d._visibility|=2,ya(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Cf(v,i);break;case 24:ei(e,i,a,l),h&2048&&Df(i.alternate,i);break;default:ei(e,i,a,l)}}function ya(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,b=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:ya(d,v,T,b,h),jo(8,v);break;case 23:break;case 22:var j=v.stateNode;v.memoizedState!==null?j._visibility&2?ya(d,v,T,b,h):Fo(d,v):(j._visibility|=2,ya(d,v,T,b,h)),h&&L&2048&&Cf(v.alternate,v);break;case 24:ya(d,v,T,b,h),h&&L&2048&&Df(v.alternate,v);break;default:ya(d,v,T,b,h)}i=i.sibling}}function Fo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Fo(a,l),h&2048&&Cf(l.alternate,l);break;case 24:Fo(a,l),h&2048&&Df(l.alternate,l);break;default:Fo(a,l)}i=i.sibling}}var Qo=8192;function va(e){if(e.subtreeFlags&Qo)for(e=e.child;e!==null;)a_(e),e=e.sibling}function a_(e){switch(e.tag){case 26:va(e),e.flags&Qo&&e.memoizedState!==null&&KA(Un,e.memoizedState,e.memoizedProps);break;case 5:va(e);break;case 3:case 4:var i=Un;Un=$u(e.stateNode.containerInfo),va(e),Un=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Qo,Qo=16777216,va(e),Qo=i):va(e));break;default:va(e)}}function o_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ko(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];De=l,u_(l,e)}o_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)l_(e),e=e.sibling}function l_(e){switch(e.tag){case 0:case 11:case 15:Ko(e),e.flags&2048&&ur(9,e,e.return);break;case 3:Ko(e);break;case 12:Ko(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Lu(e)):Ko(e);break;default:Ko(e)}}function Lu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];De=l,u_(l,e)}o_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ur(8,i,i.return),Lu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Lu(i));break;default:Lu(i)}e=e.sibling}}function u_(e,i){for(;De!==null;){var a=De;switch(a.tag){case 0:case 11:case 15:ur(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Do(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,De=l;else t:for(a=e;De!==null;){l=De;var h=l.sibling,d=l.return;if(t_(l),l===a){De=null;break t}if(h!==null){h.return=d,De=h;break t}De=d}}}var uA={getCacheForType:function(e){var i=He(Ee),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},cA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,Dt=null,kt=0,Ft=0,cn=null,fr=!1,Ta=!1,Of=!1,xi=0,oe=0,dr=0,As=0,Nf=0,Rn=0,Ea=0,Yo=null,en=null,Vf=!1,Mf=0,zu=1/0,Bu=null,mr=null,Pe=0,gr=null,Aa=null,Sa=0,Uf=0,kf=null,c_=null,Xo=0,Pf=null;function hn(){if((Gt&2)!==0&&kt!==0)return kt&-kt;if(H.T!==null){var e=ca;return e!==0?e:jf()}return $i()}function h_(){Rn===0&&(Rn=(kt&536870912)===0||zt?io():536870912);var e=bn.current;return e!==null&&(e.flags|=32),Rn}function fn(e,i,a){(e===Wt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(ba(e,0),pr(e,kt,Rn,!1)),gi(e,a),((Gt&2)===0||e!==Wt)&&(e===Wt&&((Gt&2)===0&&(As|=a),oe===4&&pr(e,kt,Rn,!1)),ni(e))}function f_(e,i,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Yr(e,i),h=l?dA(e,i):zf(e,i,!0),d=l;do{if(h===0){Ta&&!l&&pr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!hA(a)){h=zf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=Yo;var b=T.current.memoizedState.isDehydrated;if(b&&(ba(T,v).flags|=256),v=zf(T,v,!1),v!==2){if(Of&&!b){T.errorRecoveryDisabledLanes|=d,As|=d,h=4;break t}d=en,en=h,d!==null&&(en===null?en=d:en.push.apply(en,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ba(e,0),pr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:pr(l,i,Rn,!fr);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Mf+300-mn(),10<h)){if(pr(l,i,Rn,!fr),qs(l,0,!0)!==0)break t;l.timeoutHandle=q_(d_.bind(null,l,a,en,Bu,Vf,i,Rn,As,Ea,fr,d,2,-0,0),h);break t}d_(l,a,en,Bu,Vf,i,Rn,As,Ea,fr,d,0,-0,0)}}break}while(!0);ni(e)}function d_(e,i,a,l,h,d,v,T,b,L,j,Q,z,B){if(e.timeoutHandle=-1,Q=i.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(nl={stylesheets:null,count:0,unsuspend:QA},a_(i),Q=YA(),Q!==null)){e.cancelPendingCommit=Q(T_.bind(null,e,i,d,a,l,h,v,T,b,j,1,z,B)),pr(e,d,v,!L);return}T_(e,i,d,a,l,h,v,T,b)}function hA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!an(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pr(e,i,a,l){i&=~Nf,i&=~As,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-qe(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&qn(e,a,i)}function qu(){return(Gt&6)===0?($o(0),!1):!0}function xf(){if(Dt!==null){if(Ft===0)var e=Dt.return;else e=Dt,Di=ps=null,Jh(e),pa=null,Bo=0,e=Dt;for(;e!==null;)Qp(e.alternate,e),e=e.return;Dt=null}}function ba(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,DA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),xf(),Wt=e,Dt=a=wi(e.current,null),kt=i,Ft=0,cn=null,fr=!1,Ta=Yr(e,i),Of=!1,Ea=Rn=Nf=As=dr=oe=0,en=Yo=null,Vf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-qe(l),d=1<<h;i|=e[h],l&=~d}return xi=i,uu(),a}function m_(e,i){Rt=null,H.H=Cu,i===No||i===yu?(i=Ng(),Ft=3):i===Cg?(i=Ng(),Ft=4):Ft=i===Vp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,cn=i,Dt===null&&(oe=1,Mu(e,Tn(i,e.current)))}function g_(){var e=H.H;return H.H=Cu,e===null?Cu:e}function p_(){var e=H.A;return H.A=uA,e}function Lf(){oe=4,fr||(kt&4194048)!==kt&&bn.current!==null||(Ta=!0),(dr&134217727)===0&&(As&134217727)===0||Wt===null||pr(Wt,kt,Rn,!1)}function zf(e,i,a){var l=Gt;Gt|=2;var h=g_(),d=p_();(Wt!==e||kt!==i)&&(Bu=null,ba(e,i)),i=!1;var v=oe;t:do try{if(Ft!==0&&Dt!==null){var T=Dt,b=cn;switch(Ft){case 8:xf(),v=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var L=Ft;if(Ft=0,cn=null,Ra(e,T,b,L),a&&Ta){v=0;break t}break;default:L=Ft,Ft=0,cn=null,Ra(e,T,b,L)}}fA(),v=oe;break}catch(j){m_(e,j)}while(!0);return i&&e.shellSuspendCounter++,Di=ps=null,Gt=l,H.H=h,H.A=d,Dt===null&&(Wt=null,kt=0,uu()),v}function fA(){for(;Dt!==null;)__(Dt)}function dA(e,i){var a=Gt;Gt|=2;var l=g_(),h=p_();Wt!==e||kt!==i?(Bu=null,zu=mn()+500,ba(e,i)):Ta=Yr(e,i);t:do try{if(Ft!==0&&Dt!==null){i=Dt;var d=cn;e:switch(Ft){case 1:Ft=0,cn=null,Ra(e,i,d,1);break;case 2:case 9:if(Dg(d)){Ft=0,cn=null,y_(i);break}i=function(){Ft!==2&&Ft!==9||Wt!==e||(Ft=7),ni(e)},d.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Dg(d)?(Ft=0,cn=null,y_(i)):(Ft=0,cn=null,Ra(e,i,d,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var T=Dt;if(!v||J_(v)){Ft=0,cn=null;var b=T.sibling;if(b!==null)Dt=b;else{var L=T.return;L!==null?(Dt=L,Hu(L)):Dt=null}break e}}Ft=0,cn=null,Ra(e,i,d,5);break;case 6:Ft=0,cn=null,Ra(e,i,d,6);break;case 8:xf(),oe=6;break t;default:throw Error(s(462))}}mA();break}catch(j){m_(e,j)}while(!0);return Di=ps=null,H.H=l,H.A=h,Gt=a,Dt!==null?0:(Wt=null,kt=0,uu(),oe)}function mA(){for(;Dt!==null&&!Ja();)__(Dt)}function __(e){var i=Gp(e.alternate,e,xi);e.memoizedProps=e.pendingProps,i===null?Hu(e):Dt=i}function y_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Lp(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=Lp(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:Jh(i);default:Qp(a,i),i=Dt=vg(i,xi),i=Gp(a,i,xi)}e.memoizedProps=e.pendingProps,i===null?Hu(e):Dt=i}function Ra(e,i,a,l){Di=ps=null,Jh(i),pa=null,Bo=0;var h=i.return;try{if(iA(e,h,i,a,kt)){oe=1,Mu(e,Tn(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;oe=1,Mu(e,Tn(a,e.current)),Dt=null;return}i.flags&32768?(zt||l===1?e=!0:Ta||(kt&536870912)!==0?e=!1:(fr=e=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),v_(i,e)):Hu(i)}function Hu(e){var i=e;do{if((i.flags&32768)!==0){v_(i,fr);return}e=i.return;var a=sA(i.alternate,i,xi);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);oe===0&&(oe=5)}function v_(e,i){do{var a=aA(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);oe=6,Dt=null}function T_(e,i,a,l,h,d,v,T,b){e.cancelPendingCommit=null;do ju();while(Pe!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Ch,so(e,a,d,v,T,b),e===Wt&&(Dt=Wt=null,kt=0),Aa=i,gr=e,Sa=a,Uf=d,kf=h,c_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,yA(Gr,function(){return R_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=tt.p,tt.p=2,v=Gt,Gt|=4;try{oA(e,i,a)}finally{Gt=v,tt.p=h,H.T=l}}Pe=1,E_(),A_(),S_()}}function E_(){if(Pe===1){Pe=0;var e=gr,i=Aa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var h=Gt;Gt|=4;try{i_(i,e);var d=Zf,v=ug(e.containerInfo),T=d.focusedElem,b=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&lg(T.ownerDocument.documentElement,T)){if(b!==null&&Sh(T)){var L=b.start,j=b.end;if(j===void 0&&(j=L),"selectionStart"in T)T.selectionStart=L,T.selectionEnd=Math.min(j,T.value.length);else{var Q=T.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),mt=T.textContent.length,ht=Math.min(b.start,mt),Xt=b.end===void 0?ht:Math.min(b.end,mt);!B.extend&&ht>Xt&&(v=Xt,Xt=ht,ht=v);var M=og(T,ht),D=og(T,Xt);if(M&&D&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var x=Q.createRange();x.setStart(M.node,M.offset),B.removeAllRanges(),ht>Xt?(B.addRange(x),B.extend(D.node,D.offset)):(x.setEnd(D.node,D.offset),B.addRange(x))}}}}for(Q=[],B=T;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var F=Q[T];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}ec=!!$f,Zf=$f=null}finally{Gt=h,tt.p=l,H.T=a}}e.current=i,Pe=2}}function A_(){if(Pe===2){Pe=0;var e=gr,i=Aa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var h=Gt;Gt|=4;try{Jp(e,i.alternate,i)}finally{Gt=h,tt.p=l,H.T=a}}Pe=3}}function S_(){if(Pe===4||Pe===3){Pe=0,Ll();var e=gr,i=Aa,a=Sa,l=c_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pe=5:(Pe=0,Aa=gr=null,b_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(mr=null),Hs(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(se,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,h=tt.p,tt.p=2,H.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{H.T=i,tt.p=h}}(Sa&3)!==0&&ju(),ni(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Pf?Xo++:(Xo=0,Pf=e):Xo=0,$o(0)}}function b_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Do(i)))}function ju(e){return E_(),A_(),S_(),R_()}function R_(){if(Pe!==5)return!1;var e=gr,i=Uf;Uf=0;var a=Hs(Sa),l=H.T,h=tt.p;try{tt.p=32>a?32:a,H.T=null,a=kf,kf=null;var d=gr,v=Sa;if(Pe=0,Aa=gr=null,Sa=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,l_(d.current),s_(d,d.current,v,a),Gt=T,$o(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(se,d)}catch{}return!0}finally{tt.p=h,H.T=l,b_(e,i)}}function w_(e,i,a){i=Tn(a,i),i=mf(e.stateNode,i,2),e=sr(e,i,2),e!==null&&(gi(e,2),ni(e))}function $t(e,i,a){if(e.tag===3)w_(e,e,a);else for(;i!==null;){if(i.tag===3){w_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(mr===null||!mr.has(l))){e=Tn(a,e),a=Op(2),l=sr(i,a,2),l!==null&&(Np(a,l,i,e),gi(l,2),ni(l));break}}i=i.return}}function Bf(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new cA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Of=!0,h.add(a),e=gA.bind(null,e,i,a),i.then(e,e))}function gA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(kt&a)===a&&(oe===4||oe===3&&(kt&62914560)===kt&&300>mn()-Mf?(Gt&2)===0&&ba(e,0):Nf|=a,Ea===kt&&(Ea=0)),ni(e)}function I_(e,i){i===0&&(i=ro()),e=aa(e,i),e!==null&&(gi(e,i),ni(e))}function pA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),I_(e,a)}function _A(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),I_(e,a)}function yA(e,i){return Hr(e,i)}var Gu=null,wa=null,qf=!1,Fu=!1,Hf=!1,Ss=0;function ni(e){e!==wa&&e.next===null&&(wa===null?Gu=wa=e:wa=wa.next=e),Fu=!0,qf||(qf=!0,TA())}function $o(e,i){if(!Hf&&Fu){Hf=!0;do for(var a=!1,l=Gu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-qe(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,N_(l,d))}else d=kt,d=qs(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yr(l,d)||(a=!0,N_(l,d));l=l.next}while(a);Hf=!1}}function vA(){C_()}function C_(){Fu=qf=!1;var e=0;Ss!==0&&(CA()&&(e=Ss),Ss=0);for(var i=mn(),a=null,l=Gu;l!==null;){var h=l.next,d=D_(l,i);d===0?(l.next=null,a===null?Gu=h:a.next=h,h===null&&(wa=a)):(a=l,(e!==0||(d&3)!==0)&&(Fu=!0)),l=h}$o(e)}function D_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-qe(d),T=1<<v,b=h[v];b===-1?((T&a)===0||(T&l)!==0)&&(h[v]=no(T,i)):b<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=kt,a=qs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&jr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&jr(l),Hs(a)){case 2:case 8:a=zs;break;case 32:a=Gr;break;case 268435456:a=Bs;break;default:a=Gr}return l=O_.bind(null,e),a=Hr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&jr(l),e.callbackPriority=2,e.callbackNode=null,2}function O_(e,i){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ju()&&e.callbackNode!==a)return null;var l=kt;return l=qs(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(f_(e,l,i),D_(e,mn()),e.callbackNode!=null&&e.callbackNode===a?O_.bind(null,e):null)}function N_(e,i){if(ju())return null;f_(e,i,!0)}function TA(){OA(function(){(Gt&6)!==0?Hr(to,vA):C_()})}function jf(){return Ss===0&&(Ss=io()),Ss}function V_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ys(""+e)}function M_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function EA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=V_((h[fe]||null).action),v=l.submitter;v&&(i=(i=v[fe]||null)?V_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Xs("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ss!==0){var b=v?M_(h,v):new FormData(h);uf(a,{pending:!0,data:b,method:h.method,action:d},null,b)}}else typeof d=="function"&&(T.preventDefault(),b=v?M_(h,v):new FormData(h),uf(a,{pending:!0,data:b,method:h.method,action:d},d,b))},currentTarget:h}]})}}for(var Gf=0;Gf<Ih.length;Gf++){var Ff=Ih[Gf],AA=Ff.toLowerCase(),SA=Ff[0].toUpperCase()+Ff.slice(1);Mn(AA,"on"+SA)}Mn(fg,"onAnimationEnd"),Mn(dg,"onAnimationIteration"),Mn(mg,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(B0,"onTransitionRun"),Mn(q0,"onTransitionStart"),Mn(H0,"onTransitionCancel"),Mn(gg,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zo));function U_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],b=T.instance,L=T.currentTarget;if(T=T.listener,b!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch(j){Vu(j)}h.currentTarget=null,d=b}else for(v=0;v<l.length;v++){if(T=l[v],b=T.instance,L=T.currentTarget,T=T.listener,b!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch(j){Vu(j)}h.currentTarget=null,d=b}}}}function Ot(e,i){var a=i[oo];a===void 0&&(a=i[oo]=new Set);var l=e+"__bubble";a.has(l)||(k_(i,e,2,!1),a.add(l))}function Qf(e,i,a){var l=0;i&&(l|=4),k_(a,e,l,i)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Kf(e){if(!e[Qu]){e[Qu]=!0,lo.forEach(function(a){a!=="selectionchange"&&(bA.has(a)||Qf(a,!1,e),Qf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Qu]||(i[Qu]=!0,Qf("selectionchange",!1,i))}}function k_(e,i,a,l){switch(sy(i)){case 2:var h=ZA;break;case 8:h=WA;break;default:h=od}a=h.bind(null,i,a,e),h=void 0,!yn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Yf(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=pi(T),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){l=d=v;continue t}T=T.parentNode}}l=l.return}Yl(function(){var L=d,j=_n(a),Q=[];t:{var z=pg.get(e);if(z!==void 0){var B=Xs,mt=e;switch(e){case"keypress":if(Kn(a)===0)break t;case"keydown":case"keyup":B=ea;break;case"focusin":mt="focus",B=Ws;break;case"focusout":mt="blur",B=Ws;break;case"beforeblur":case"afterblur":B=Ws;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=vh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=nu;break;case fg:case dg:case mg:B=Js;break;case gg:B=ru;break;case"scroll":case"scrollend":B=Xl;break;case"wheel":B=na;break;case"copy":case"cut":case"paste":B=ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Eo;break;case"toggle":case"beforetoggle":B=au}var ht=(i&4)!==0,Xt=!ht&&(e==="scroll"||e==="scrollend"),M=ht?z!==null?z+"Capture":null:z;ht=[];for(var D=L,x;D!==null;){var F=D;if(x=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||x===null||M===null||(F=ns(D,M),F!=null&&ht.push(Wo(D,F,x))),Xt)break;D=D.return}0<ht.length&&(z=new B(z,mt,null,a,j),Q.push({event:z,listeners:ht}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Ti&&(mt=a.relatedTarget||a.fromElement)&&(pi(mt)||mt[gn]))break t;if((B||z)&&(z=j.window===j?j:(z=j.ownerDocument)?z.defaultView||z.parentWindow:window,B?(mt=a.relatedTarget||a.toElement,B=L,mt=mt?pi(mt):null,mt!==null&&(Xt=c(mt),ht=mt.tag,mt!==Xt||ht!==5&&ht!==27&&ht!==6)&&(mt=null)):(B=null,mt=L),B!==mt)){if(ht=vn,F="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ht=Eo,F="onPointerLeave",M="onPointerEnter",D="pointer"),Xt=B==null?z:jn(B),x=mt==null?z:jn(mt),z=new ht(F,D+"leave",B,a,j),z.target=Xt,z.relatedTarget=x,F=null,pi(j)===L&&(ht=new ht(M,D+"enter",mt,a,j),ht.target=x,ht.relatedTarget=Xt,F=ht),Xt=F,B&&mt)e:{for(ht=B,M=mt,D=0,x=ht;x;x=Ia(x))D++;for(x=0,F=M;F;F=Ia(F))x++;for(;0<D-x;)ht=Ia(ht),D--;for(;0<x-D;)M=Ia(M),x--;for(;D--;){if(ht===M||M!==null&&ht===M.alternate)break e;ht=Ia(ht),M=Ia(M)}ht=null}else ht=null;B!==null&&P_(Q,z,B,ht,!1),mt!==null&&Xt!==null&&P_(Q,Xt,mt,ht,!0)}}t:{if(z=L?jn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var st=eg;else if(Te(z))if(ng)st=x0;else{st=k0;var Ct=U0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&mo(L.elementType)&&(st=eg):st=P0;if(st&&(st=st(e,L))){Ri(Q,st,a,j);break t}Ct&&Ct(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&tr(z,"number",z.value)}switch(Ct=L?jn(L):window,e){case"focusin":(Te(Ct)||Ct.contentEditable==="true")&&(ia=Ct,bh=L,bo=null);break;case"focusout":bo=bh=ia=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,cg(Q,a,j);break;case"selectionchange":if(z0)break;case"keydown":case"keyup":cg(Q,a,j)}var at;if($n)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Mt?q(e,a)&&(dt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(dt="onCompositionStart");dt&&(_&&a.locale!=="ko"&&(Mt||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Mt&&(at=po()):(Qn=j,er="value"in Qn?Qn.value:Qn.textContent,Mt=!0)),Ct=Ku(L,dt),0<Ct.length&&(dt=new vo(dt,e,null,a,j),Q.push({event:dt,listeners:Ct}),at?dt.data=at:(at=J(a),at!==null&&(dt.data=at)))),(at=m?ve(e,a):Ut(e,a))&&(dt=Ku(L,"onBeforeInput"),0<dt.length&&(Ct=new vo("onBeforeInput","beforeinput",null,a,j),Q.push({event:Ct,listeners:dt}),Ct.data=at)),EA(Q,e,L,a,j)}U_(Q,i)})}function Wo(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ku(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ns(e,a),h!=null&&l.unshift(Wo(e,h,d)),h=ns(e,i),h!=null&&l.push(Wo(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Ia(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function P_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,b=T.alternate,L=T.stateNode;if(T=T.tag,b!==null&&b===l)break;T!==5&&T!==26&&T!==27||L===null||(b=L,h?(L=ns(a,d),L!=null&&v.unshift(Wo(a,L,b))):h||(L=ns(a,d),L!=null&&v.push(Wo(a,L,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var RA=/\r\n?/g,wA=/\u0000|\uFFFD/g;function x_(e){return(typeof e=="string"?e:""+e).replace(RA,`
`).replace(wA,"")}function L_(e,i){return i=x_(i),x_(e)===i}function Yu(){}function Yt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||pn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&pn(e,""+l);break;case"className":Gn(e,"class",l);break;case"tabIndex":Gn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,a,l);break;case"style":fo(e,l,d);break;case"data":if(i!=="object"){Gn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ys(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ys(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Yu);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ys(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Ji(e,"popover",l);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ji(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_h.get(a)||a,Ji(e,a,l))}}function Xf(e,i,a,l,h,d){switch(a){case"style":fo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?pn(e,l):(typeof l=="number"||typeof l=="bigint")&&pn(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!js.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[fe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ji(e,a,l)}}}function xe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),l&&Yt(e,i,"src",a.src,a,null);return;case"input":Ot("invalid",e);var T=d=v=h=null,b=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var j=a[l];if(j!=null)switch(l){case"name":h=j;break;case"type":v=j;break;case"checked":b=j;break;case"defaultChecked":L=j;break;case"value":d=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Yt(e,i,l,j,a,null)}}Jr(e,d,T,b,L,v,h,!1),Ks(e);return;case"select":Ot("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Yt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?vi(e,!!l,i,!1):a!=null&&vi(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(e,i,v,T,a,null)}ts(e,l,h,d),Ks(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,i,b,l,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<Zo.length;l++)Ot(Zo[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,L,l,a,null)}return;default:if(mo(i)){for(j in a)a.hasOwnProperty(j)&&(l=a[j],l!==void 0&&Xf(e,i,j,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Yt(e,i,T,l,a,null))}function IA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,b=null,L=null,j=null;for(B in a){var Q=a[B];if(a.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:l.hasOwnProperty(B)||Yt(e,i,B,null,l,Q)}}for(var z in l){var B=l[z];if(Q=a[z],l.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":j=B;break;case"value":v=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==Q&&Yt(e,i,z,B,l,Q)}}sn(e,v,T,b,L,j,d,h);return;case"select":B=v=T=z=null;for(d in a)if(b=a[d],a.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":B=b;default:l.hasOwnProperty(d)||Yt(e,i,d,null,l,b)}for(h in l)if(d=l[h],b=a[h],l.hasOwnProperty(h)&&(d!=null||b!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==b&&Yt(e,i,h,d,l,b)}i=T,a=v,l=B,z!=null?vi(e,!!a,z,!1):!!l!=!!a&&(i!=null?vi(e,!!a,i,!0):vi(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,l,d)}Qt(e,z,B);return;case"option":for(var mt in a)if(z=a[mt],a.hasOwnProperty(mt)&&z!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":e.selected=!1;break;default:Yt(e,i,mt,null,l,z)}for(b in l)if(z=l[b],B=a[b],l.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,i,b,z,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)z=a[ht],a.hasOwnProperty(ht)&&z!=null&&!l.hasOwnProperty(ht)&&Yt(e,i,ht,null,l,z);for(L in l)if(z=l[L],B=a[L],l.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Yt(e,i,L,z,l,B)}return;default:if(mo(i)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!l.hasOwnProperty(Xt)&&Xf(e,i,Xt,void 0,l,z);for(j in l)z=l[j],B=a[j],!l.hasOwnProperty(j)||z===B||z===void 0&&B===void 0||Xf(e,i,j,z,l,B);return}}for(var M in a)z=a[M],a.hasOwnProperty(M)&&z!=null&&!l.hasOwnProperty(M)&&Yt(e,i,M,null,l,z);for(Q in l)z=l[Q],B=a[Q],!l.hasOwnProperty(Q)||z===B||z==null&&B==null||Yt(e,i,Q,z,l,B)}var $f=null,Zf=null;function Xu(e){return e.nodeType===9?e:e.ownerDocument}function z_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Wf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jf=null;function CA(){var e=window.event;return e&&e.type==="popstate"?e===Jf?!1:(Jf=e,!0):(Jf=null,!1)}var q_=typeof setTimeout=="function"?setTimeout:void 0,DA=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,OA=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(e){return H_.resolve(null).then(e).catch(NA)}:q_;function NA(e){setTimeout(function(){throw e})}function _r(e){return e==="head"}function j_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&Jo(v.documentElement),a&2&&Jo(v.body),a&4)for(a=v.head,Jo(a),v=a.firstChild;v;){var T=v.nextSibling,b=v.nodeName;v[Xr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),ol(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ol(i)}function td(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":td(a),Wi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function VA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Xr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function MA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function UA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var nd=null;function G_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function F_(e,i,a){switch(i=Xu(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Jo(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Wi(e)}var wn=new Map,Q_=new Set;function $u(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Li=tt.d;tt.d={f:kA,r:PA,D:xA,C:LA,L:zA,m:BA,X:HA,S:qA,M:jA};function kA(){var e=Li.f(),i=qu();return e||i}function PA(e){var i=Hn(e);i!==null&&i.tag===5&&i.type==="form"?fp(i):Li.r(e)}var Ca=typeof document>"u"?null:document;function K_(e,i,a){var l=Ca;if(l&&typeof i=="string"&&i){var h=de(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Q_.has(h)||(Q_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),xe(i,"link",e),le(i),l.head.appendChild(i)))}}function xA(e){Li.D(e),K_("dns-prefetch",e,null)}function LA(e,i){Li.C(e,i),K_("preconnect",e,i)}function zA(e,i,a){Li.L(e,i,a);var l=Ca;if(l&&e&&i){var h='link[rel="preload"][as="'+de(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+de(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+de(a.imageSizes)+'"]')):h+='[href="'+de(e)+'"]';var d=h;switch(i){case"style":d=Da(e);break;case"script":d=Oa(e)}wn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),wn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(tl(d))||i==="script"&&l.querySelector(el(d))||(i=l.createElement("link"),xe(i,"link",e),le(i),l.head.appendChild(i)))}}function BA(e,i){Li.m(e,i);var a=Ca;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Oa(e)}if(!wn.has(d)&&(e=E({rel:"modulepreload",href:e},i),wn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(el(d)))return}l=a.createElement("link"),xe(l,"link",e),le(l),a.head.appendChild(l)}}}function qA(e,i,a){Li.S(e,i,a);var l=Ca;if(l&&e){var h=Xe(l).hoistableStyles,d=Da(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(tl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=wn.get(d))&&id(e,a);var b=v=l.createElement("link");le(b),xe(b,"link",e),b._p=new Promise(function(L,j){b.onload=L,b.onerror=j}),b.addEventListener("load",function(){T.loading|=1}),b.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Zu(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function HA(e,i){Li.X(e,i);var a=Ca;if(a&&e){var l=Xe(a).hoistableScripts,h=Oa(e),d=l.get(h);d||(d=a.querySelector(el(h)),d||(e=E({src:e,async:!0},i),(i=wn.get(h))&&rd(e,i),d=a.createElement("script"),le(d),xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function jA(e,i){Li.M(e,i);var a=Ca;if(a&&e){var l=Xe(a).hoistableScripts,h=Oa(e),d=l.get(h);d||(d=a.querySelector(el(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=wn.get(h))&&rd(e,i),d=a.createElement("script"),le(d),xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Y_(e,i,a,l){var h=(h=yt.current)?$u(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Da(a.href),a=Xe(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Da(a.href);var d=Xe(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(tl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),wn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wn.set(e,a),d||GA(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Oa(a),a=Xe(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Da(e){return'href="'+de(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function X_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function GA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),xe(i,"link",a),le(i),e.head.appendChild(i))}function Oa(e){return'[src="'+de(e)+'"]'}function el(e){return"script[async]"+e}function $_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+de(a.href)+'"]');if(l)return i.instance=l,le(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),le(l),xe(l,"style",h),Zu(l,a.precedence,e),i.instance=l;case"stylesheet":h=Da(a.href);var d=e.querySelector(tl(h));if(d)return i.state.loading|=4,i.instance=d,le(d),d;l=X_(a),(h=wn.get(h))&&id(l,h),d=(e.ownerDocument||e).createElement("link"),le(d);var v=d;return v._p=new Promise(function(T,b){v.onload=T,v.onerror=b}),xe(d,"link",l),i.state.loading|=4,Zu(d,a.precedence,e),i.instance=d;case"script":return d=Oa(a.src),(h=e.querySelector(el(d)))?(i.instance=h,le(h),h):(l=a,(h=wn.get(d))&&(l=E({},a),rd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),xe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Zu(l,a.precedence,e));return i.instance}function Zu(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function id(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function rd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Wu=null;function Z_(e,i,a){if(Wu===null){var l=new Map,h=Wu=new Map;h.set(a,l)}else h=Wu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Xr]||d[ye]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function W_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function FA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function J_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var nl=null;function QA(){}function KA(e,i,a){if(nl===null)throw Error(s(475));var l=nl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Da(a.href),d=e.querySelector(tl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Ju.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,le(d);return}d=e.ownerDocument||e,a=X_(a),(h=wn.get(h))&&id(a,h),d=d.createElement("link"),le(d);var v=d;v._p=new Promise(function(T,b){v.onload=T,v.onerror=b}),xe(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Ju.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function YA(){if(nl===null)throw Error(s(475));var e=nl;return e.stylesheets&&e.count===0&&sd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&sd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ju(){if(this.count--,this.count===0){if(this.stylesheets)sd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tc=null;function sd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tc=new Map,i.forEach(XA,e),tc=null,Ju.call(e))}function XA(e,i){if(!(i.state.loading&4)){var a=tc.get(e);if(a)var l=a.get(null);else{a=new Map,tc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Ju.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var il={$$typeof:ot,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function $A(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function ty(e,i,a,l,h,d,v,T,b,L,j,Q){return e=new $A(e,i,a,v,T,b,L,Q),i=1,d===!0&&(i|=24),d=on(3,null,null,i),e.current=d,d.stateNode=e,i=zh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},jh(d),e}function ey(e){return e?(e=oa,e):oa}function ny(e,i,a,l,h,d){h=ey(h),l.context===null?l.context=h:l.pendingContext=h,l=rr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=sr(e,l,i),a!==null&&(fn(a,e,i),Mo(a,e,i))}function iy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function ad(e,i){iy(e,i),(e=e.alternate)&&iy(e,i)}function ry(e){if(e.tag===13){var i=aa(e,67108864);i!==null&&fn(i,e,67108864),ad(e,67108864)}}var ec=!0;function ZA(e,i,a,l){var h=H.T;H.T=null;var d=tt.p;try{tt.p=2,od(e,i,a,l)}finally{tt.p=d,H.T=h}}function WA(e,i,a,l){var h=H.T;H.T=null;var d=tt.p;try{tt.p=8,od(e,i,a,l)}finally{tt.p=d,H.T=h}}function od(e,i,a,l){if(ec){var h=ld(l);if(h===null)Yf(e,i,l,nc,a),ay(e,l);else if(tS(h,e,i,a,l))l.stopPropagation();else if(ay(e,l),i&4&&-1<JA.indexOf(e)){for(;h!==null;){var d=Hn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=On(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var b=1<<31-qe(v);T.entanglements[1]|=b,v&=~b}ni(d),(Gt&6)===0&&(zu=mn()+500,$o(0))}}break;case 13:T=aa(d,2),T!==null&&fn(T,d,2),qu(),ad(d,2)}if(d=ld(l),d===null&&Yf(e,i,l,nc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Yf(e,i,l,null,a)}}function ld(e){return e=_n(e),ud(e)}var nc=null;function ud(e){if(nc=null,e=pi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return nc=e,null}function sy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hh()){case to:return 2;case zs:return 8;case Gr:case fh:return 32;case Bs:return 268435456;default:return 32}default:return 32}}var cd=!1,yr=null,vr=null,Tr=null,rl=new Map,sl=new Map,Er=[],JA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ay(e,i){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(i.pointerId)}}function al(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Hn(i),i!==null&&ry(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function tS(e,i,a,l,h){switch(i){case"focusin":return yr=al(yr,e,i,a,l,h),!0;case"dragenter":return vr=al(vr,e,i,a,l,h),!0;case"mouseover":return Tr=al(Tr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return rl.set(d,al(rl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,sl.set(d,al(sl.get(d)||null,e,i,a,l,h)),!0}return!1}function oy(e){var i=pi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,ql(e.priority,function(){if(a.tag===13){var l=hn();l=Xi(l);var h=aa(a,l);h!==null&&fn(h,a,l),ad(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ic(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=ld(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ti=l,a.target.dispatchEvent(l),Ti=null}else return i=Hn(a),i!==null&&ry(i),e.blockedOn=a,!1;i.shift()}return!0}function ly(e,i,a){ic(e)&&a.delete(i)}function eS(){cd=!1,yr!==null&&ic(yr)&&(yr=null),vr!==null&&ic(vr)&&(vr=null),Tr!==null&&ic(Tr)&&(Tr=null),rl.forEach(ly),sl.forEach(ly)}function rc(e,i){e.blockedOn===i&&(e.blockedOn=null,cd||(cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,eS)))}var sc=null;function uy(e){sc!==e&&(sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){sc===e&&(sc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(ud(l||a)===null)continue;break}var d=Hn(a);d!==null&&(e.splice(i,3),i-=3,uf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ol(e){function i(b){return rc(b,e)}yr!==null&&rc(yr,e),vr!==null&&rc(vr,e),Tr!==null&&rc(Tr,e),rl.forEach(i),sl.forEach(i);for(var a=0;a<Er.length;a++){var l=Er[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Er.length&&(a=Er[0],a.blockedOn===null);)oy(a),a.blockedOn===null&&Er.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[fe]||null;if(typeof d=="function")v||uy(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[fe]||null)T=v.formAction;else if(ud(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),uy(a)}}}function hd(e){this._internalRoot=e}ac.prototype.render=hd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=hn();ny(a,l,e,i,null,null)},ac.prototype.unmount=hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;ny(e.current,2,null,e,null,null),qu(),i[gn]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var i=$i();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Er.length&&i!==0&&i<Er[a].priority;a++);Er.splice(a,0,e),a===0&&oy(e)}};var cy=t.version;if(cy!=="19.1.0")throw Error(s(527,cy,"19.1.0"));tt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var nS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{se=oc.inject(nS),jt=oc}catch{}}return ul.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=wp,d=Ip,v=Cp,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=ty(e,1,!1,null,null,a,l,h,d,v,T,null),e[gn]=i.current,Kf(e),new hd(i)},ul.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=wp,v=Ip,T=Cp,b=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=ty(e,1,!0,i,a??null,l,h,d,v,T,b,L),i.context=ey(null),a=i.current,l=hn(),l=Xi(l),h=rr(l),h.callback=null,sr(a,h,l),a=l,i.current.lanes=a,gi(i,a),ni(i),e[gn]=i.current,Kf(e),new ac(i)},ul.version="19.1.0",ul}var Ty;function dS(){if(Ty)return md.exports;Ty=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),md.exports=fS(),md.exports}var mS=dS();const gS=Jv(mS),pS=()=>{};var Ey={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},_S=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],f=r[n++],g=r[n++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return t.join("")},eT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,g=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=c>>2,I=(c&3)<<4|g>>4;let k=(g&15)<<2|y>>6,G=y&63;p||(G=64,f||(k=64)),s.push(n[E],n[I],n[k],n[G])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(tT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):_S(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],g=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const I=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||I==null)throw new yS;const k=c<<2|g>>4;if(s.push(k),y!==64){const G=g<<4&240|y>>2;if(s.push(G),I!==64){const Z=y<<6&192|I;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vS=function(r){const t=tT(r);return eT.encodeByteArray(t,!0)},Rc=function(r){return vS(r).replace(/\./g,"")},nT=function(r){try{return eT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=()=>TS().__FIREBASE_DEFAULTS__,AS=()=>{if(typeof process>"u"||typeof Ey>"u")return;const r=Ey.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},SS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&nT(r[1]);return t&&JSON.parse(t)},Fc=()=>{try{return pS()||ES()||AS()||SS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},iT=r=>{var t,n;return(n=(t=Fc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},rT=r=>{const t=iT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},sT=()=>{var r;return(r=Fc())===null||r===void 0?void 0:r.config},aT=r=>{var t;return(t=Fc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Rc(JSON.stringify(n)),Rc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function wS(){var r;const t=(r=Fc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function DS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OS(){const r=Ke();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function NS(){return!wS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VS(){try{return typeof indexedDB=="object"}catch{return!1}}function MS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="FirebaseError";class hi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=US,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,c=this.errors[t],f=c?kS(c,s):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new hi(o,g,s)}}function kS(r,t){return r.replace(PS,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const PS=/\{\$([^}]+)}/g;function xS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ds(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const c=r[o],f=t[o];if(Ay(c)&&Ay(f)){if(!Ds(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Ay(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function LS(r,t){const n=new zS(r,t);return n.subscribe.bind(n)}class zS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");BS(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=yd),o.error===void 0&&(o.error=yd),o.complete===void 0&&(o.complete=yd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function yd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(r){return r&&r._delegate?r._delegate:r}class Mr{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new bS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jS(t))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=bs){return this.instances.has(t)}getOptions(t=bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&t(f,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=bs){return this.component?this.component.multipleInstances?t:bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HS(r){return r===bs?void 0:r}function jS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new qS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Nt||(Nt={}));const FS={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},QS=Nt.INFO,KS={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},YS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=KS[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rm{constructor(t){this.name=t,this._logLevel=QS,this._logHandler=YS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?FS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const XS=(r,t)=>t.some(n=>r instanceof n);let Sy,by;function $S(){return Sy||(Sy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZS(){return by||(by=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,Od=new WeakMap,uT=new WeakMap,vd=new WeakMap,sm=new WeakMap;function WS(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(Cr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&lT.set(n,r)}).catch(()=>{}),sm.set(t,r),t}function JS(r){if(Od.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Od.set(r,t)}let Nd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Od.get(r);if(t==="objectStoreNames")return r.objectStoreNames||uT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function tb(r){Nd=r(Nd)}function eb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Td(this),t,...n);return uT.set(s,t.sort?t.sort():[t]),Cr(s)}:ZS().includes(r)?function(...t){return r.apply(Td(this),t),Cr(lT.get(this))}:function(...t){return Cr(r.apply(Td(this),t))}}function nb(r){return typeof r=="function"?eb(r):(r instanceof IDBTransaction&&JS(r),XS(r,$S())?new Proxy(r,Nd):r)}function Cr(r){if(r instanceof IDBRequest)return WS(r);if(vd.has(r))return vd.get(r);const t=nb(r);return t!==r&&(vd.set(r,t),sm.set(t,r)),t}const Td=r=>sm.get(r);function ib(r,t,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,t),g=Cr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Cr(f.result),p.oldVersion,p.newVersion,Cr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const rb=["get","getKey","getAll","getAllKeys","count"],sb=["put","add","delete","clear"],Ed=new Map;function Ry(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ed.get(t))return Ed.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=sb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||rb.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),o&&p.done]))[0]};return Ed.set(t,c),c}tb(r=>({...r,get:(t,n,s)=>Ry(t,n)||r.get(t,n,s),has:(t,n)=>!!Ry(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ob(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ob(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Vd="@firebase/app",wy="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new rm("@firebase/app"),lb="@firebase/app-compat",ub="@firebase/analytics-compat",cb="@firebase/analytics",hb="@firebase/app-check-compat",fb="@firebase/app-check",db="@firebase/auth",mb="@firebase/auth-compat",gb="@firebase/database",pb="@firebase/data-connect",_b="@firebase/database-compat",yb="@firebase/functions",vb="@firebase/functions-compat",Tb="@firebase/installations",Eb="@firebase/installations-compat",Ab="@firebase/messaging",Sb="@firebase/messaging-compat",bb="@firebase/performance",Rb="@firebase/performance-compat",wb="@firebase/remote-config",Ib="@firebase/remote-config-compat",Cb="@firebase/storage",Db="@firebase/storage-compat",Ob="@firebase/firestore",Nb="@firebase/vertexai",Vb="@firebase/firestore-compat",Mb="firebase",Ub="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="[DEFAULT]",kb={[Vd]:"fire-core",[lb]:"fire-core-compat",[cb]:"fire-analytics",[ub]:"fire-analytics-compat",[fb]:"fire-app-check",[hb]:"fire-app-check-compat",[db]:"fire-auth",[mb]:"fire-auth-compat",[gb]:"fire-rtdb",[pb]:"fire-data-connect",[_b]:"fire-rtdb-compat",[yb]:"fire-fn",[vb]:"fire-fn-compat",[Tb]:"fire-iid",[Eb]:"fire-iid-compat",[Ab]:"fire-fcm",[Sb]:"fire-fcm-compat",[bb]:"fire-perf",[Rb]:"fire-perf-compat",[wb]:"fire-rc",[Ib]:"fire-rc-compat",[Cb]:"fire-gcs",[Db]:"fire-gcs-compat",[Ob]:"fire-fst",[Vb]:"fire-fst-compat",[Nb]:"fire-vertex","fire-js":"fire-js",[Mb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map,Pb=new Map,Ud=new Map;function Iy(r,t){try{r.container.addComponent(t)}catch(n){Gi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Os(r){const t=r.name;if(Ud.has(t))return Gi.debug(`There were multiple attempts to register component ${t}.`),!1;Ud.set(t,r);for(const n of wc.values())Iy(n,r);for(const n of Pb.values())Iy(n,r);return!0}function Qc(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function In(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Dl("app","Firebase",xb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=Ub;function cT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Md,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw Dr.create("bad-app-name",{appName:String(o)});if(n||(n=sT()),!n)throw Dr.create("no-options");const c=wc.get(o);if(c){if(Ds(n,c.options)&&Ds(s,c.config))return c;throw Dr.create("duplicate-app",{appName:o})}const f=new GS(o);for(const p of Ud.values())f.addComponent(p);const g=new Lb(n,s,f);return wc.set(o,g),g}function am(r=Md){const t=wc.get(r);if(!t&&r===Md&&sT())return cT();if(!t)throw Dr.create("no-app",{appName:r});return t}function ri(r,t,n){var s;let o=(s=kb[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const c=o.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const g=[`Unable to register library "${o}" with version "${t}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gi.warn(g.join(" "));return}Os(new Mr(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="firebase-heartbeat-database",Bb=1,vl="firebase-heartbeat-store";let Ad=null;function hT(){return Ad||(Ad=ib(zb,Bb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(vl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Dr.create("idb-open",{originalErrorMessage:r.message})})),Ad}async function qb(r){try{const n=(await hT()).transaction(vl),s=await n.objectStore(vl).get(fT(r));return await n.done,s}catch(t){if(t instanceof hi)Gi.warn(t.message);else{const n=Dr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gi.warn(n.message)}}}async function Cy(r,t){try{const s=(await hT()).transaction(vl,"readwrite");await s.objectStore(vl).put(t,fT(r)),await s.done}catch(n){if(n instanceof hi)Gi.warn(n.message);else{const s=Dr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(s.message)}}}function fT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=1024,jb=30;class Gb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Dy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>jb){const f=Kb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Gi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dy(),{heartbeatsToSend:s,unsentEntries:o}=Fb(this._heartbeatsCache.heartbeats),c=Rc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Gi.warn(n),""}}}function Dy(){return new Date().toISOString().substring(0,10)}function Fb(r,t=Hb){const n=[];let s=r.slice();for(const o of r){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),Oy(n)>t){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Oy(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Qb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VS()?MS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Oy(r){return Rc(JSON.stringify({version:2,heartbeats:r})).length}function Kb(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(r){Os(new Mr("platform-logger",t=>new ab(t),"PRIVATE")),Os(new Mr("heartbeat",t=>new Gb(t),"PRIVATE")),ri(Vd,wy,r),ri(Vd,wy,"esm2017"),ri("fire-js","")}Yb("");var Xb="firebase",$b="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri(Xb,$b,"app");function om(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function dT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zb=dT,mT=new Dl("auth","Firebase",dT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new rm("@firebase/auth");function Wb(r,...t){Ic.logLevel<=Nt.WARN&&Ic.warn(`Auth (${Us}): ${r}`,...t)}function gc(r,...t){Ic.logLevel<=Nt.ERROR&&Ic.error(`Auth (${Us}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(r,...t){throw um(r,...t)}function Ln(r,...t){return um(r,...t)}function lm(r,t,n){const s=Object.assign(Object.assign({},Zb()),{[t]:n});return new Dl("auth","Firebase",s).create(t,{appName:r.name})}function Is(r){return lm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jb(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&li(r,"argument-error"),lm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function um(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return mT.create(r,...t)}function _t(r,t,...n){if(!r)throw um(t,...n)}function Bi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw gc(t),new Error(t)}function Fi(r,t){r||Bi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function tR(){return Ny()==="http:"||Ny()==="https:"}function Ny(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tR()||CS()||"connection"in navigator)?navigator.onLine:!0}function nR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Fi(n>t,"Short delay should be less than long delay!"),this.isMobile=RS()||DS()}get(){return eR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(r,t){Fi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=new Nl(3e4,6e4);function hm(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Ka(r,t,n,s,o={}){return pT(r,o,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const g=Ol(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:p},c);return IS()||(y.referrerPolicy="no-referrer"),gT.fetch()(_T(r,r.config.apiHost,n,g),y)})}async function pT(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},iR),t);try{const o=new aR(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw lc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw lc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw lc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw lc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw lm(r,E,y);li(r,E)}}catch(o){if(o instanceof hi)throw o;li(r,"network-request-failed",{message:String(o)})}}async function sR(r,t,n,s,o={}){const c=await Ka(r,t,n,s,o);return"mfaPendingCredential"in c&&li(r,"multi-factor-auth-required",{_serverResponse:c}),c}function _T(r,t,n,s){const o=`${t}${n}?${s}`;return r.config.emulator?cm(r.config,o):`${r.config.apiScheme}://${o}`}class aR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ln(this.auth,"network-request-failed")),rR.get())})}}function lc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ln(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(r,t){return Ka(r,"POST","/v1/accounts:delete",t)}async function yT(r,t){return Ka(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lR(r,t=!1){const n=Ye(r),s=await n.getIdToken(t),o=fm(s);_t(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:o,token:s,authTime:ml(Sd(o.auth_time)),issuedAtTime:ml(Sd(o.iat)),expirationTime:ml(Sd(o.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Sd(r){return Number(r)*1e3}function fm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=nT(n);return o?JSON.parse(o):(gc("Failed to decode base64 JWT payload"),null)}catch(o){return gc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Vy(r){const t=fm(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof hi&&uR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function uR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Tl(r,yT(n,{idToken:s}));_t(o==null?void 0:o.users.length,n,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?vT(c.providerUserInfo):[],g=fR(r.providerData,f),p=r.isAnonymous,y=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),E=p?y:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Pd(c.createdAt,c.lastLoginAt),isAnonymous:E};Object.assign(r,I)}async function hR(r){const t=Ye(r);await Cc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fR(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function vT(r){return r.map(t=>{var{providerId:n}=t,s=om(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(r,t){const n=await pT(r,{},async()=>{const s=Ol({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,f=_T(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",gT.fetch()(f,{method:"POST",headers:g,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mR(r,t){return Ka(r,"POST","/v2/accounts:revokeToken",hm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Vy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=Vy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await dR(t,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,f=new ka;return s&&(_t(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(_t(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),c&&(_t(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class qi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,c=om(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Pd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Tl(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return lR(this,t)}reload(){return hR(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new qi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Cc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(Is(this.auth));const t=await this.getIdToken();return await Tl(this,oR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,c,f,g,p,y,E;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,k=(o=n.email)!==null&&o!==void 0?o:void 0,G=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,Z=(f=n.photoURL)!==null&&f!==void 0?f:void 0,et=(g=n.tenantId)!==null&&g!==void 0?g:void 0,$=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,pt=(y=n.createdAt)!==null&&y!==void 0?y:void 0,Et=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ot,emailVerified:vt,isAnonymous:ft,providerData:bt,stsTokenManager:N}=n;_t(ot&&N,t,"internal-error");const S=ka.fromJSON(this.name,N);_t(typeof ot=="string",t,"internal-error"),Sr(I,t.name),Sr(k,t.name),_t(typeof vt=="boolean",t,"internal-error"),_t(typeof ft=="boolean",t,"internal-error"),Sr(G,t.name),Sr(Z,t.name),Sr(et,t.name),Sr($,t.name),Sr(pt,t.name),Sr(Et,t.name);const R=new qi({uid:ot,auth:t,email:k,emailVerified:vt,displayName:I,isAnonymous:ft,photoURL:Z,phoneNumber:G,tenantId:et,stsTokenManager:S,createdAt:pt,lastLoginAt:Et});return bt&&Array.isArray(bt)&&(R.providerData=bt.map(O=>Object.assign({},O))),$&&(R._redirectEventId=$),R}static async _fromIdTokenResponse(t,n,s=!1){const o=new ka;o.updateFromServerResponse(n);const c=new qi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Cc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];_t(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?vT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),g=new ka;g.updateFromIdToken(s);const p=new qi({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Pd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=new Map;function Hi(r){Fi(r instanceof Function,"Expected a class definition");let t=My.get(r);return t?(Fi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,My.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}TT.type="NONE";const Uy=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(r,t,n){return`firebase:${r}:${t}:${n}`}class Pa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=pc(this.userKey,o.apiKey,c),this.fullPersistenceKey=pc("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?qi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Pa(Hi(Uy),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Hi(Uy);const f=pc(s,t.config.apiKey,t.name);let g=null;for(const y of n)try{const E=await y._get(f);if(E){const I=qi._fromJSON(t,E);y!==c&&(g=I),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Pa(c,t,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new Pa(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ET(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wT(t))return"Blackberry";if(IT(t))return"Webos";if(AT(t))return"Safari";if((t.includes("chrome/")||ST(t))&&!t.includes("edge/"))return"Chrome";if(RT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ET(r=Ke()){return/firefox\//i.test(r)}function AT(r=Ke()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ST(r=Ke()){return/crios\//i.test(r)}function bT(r=Ke()){return/iemobile/i.test(r)}function RT(r=Ke()){return/android/i.test(r)}function wT(r=Ke()){return/blackberry/i.test(r)}function IT(r=Ke()){return/webos/i.test(r)}function dm(r=Ke()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function gR(r=Ke()){var t;return dm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function pR(){return OS()&&document.documentMode===10}function CT(r=Ke()){return dm(r)||RT(r)||IT(r)||wT(r)||/windows phone/i.test(r)||bT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(r,t=[]){let n;switch(r){case"Browser":n=ky(Ke());break;case"Worker":n=`${ky(Ke())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Us}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(r,t={}){return Ka(r,"GET","/v2/passwordPolicy",hm(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=6;class TR{constructor(t){var n,s,o,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:vR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Py(this),this.idTokenSubscription=new Py(this),this.beforeStateQueue=new _R(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await yT(this,{idToken:t}),s=await qi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(In(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&(p!=null&&p.user)&&(o=p.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Cc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=nR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(In(this.app))return Promise.reject(Is(this));const n=t?Ye(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return In(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yR(this),n=new TR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Dl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await mR(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hi(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Wb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Kc(r){return Ye(r)}class Py{constructor(t){this.auth=t,this.observer=null,this.addObserver=LS(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AR(r){mm=r}function SR(r){return mm.loadJS(r)}function bR(){return mm.gapiScript}function RR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(r,t){const n=Qc(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Ds(c,t??{}))return o;li(o,"already-initialized")}return n.initialize({options:t})}function IR(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Hi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function CR(r,t,n){const s=Kc(r);_t(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,c=OT(t),{host:f,port:g}=DR(t),p=g===null?"":`:${g}`,y={url:`${c}//${f}${p}/`},E=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_t(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_t(Ds(y,s.config.emulator)&&Ds(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,OR()}function OT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function DR(r){const t=OT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:xy(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:xy(f)}}}function xy(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function OR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(t){return Bi("not implemented")}_linkToIdToken(t,n){return Bi("not implemented")}_getReauthenticationResolver(t){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(r,t){return sR(r,"POST","/v1/accounts:signInWithIdp",hm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="http://localhost";class Ns extends NT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ns(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,c=om(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ns(s,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return xa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,xa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,xa(t,n)}buildRequest(){const t={requestUri:NR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ol(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends gm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Vl{constructor(){super("facebook.com")}static credential(t){return Ns._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return br.credential(t.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ns._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return zi.credentialFromTaggedObject(t)}static credentialFromError(t){return zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return zi.credential(n,s)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Vl{constructor(){super("github.com")}static credential(t){return Ns._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Rr.credential(t.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Vl{constructor(){super("twitter.com")}static credential(t,n){return Ns._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return wr.credential(n,s)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const c=await qi._fromIdTokenResponse(t,s,o),f=Ly(s);return new za({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Ly(s);return new za({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Ly(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends hi{constructor(t,n,s,o){var c;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Dc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Dc(t,n,s,o)}}function VT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Dc._fromErrorAndOperation(r,c,t,s):c})}async function VR(r,t,n=!1){const s=await Tl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return za._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(r,t,n=!1){const{auth:s}=r;if(In(s.app))return Promise.reject(Is(s));const o="reauthenticate";try{const c=await Tl(r,VT(s,o,t,r),n);_t(c.idToken,s,"internal-error");const f=fm(c.idToken);_t(f,s,"internal-error");const{sub:g}=f;return _t(r.uid===g,s,"user-mismatch"),za._forOperation(r,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&li(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(r,t,n=!1){if(In(r.app))return Promise.reject(Is(r));const s="signIn",o=await VT(r,s,t),c=await za._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}function kR(r,t,n,s){return Ye(r).onIdTokenChanged(t,n,s)}function PR(r,t,n){return Ye(r).beforeAuthStateChanged(t,n)}function xR(r,t,n,s){return Ye(r).onAuthStateChanged(t,n,s)}function LR(r){return Ye(r).signOut()}const Oc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oc,"1"),this.storage.removeItem(Oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=1e3,BR=10;class UT extends MT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);pR()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,BR):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},zR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}UT.type="LOCAL";const qR=UT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends MT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}kT.type="SESSION";const PT=kT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Yc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(f).map(async y=>y(n.origin,c)),p=await HR(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const y=pm("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(I){const k=I;if(k.data.eventId===y)switch(k.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(k.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function GR(r){si().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function FR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function KR(){return xT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firebaseLocalStorageDb",YR=1,Nc="firebaseLocalStorage",zT="fbase_key";class Ml{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xc(r,t){return r.transaction([Nc],t?"readwrite":"readonly").objectStore(Nc)}function XR(){const r=indexedDB.deleteDatabase(LT);return new Ml(r).toPromise()}function xd(){const r=indexedDB.open(LT,YR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Nc,{keyPath:zT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Nc)?t(s):(s.close(),await XR(),t(await xd()))})})}async function zy(r,t,n){const s=Xc(r,!0).put({[zT]:t,value:n});return new Ml(s).toPromise()}async function $R(r,t){const n=Xc(r,!1).get(t),s=await new Ml(n).toPromise();return s===void 0?null:s.value}function By(r,t){const n=Xc(r,!0).delete(t);return new Ml(n).toPromise()}const ZR=800,WR=3;class BT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>WR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yc._getInstance(KR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await FR(),!this.activeServiceWorker)return;this.sender=new jR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||QR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xd();return await zy(t,Oc,"1"),await By(t,Oc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>zy(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>$R(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>By(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Xc(o,!1).getAll();return new Ml(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BT.type="LOCAL";const JR=BT;new Nl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(r,t){return t?Hi(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends NT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return xa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function tw(r){return UR(r.auth,new _m(r),r.bypassAuthState)}function ew(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),MR(n,new _m(r),r.bypassAuthState)}async function nw(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),VR(n,new _m(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t,n,s,o,c=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tw;case"linkViaPopup":case"linkViaRedirect":return nw;case"reauthViaPopup":case"reauthViaRedirect":return ew;default:li(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new Nl(2e3,1e4);async function rw(r,t,n){if(In(r.app))return Promise.reject(Ln(r,"operation-not-supported-in-this-environment"));const s=Kc(r);Jb(r,t,gm);const o=qT(s,n);return new Rs(s,"signInViaPopup",t,o).executeNotNull()}class Rs extends HT{constructor(t,n,s,o,c){super(t,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Rs.currentPopupAction&&Rs.currentPopupAction.cancel(),Rs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iw.get())};t()}}Rs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="pendingRedirect",_c=new Map;class aw extends HT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=_c.get(this.auth._key());if(!t){try{const s=await ow(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}_c.set(this.auth._key(),t)}return this.bypassAuthState||_c.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ow(r,t){const n=cw(t),s=uw(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function lw(r,t){_c.set(r._key(),t)}function uw(r){return Hi(r._redirectPersistence)}function cw(r){return pc(sw,r.config.apiKey,r.name)}async function hw(r,t,n=!1){if(In(r.app))return Promise.reject(Is(r));const s=Kc(r),o=qT(s,t),f=await new aw(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=10*60*1e3;class dw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mw(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!jT(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ln(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fw&&this.cachedEventUids.clear(),this.cachedEventUids.has(qy(t))}saveEventToCache(t){this.cachedEventUids.add(qy(t)),this.lastProcessedEventTime=Date.now()}}function qy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function jT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(r,t={}){return Ka(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_w=/^https?/;async function yw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await gw(r);for(const n of t)try{if(vw(n))return}catch{}li(r,"unauthorized-domain")}function vw(r){const t=kd(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!_w.test(n))return!1;if(pw.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new Nl(3e4,6e4);function Hy(){const r=si().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Ew(r){return new Promise((t,n)=>{var s,o,c;function f(){Hy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Hy(),n(Ln(r,"network-request-failed"))},timeout:Tw.get()})}if(!((o=(s=si().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((c=si().gapi)===null||c===void 0)&&c.load)f();else{const g=RR("iframefcb");return si()[g]=()=>{gapi.load?f():n(Ln(r,"network-request-failed"))},SR(`${bR()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw yc=null,t})}let yc=null;function Aw(r){return yc=yc||Ew(r),yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new Nl(5e3,15e3),bw="__/auth/iframe",Rw="emulator/auth/iframe",ww={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Iw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cw(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?cm(t,Rw):`https://${r.config.authDomain}/${bw}`,s={apiKey:t.apiKey,appName:r.name,v:Us},o=Iw.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Ol(s).slice(1)}`}async function Dw(r){const t=await Aw(r),n=si().gapi;return _t(n,r,"internal-error"),t.open({where:document.body,url:Cw(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ww,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const f=Ln(r,"network-request-failed"),g=si().setTimeout(()=>{c(f)},Sw.get());function p(){si().clearTimeout(g),o(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Nw=500,Vw=600,Mw="_blank",Uw="http://localhost";class jy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kw(r,t,n,s=Nw,o=Vw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},Ow),{width:s.toString(),height:o.toString(),top:c,left:f}),y=Ke().toLowerCase();n&&(g=ST(y)?Mw:n),ET(y)&&(t=t||Uw,p.scrollbars="yes");const E=Object.entries(p).reduce((k,[G,Z])=>`${k}${G}=${Z},`,"");if(gR(y)&&g!=="_self")return Pw(t||"",g),new jy(null);const I=window.open(t||"",g,E);_t(I,r,"popup-blocked");try{I.focus()}catch{}return new jy(I)}function Pw(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="__/auth/handler",Lw="emulator/auth/handler",zw=encodeURIComponent("fac");async function Gy(r,t,n,s,o,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Us,eventId:o};if(t instanceof gm){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",xS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,I]of Object.entries({}))f[E]=I}if(t instanceof Vl){const E=t.getScopes().filter(I=>I!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const p=await r._getAppCheckToken(),y=p?`#${zw}=${encodeURIComponent(p)}`:"";return`${Bw(r)}?${Ol(g).slice(1)}${y}`}function Bw({config:r}){return r.emulator?cm(r,Lw):`https://${r.authDomain}/${xw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="webStorageSupport";class qw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PT,this._completeRedirectFn=hw,this._overrideRedirectResult=lw}async _openPopup(t,n,s,o){var c;Fi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await Gy(t,n,s,kd(),o);return kw(t,f,pm())}async _openRedirect(t,n,s,o){await this._originValidation(t);const c=await Gy(t,n,s,kd(),o);return GR(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Fi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await Dw(t),s=new dw(t);return n.register("authEvent",o=>(_t(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(bd,{type:bd},o=>{var c;const f=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[bd];f!==void 0&&n(!!f),li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yw(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return CT()||AT()||dm()}}const Hw=qw;var Fy="@firebase/auth",Qy="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fw(r){Os(new Mr("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;_t(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(r)},y=new ER(s,o,c,p);return IR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Os(new Mr("auth-internal",t=>{const n=Kc(t.getProvider("auth").getImmediate());return(s=>new jw(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ri(Fy,Qy,Gw(r)),ri(Fy,Qy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=5*60,Kw=aT("authIdTokenMaxAge")||Qw;let Ky=null;const Yw=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Kw)return;const o=n==null?void 0:n.token;Ky!==o&&(Ky=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Xw(r=am()){const t=Qc(r,"auth");if(t.isInitialized())return t.getImmediate();const n=wR(r,{popupRedirectResolver:Hw,persistence:[JR,qR,PT]}),s=aT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=Yw(c.toString());PR(n,f,()=>f(n.currentUser)),kR(n,g=>f(g))}}const o=iT("auth");return o&&CR(n,`http://${o}`),n}function $w(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}AR({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const c=Ln("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",$w().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fw("Browser");var Yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Or,GT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,S){function R(){}R.prototype=S.prototype,N.D=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(O,V,U){for(var w=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)w[Ve-2]=arguments[Ve];return S.prototype[V].apply(O,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)O[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],V=N.g[2];var U=N.g[3],w=S+(U^R&(V^U))+O[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=U+(V^S&(R^V))+O[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=V+(R^U&(S^R))+O[2]+606105819&4294967295,V=U+(w<<17&4294967295|w>>>15),w=R+(S^V&(U^S))+O[3]+3250441966&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(U^R&(V^U))+O[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(V^S&(R^V))+O[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=V+(R^U&(S^R))+O[6]+2821735955&4294967295,V=U+(w<<17&4294967295|w>>>15),w=R+(S^V&(U^S))+O[7]+4249261313&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(U^R&(V^U))+O[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(V^S&(R^V))+O[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=V+(R^U&(S^R))+O[10]+4294925233&4294967295,V=U+(w<<17&4294967295|w>>>15),w=R+(S^V&(U^S))+O[11]+2304563134&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(U^R&(V^U))+O[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(V^S&(R^V))+O[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=V+(R^U&(S^R))+O[14]+2792965006&4294967295,V=U+(w<<17&4294967295|w>>>15),w=R+(S^V&(U^S))+O[15]+1236535329&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(V^U&(R^V))+O[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^V&(S^R))+O[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(U^S))+O[11]+643717713&4294967295,V=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(V^U))+O[0]+3921069994&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^U&(R^V))+O[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^V&(S^R))+O[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(U^S))+O[15]+3634488961&4294967295,V=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(V^U))+O[4]+3889429448&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^U&(R^V))+O[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^V&(S^R))+O[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(U^S))+O[3]+4107603335&4294967295,V=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(V^U))+O[8]+1163531501&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^U&(R^V))+O[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^V&(S^R))+O[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(U^S))+O[7]+1735328473&4294967295,V=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(V^U))+O[12]+2368359562&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(R^V^U)+O[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^V)+O[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=V+(U^S^R)+O[11]+1839030562&4294967295,V=U+(w<<16&4294967295|w>>>16),w=R+(V^U^S)+O[14]+4259657740&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^U)+O[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^V)+O[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=V+(U^S^R)+O[7]+4139469664&4294967295,V=U+(w<<16&4294967295|w>>>16),w=R+(V^U^S)+O[10]+3200236656&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^U)+O[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^V)+O[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=V+(U^S^R)+O[3]+3572445317&4294967295,V=U+(w<<16&4294967295|w>>>16),w=R+(V^U^S)+O[6]+76029189&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^U)+O[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^V)+O[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=V+(U^S^R)+O[15]+530742520&4294967295,V=U+(w<<16&4294967295|w>>>16),w=R+(V^U^S)+O[2]+3299628645&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(V^(R|~U))+O[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~V))+O[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=V+(S^(U|~R))+O[14]+2878612391&4294967295,V=U+(w<<15&4294967295|w>>>17),w=R+(U^(V|~S))+O[5]+4237533241&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~U))+O[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~V))+O[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=V+(S^(U|~R))+O[10]+4293915773&4294967295,V=U+(w<<15&4294967295|w>>>17),w=R+(U^(V|~S))+O[1]+2240044497&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~U))+O[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~V))+O[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=V+(S^(U|~R))+O[6]+2734768916&4294967295,V=U+(w<<15&4294967295|w>>>17),w=R+(U^(V|~S))+O[13]+1309151649&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~U))+O[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~V))+O[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=V+(S^(U|~R))+O[2]+718787259&4294967295,V=U+(w<<15&4294967295|w>>>17),w=R+(U^(V|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var R=S-this.blockSize,O=this.B,V=this.h,U=0;U<S;){if(V==0)for(;U<=R;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(O[V++]=N.charCodeAt(U++),V==this.blockSize){o(this,O),V=0;break}}else for(;U<S;)if(O[V++]=N[U++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var R=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=R&255,R/=256;for(this.u(N),N=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)N[R++]=this.g[S]>>>O&255;return N};function c(N,S){var R=g;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function f(N,S){this.h=S;for(var R=[],O=!0,V=N.length-1;0<=V;V--){var U=N[V]|0;O&&U==S||(R[V]=U,O=!1)}this.g=R}var g={};function p(N){return-128<=N&&128>N?c(N,function(S){return new f([S|0],0>S?-1:0)}):new f([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return I;if(0>N)return $(y(-N));for(var S=[],R=1,O=0;N>=R;O++)S[O]=N/R|0,R*=4294967296;return new f(S,0)}function E(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return $(E(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),O=I,V=0;V<N.length;V+=8){var U=Math.min(8,N.length-V),w=parseInt(N.substring(V,V+U),S);8>U?(U=y(Math.pow(S,U)),O=O.j(U).add(y(w))):(O=O.j(R),O=O.add(y(w)))}return O}var I=p(0),k=p(1),G=p(16777216);r=f.prototype,r.m=function(){if(et(this))return-$(this).m();for(var N=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(et(this))return"-"+$(this).toString(N);for(var S=y(Math.pow(N,6)),R=this,O="";;){var V=vt(R,S).g;R=pt(R,V.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=V,Z(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function et(N){return N.h==-1}r.l=function(N){return N=pt(this,N),et(N)?-1:Z(N)?0:1};function $(N){for(var S=N.g.length,R=[],O=0;O<S;O++)R[O]=~N.g[O];return new f(R,~N.h).add(k)}r.abs=function(){return et(this)?$(this):this},r.add=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0,V=0;V<=S;V++){var U=O+(this.i(V)&65535)+(N.i(V)&65535),w=(U>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);O=w>>>16,U&=65535,w&=65535,R[V]=w<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function pt(N,S){return N.add($(S))}r.j=function(N){if(Z(this)||Z(N))return I;if(et(this))return et(N)?$(this).j($(N)):$($(this).j(N));if(et(N))return $(this.j($(N)));if(0>this.l(G)&&0>N.l(G))return y(this.m()*N.m());for(var S=this.g.length+N.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<N.g.length;V++){var U=this.i(O)>>>16,w=this.i(O)&65535,Ve=N.i(V)>>>16,re=N.i(V)&65535;R[2*O+2*V]+=w*re,Et(R,2*O+2*V),R[2*O+2*V+1]+=U*re,Et(R,2*O+2*V+1),R[2*O+2*V+1]+=w*Ve,Et(R,2*O+2*V+1),R[2*O+2*V+2]+=U*Ve,Et(R,2*O+2*V+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new f(R,0)};function Et(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ot(N,S){this.g=N,this.h=S}function vt(N,S){if(Z(S))throw Error("division by zero");if(Z(N))return new ot(I,I);if(et(N))return S=vt($(N),S),new ot($(S.g),$(S.h));if(et(S))return S=vt(N,$(S)),new ot($(S.g),S.h);if(30<N.g.length){if(et(N)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var R=k,O=S;0>=O.l(N);)R=ft(R),O=ft(O);var V=bt(R,1),U=bt(O,1);for(O=bt(O,2),R=bt(R,2);!Z(O);){var w=U.add(O);0>=w.l(N)&&(V=V.add(R),U=w),O=bt(O,1),R=bt(R,1)}return S=pt(N,V.j(S)),new ot(V,S)}for(V=I;0<=N.l(S);){for(R=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=y(R),w=U.j(S);et(w)||0<w.l(N);)R-=O,U=y(R),w=U.j(S);Z(U)&&(U=k),V=V.add(U),N=pt(N,w)}return new ot(V,N)}r.A=function(N){return vt(this,N).h},r.and=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&N.i(O);return new f(R,this.h&N.h)},r.or=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|N.i(O);return new f(R,this.h|N.h)},r.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^N.i(O);return new f(R,this.h^N.h)};function ft(N){for(var S=N.g.length+1,R=[],O=0;O<S;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new f(R,N.h)}function bt(N,S){var R=S>>5;S%=32;for(var O=N.g.length-R,V=[],U=0;U<O;U++)V[U]=0<S?N.i(U+R)>>>S|N.i(U+R+1)<<32-S:N.i(U+R);return new f(V,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,GT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Or=f}).apply(typeof Yy<"u"?Yy:typeof self<"u"?self:typeof window<"u"?window:{});var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FT,cl,QT,vc,Ld,KT,YT,XT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof uc=="object"&&uc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in _))break t;_=_[P]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,A=!1,P={next:function(){if(!A&&_<u.length){var q=_++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,_){return u.call.apply(u.bind,arguments)}function I(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,A),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function k(u,m,_){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:I,k.apply(null,arguments)}function G(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function Z(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,P,q){for(var J=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)J[Mt-2]=arguments[Mt];return m.prototype[P].apply(A,J)}}function et(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function $(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const P=u.length||0,q=A.length||0;u.length=P+q;for(let J=0;J<q;J++)u[P+J]=A[J]}else u.push(A)}}class pt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Et(u){return/^[\s\xa0]*$/.test(u)}function ot(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function vt(u){return vt[" "](u),u}vt[" "]=function(){};var ft=ot().indexOf("Gecko")!=-1&&!(ot().toLowerCase().indexOf("webkit")!=-1&&ot().indexOf("Edge")==-1)&&!(ot().indexOf("Trident")!=-1||ot().indexOf("MSIE")!=-1)&&ot().indexOf("Edge")==-1;function bt(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function N(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let _,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(_ in A)u[_]=A[_];for(let q=0;q<R.length;q++)_=R[q],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function U(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Lt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ve{constructor(){this.h=this.g=null}add(m,_){const A=re.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new pt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,lt=!1,Lt=new Ve,C=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(X)}};var X=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(_){U(_)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function It(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ft){t:{try{vt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&It.aa.h.call(this)}}Z(It,W);var yt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Bn(u,m,_,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=P,this.key=++Zt,this.da=this.fa=!1}function Yi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function di(u){this.src=u,this.g={},this.h=0}di.prototype.add=function(u,m,_,A,P){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var J=Hr(u,m,A,P);return-1<J?(m=u[J],_||(m.fa=!1)):(m=new Bn(m,this.src,q,!!A,P),m.fa=_,u.push(m)),m};function qr(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],P=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=P)&&Array.prototype.splice.call(A,P,1),q&&(Yi(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Hr(u,m,_,A){for(var P=0;P<u.length;++P){var q=u[P];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==A)return P}return-1}var jr="closure_lm_"+(1e6*Math.random()|0),Ja={};function Ll(u,m,_,A,P){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Ll(u,m[q],_,A,P);return null}return _=zl(_),u&&u[Re]?u.K(m,_,y(A)?!!A.capture:!1,P):mn(u,m,_,!1,A,P)}function mn(u,m,_,A,P,q){if(!m)throw Error("Invalid event type");var J=y(P)?!!P.capture:!!P,Mt=Bs(u);if(Mt||(u[jr]=Mt=new di(u)),_=Mt.add(m,_,A,J,q),_.proxy)return _;if(A=hh(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)ct||(P=J),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(Gr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function hh(){function u(_){return m.call(u.src,u.listener,_)}const m=fh;return u}function to(u,m,_,A,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)to(u,m[q],_,A,P);else A=y(A)?!!A.capture:!!A,_=zl(_),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],_=Hr(q,_,A,P),-1<_&&(Yi(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Bs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Hr(m,_,A,P)),(_=-1<u?m[u]:null)&&zs(_))}function zs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])qr(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Gr(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Bs(m))?(qr(_,u),_.h==0&&(_.src=null,m[jr]=null)):Yi(u)}}}function Gr(u){return u in Ja?Ja[u]:Ja[u]="on"+u}function fh(u,m){if(u.da)u=!0;else{m=new It(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&zs(u),u=_.call(A,m)}return u}function Bs(u){return u=u[jr],u instanceof di?u:null}var eo="__closure_events_fn_"+(1e9*Math.random()>>>0);function zl(u){return typeof u=="function"?u:(u[eo]||(u[eo]=function(m){return u.handleEvent(m)}),u[eo])}function se(){nt.call(this),this.i=new di(this),this.M=this,this.F=null}Z(se,nt),se.prototype[Re]=!0,se.prototype.removeEventListener=function(u,m,_,A){to(this,u,m,_,A)};function jt(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var P=m;m=new W(A,u),O(m,P)}if(P=!0,_)for(var q=_.length-1;0<=q;q--){var J=m.g=_[q];P=rn(J,A,!0,m)&&P}if(J=m.g=u,P=rn(J,A,!0,m)&&P,P=rn(J,A,!1,m)&&P,_)for(q=0;q<_.length;q++)J=m.g=_[q],P=rn(J,A,!1,m)&&P}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)Yi(_[A]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},se.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function rn(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,q=0;q<m.length;++q){var J=m[q];if(J&&!J.da&&J.capture==_){var Mt=J.listener,ve=J.ha||J.src;J.fa&&qr(u.i,J),P=Mt.call(ve,A)!==!1&&P}}return P&&!A.defaultPrevented}function qe(u,m,_){if(typeof u=="function")_&&(u=k(u,_));else if(u&&typeof u.handleEvent=="function")u=k(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Bl(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,Bl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class dh extends nt{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Bl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(u){nt.call(this),this.h=u,this.g={}}Z(Fr,nt);var Qr=[];function Kr(u){bt(u.g,function(m,_){this.g.hasOwnProperty(_)&&zs(m)},u),u.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),Kr(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=g.JSON.stringify,qs=g.JSON.parse,Yr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function no(){}no.prototype.h=null;function io(u){return u.h||(u.h=u.i())}function ro(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gi(){W.call(this,"d")}Z(gi,W);function so(){W.call(this,"c")}Z(so,W);var qn={},ao=null;function Xi(){return ao=ao||new se}qn.La="serverreachability";function Hs(u){W.call(this,qn.La,u)}Z(Hs,W);function $i(u){const m=Xi();jt(m,new Hs(m))}qn.STAT_EVENT="statevent";function ql(u,m){W.call(this,qn.STAT_EVENT,u),this.stat=m}Z(ql,W);function te(u){const m=Xi();jt(m,new ql(m,u))}qn.Ma="timingevent";function ye(u,m){W.call(this,qn.Ma,u),this.size=m}Z(ye,W);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function oo(u,m,_,A,P,q){u.info(function(){if(u.g)if(q)for(var J="",Mt=q.split("&"),ve=0;ve<Mt.length;ve++){var Ut=Mt[ve].split("=");if(1<Ut.length){var Ie=Ut[0];Ut=Ut[1];var Te=Ie.split("_");J=2<=Te.length&&Te[1]=="type"?J+(Ie+"="+Ut+"&"):J+(Ie+"=redacted&")}}else J=null;else J=q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+_+`
`+J})}function mh(u,m,_,A,P,q,J){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+_+`
`+q+" "+J})}function Zi(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Xr(u,_)+(A?" "+A:"")})}function Hl(u,m){u.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function Xr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var P=A[1];if(Array.isArray(P)&&!(1>P.length)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(var J=1;J<P.length;J++)P[J]=""}}}}return On(_)}catch{return m}}var Wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function jn(){}Z(jn,no),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},Hn=new jn;function Xe(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var lo={},js={};function Nn(u,m,_){u.L=1,u.v=ts(sn(m)),u.m=_,u.P=!0,_i(u,null)}function _i(u,m){u.F=Date.now(),$r(u),u.A=sn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),go(_.i,"t",A),u.C=0,_=u.j.J,u.h=new le,u.g=ru(u.j,_?m:null,!u.m),0<u.O&&(u.M=new dh(k(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Qr[0]=P.toString()),P=Qr);for(var q=0;q<P.length;q++){var J=Ll(_,P[q],A||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),$i(),oo(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&vn(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Te=vn(this.g);var m=this.g.Ba();const Ri=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||$l(this.g)))){this.J||Te!=4||m==7||(m==8||0>=Ri?$i(3):$i(2)),Ji(this);var _=this.g.Z();this.X=_;e:if(jl(this)){var A=$l(this.g);u="";var P=A.length,q=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),Gn(this);var J="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==P-1)});A.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=_==200,mh(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,ve=this.g;if((Mt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Et(Mt)){var Ut=Mt;break e}}Ut=null}if(_=Ut)Zi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zr(this,_);else{this.o=!1,this.s=3,te(12),Me(this),Gn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<J.length;)if(Ue=Gl(this,J),Ue==js){Te==4&&(this.s=4,te(14),_=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==lo){this.s=4,te(15),Zi(this.i,this.l,J,"[Invalid Chunk]"),_=!1;break}else Zi(this.i,this.l,Ue,null),Zr(this,Ue);if(jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||J.length!=0||this.h.h||(this.s=1,te(16),_=!1),this.o=this.o&&_,!_)Zi(this.i,this.l,J,"[Invalid Chunked Response]"),Me(this),Gn(this);else if(0<J.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ls(Ie),Ie.M=!0,te(11))}}else Zi(this.i,this.l,J,null),Zr(this,J);Te==4&&Me(this),this.o&&!this.J&&(Te==4?eu(this.j,this):(this.o=!1,$r(this)))}else vh(this.g),_==400&&0<J.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Me(this),Gn(this)}}}catch{}finally{}};function jl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Gl(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?js:(_=Number(m.substring(_,A)),isNaN(_)?lo:(A+=1,A+_>m.length?js:(m=m.slice(A,A+_),u.C=A+_,m)))}Xe.prototype.cancel=function(){this.J=!0,Me(this)};function $r(u){u.S=Date.now()+u.I,Fl(u,u.I)}function Fl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(k(u.ba,u),m)}function Ji(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Hl(this.i,this.A),this.L!=2&&($i(),te(17)),Me(this),this.s=2,Gn(this)):Fl(this,this.S-u)};function Gn(u){u.j.G==0||u.J||eu(u.j,u)}function Me(u){Ji(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Kr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Zr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||uo(_.h,u))){if(!u.K&&uo(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)ea(_),Js(_);else break t;To(_),te(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=fe(k(_.Za,_),6e3));if(1>=Fs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((u.K||_.g==u)&&ea(_),!Et(m))for(P=_.Da.g.parse(m),m=0;m<P.length;m++){let Ut=P[m];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Ie=Ut[3];Ie!=null&&(_.la=Ie,_.j.info("VER="+_.la));const Te=Ut[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const Ri=Ut[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(A=1.5*Ri,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=u.g;if(Ue){const Zn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var q=A.h;q.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Qs(q,q.h),q.h=null))}if(A.D){const Ao=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(A.ya=Ao,Qt(A.I,A.D,Ao))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var J=u;if(A.qa=iu(A,A.J?A.ia:null,A.W),J.K){$e(A.h,J);var Mt=J,ve=A.L;ve&&(Mt.I=ve),Mt.B&&(Ji(Mt),$r(Mt)),A.g=J}else Jl(A);0<_.i.length&&ta(_)}else Ut[0]!="stop"&&Ut[0]!="close"||bi(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?bi(_,7):yo(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}$i(4)}catch{}}var Ql=class{constructor(u,m){this.g=u,this.map=m}};function yi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fs(u){return u.h?1:u.g?u.g.size:0}function uo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Qs(u,m){u.g?u.g.add(m):u.h=m}function $e(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yi.prototype.cancel=function(){if(this.i=co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function co(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return et(u.i)}function gh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function Ks(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function ho(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Ks(u),A=gh(u),P=A.length,q=0;q<P;q++)m.call(void 0,A[q],_&&_[q],u)}var Wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ph(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),P=null;if(0<=A){var q=u[_].substring(0,A);P=u[_].substring(A+1)}else q=u[_];m(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Jr(this,u.j),this.o=u.o,this.g=u.g,tr(this,u.s),this.l=u.l;var m=u.i,_=new Ti;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),vi(this,_),this.m=u.m}else u&&(m=String(u).match(Wr))?(this.h=!1,Jr(this,m[1]||"",!0),this.o=pn(m[2]||""),this.g=pn(m[3]||"",!0),tr(this,m[4]),this.l=pn(m[5]||"",!0),vi(this,m[6]||"",!0),this.m=pn(m[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(es(m,fo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(es(m,fo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(es(_,_.charAt(0)=="/"?_h:mo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",es(_,Ys)),u.join("")};function sn(u){return new de(u)}function Jr(u,m,_){u.j=_?pn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function tr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function vi(u,m,_){m instanceof Ti?(u.i=m,Yl(u.i,u.h)):(_||(m=es(m,yh)),u.i=new Ti(m,u.h))}function Qt(u,m,_){u.i.set(m,_)}function ts(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function es(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Kl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Kl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fo=/[#\/\?@]/g,mo=/[#\?:]/g,_h=/[#\?]/g,yh=/[#\?@]/g,Ys=/#/g;function Ti(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&ph(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Ti.prototype,r.add=function(u,m){_n(this),this.i=null,u=Fn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ei(u,m){_n(u),m=Fn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ai(u,m){return _n(u),m=Fn(u,m),u.g.has(m)}r.forEach=function(u,m){_n(this),this.g.forEach(function(_,A){_.forEach(function(P){u.call(m,P,A,this)},this)},this)},r.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const P=u[A];for(let q=0;q<P.length;q++)_.push(m[A])}return _},r.V=function(u){_n(this);let m=[];if(typeof u=="string")Ai(this,u)&&(m=m.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return _n(this),this.i=null,u=Fn(this,u),Ai(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function go(u,m,_){Ei(u,m),0<_.length&&(u.i=null,u.g.set(Fn(u,m),et(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const q=encodeURIComponent(String(A)),J=this.V(A);for(A=0;A<J.length;A++){var P=q;J[A]!==""&&(P+="="+encodeURIComponent(String(J[A]))),u.push(P)}}return this.i=u.join("&")};function Fn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Yl(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(_,A){var P=A.toLowerCase();A!=P&&(Ei(this,A),go(this,P,_))},u)),u.j=m}function ns(u,m){const _=new gn;if(g.Image){const A=new Image;A.onload=G(yn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=G(yn,_,"TestLoadImage: error",!1,m,A),A.onabort=G(yn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=G(yn,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Vn(u,m){const _=new gn,A=new AbortController,P=setTimeout(()=>{A.abort(),yn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(P),q.ok?yn(_,"TestPingServer: ok",!0,m):yn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),yn(_,"TestPingServer: error",!1,m)})}function yn(u,m,_,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(_)}catch{}}function is(){this.g=new Yr}function Qn(u,m,_){const A=_||"";try{ho(u,function(P,q){let J=P;y(P)&&(J=On(P)),m.push(A+q+"="+encodeURIComponent(J))})}catch(P){throw m.push(A+"type="+encodeURIComponent("_badmap")),P}}function er(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(er,no),er.prototype.g=function(){return new Si(this.l,this.j)},er.prototype.i=function(u){return function(){return u}}({});function Si(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(Si,se),r=Si.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;po(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function po(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Kn(this):Yn(this),this.readyState==3&&po(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Kn(this))},r.Qa=function(u){this.g&&(this.response=u,Kn(this))},r.ga=function(){this.g&&Kn(this)};function Kn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _o(u){let m="";return bt(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function we(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=_o(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Qt(u,m,_))}function qt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(qt,se);var Xs=/^https?$/i,rs=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?io(this.o):io(Hn),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Xl(this,q);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)_.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(rs,m,void 0))||A||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,J]of _)this.g.setRequestHeader(q,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Xl(this,q)}};function Xl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,$s(u),Xn(u)}function $s(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Xn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Zs(this):this.bb())},r.bb=function(){Zs(this)};function Zs(u){if(u.h&&typeof f<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)qe(u.Ea,0,u);else if(jt(u,"readystatechange"),vn(u)==4){u.h=!1;try{const J=u.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=J===0){var P=String(u.D).match(Wr)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),A=!Xs.test(P?P.toLowerCase():"")}_=A}if(_)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var q=2<vn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",$s(u)}}finally{Xn(u)}}}}function Xn(u,m){if(u.g){ss(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{_.onreadystatechange=A}catch{}}}function ss(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qs(m)}};function $l(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vh(u){const m={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(Et(u[A]))continue;var _=V(u[A]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[P]||[];m[P]=q,q.push(_)}N(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ws(u){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,u),this.cb=as("retryDelaySeedMs",1e4,u),this.Wa=as("forwardChannelMaxRetries",2,u),this.wa=as("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new yi(u&&u.concurrentRequestLimit),this.Da=new is,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ws.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,A){te(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=iu(this,null,this.W),ta(this)};function yo(u){if(Zl(u),u.G==3){var m=u.U++,_=sn(u.I);if(Qt(_,"SID",u.K),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),os(u,_),m=new Xe(u,u.j,m),m.L=2,m.v=ts(sn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=ru(m.j,null),m.g.ea(m.v)),m.F=Date.now(),$r(m)}nu(u)}function Js(u){u.g&&(ls(u),u.g.cancel(),u.g=null)}function Zl(u){Js(u),u.u&&(g.clearTimeout(u.u),u.u=null),ea(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ta(u){if(!Gs(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||C(),lt||(tt(),lt=!0),Lt.add(m,u),u.B=0}}function Th(u,m){return Fs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(k(u.Ga,u,m),Eo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Xe(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(P.H=q,q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Wl(this,P,m),_=sn(this.I),Qt(_,"RID",u),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),os(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(_o(q)))+"&"+m:this.m&&we(_,this.m,q)),Qs(this.h,P),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",m),Qt(_,"SID","null"),P.T=!0,Nn(P,_,null)):Nn(P,_,m),this.G=2}}else this.G==3&&(u?vo(this,u):this.i.length==0||Gs(this.h)||vo(this))};function vo(u,m){var _;m?_=m.l:_=u.U++;const A=sn(u.I);Qt(A,"SID",u.K),Qt(A,"RID",_),Qt(A,"AID",u.T),os(u,A),u.m&&u.o&&we(A,u.m,u.o),_=new Xe(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Wl(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Qs(u.h,_),Nn(_,A,m)}function os(u,m){u.H&&bt(u.H,function(_,A){Qt(m,A,_)}),u.l&&ho({},function(_,A){Qt(m,A,_)})}function Wl(u,m,_){_=Math.min(u.i.length,_);var A=u.l?k(u.l.Na,u.l,u):null;t:{var P=u.i;let q=-1;for(;;){const J=["count="+_];q==-1?0<_?(q=P[0].g,J.push("ofs="+q)):q=0:J.push("ofs="+q);let Mt=!0;for(let ve=0;ve<_;ve++){let Ut=P[ve].g;const Ie=P[ve].map;if(Ut-=q,0>Ut)q=Math.max(0,P[ve].g-100),Mt=!1;else try{Qn(Ie,J,"req"+Ut+"_")}catch{A&&A(Ie)}}if(Mt){A=J.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function Jl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||C(),lt||(tt(),lt=!0),Lt.add(m,u),u.v=0}}function To(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(k(u.Fa,u),Eo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(k(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Js(this),tu(this))};function ls(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function tu(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),os(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ts(sn(m)),_.m=null,_.P=!0,_i(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Js(this),To(this),te(19))};function ea(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function eu(u,m){var _=null;if(u.g==m){ea(u),ls(u),u.g=null;var A=2}else if(uo(u.h,m))_=m.D,$e(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;A=Xi(),jt(A,new ye(A,_)),ta(u)}else Jl(u);else if(P=m.s,P==3||P==0&&0<m.X||!(A==1&&Th(u,m)||A==2&&To(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),P){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function Eo(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var _=k(u.fb,u),A=u.Xa;const P=!A;A=new de(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Jr(A,"https"),ts(A),P?ns(A.toString(),_):Vn(A.toString(),_)}else te(2);u.G=0,u.l&&u.l.sa(m),nu(u),Zl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function nu(u){if(u.G=0,u.ka=[],u.l){const m=co(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,et(u.i),u.i.length=0),u.l.ra()}}function iu(u,m,_){var A=_ instanceof de?sn(_):new de(_);if(A.g!="")m&&(A.g=m+"."+A.g),tr(A,A.s);else{var P=g.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var q=new de(null);A&&Jr(q,A),m&&(q.g=m),P&&tr(q,P),_&&(q.l=_),A=q}return _=u.D,m=u.ya,_&&m&&Qt(A,_,m),Qt(A,"VER",u.la),os(u,A),A}function ru(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new er({eb:_})):new qt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}r=su.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function na(){}na.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){se.call(this),this.g=new Ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Et(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Et(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $n(this)}Z(Ze,se),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){yo(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=On(u),u=_);m.i.push(new Ql(m.Ya++,u)),m.G==3&&ta(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,yo(this.g),delete this.g,Ze.aa.N.call(this)};function au(u){gi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(au,gi);function ou(){so.call(this),this.status=1}Z(ou,so);function $n(u){this.g=u}Z($n,su),$n.prototype.ua=function(){jt(this.g,"a")},$n.prototype.ta=function(u){jt(this.g,new au(u))},$n.prototype.sa=function(u){jt(this.g,new ou)},$n.prototype.ra=function(){jt(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,XT=function(){return new na},YT=function(){return Xi()},KT=qn,Ld={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,vc=Wi,pi.COMPLETE="complete",QT=pi,ro.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",se.prototype.listen=se.prototype.K,cl=ro,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,FT=qt}).apply(typeof uc<"u"?uc:typeof self<"u"?self:typeof window<"u"?window:{});const Xy="@firebase/firestore",$y="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new rm("@firebase/firestore");function Na(){return Vs.logLevel}function it(r,...t){if(Vs.logLevel<=Nt.DEBUG){const n=t.map(ym);Vs.debug(`Firestore (${Ya}): ${r}`,...n)}}function Qi(r,...t){if(Vs.logLevel<=Nt.ERROR){const n=t.map(ym);Vs.error(`Firestore (${Ya}): ${r}`,...n)}}function Ba(r,...t){if(Vs.logLevel<=Nt.WARN){const n=t.map(ym);Vs.warn(`Firestore (${Ya}): ${r}`,...n)}}function ym(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r="Unexpected state"){const t=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: `+r;throw Qi(t),new Error(t)}function Ht(r,t){r||gt()}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends hi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Zw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Fe.UNAUTHENTICATED))}shutdown(){}}class Ww{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Jw{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Nr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Nr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string"),new $T(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string"),new Fe(t)}}class tI{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class eI{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new tI(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nI{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,In(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,it("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const o=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Zy(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ht(typeof n.token=="string"),this.R=n.token,new Zy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=iI(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=t.charAt(o[c]%62))}return s}}function wt(r,t){return r<t?-1:r>t?1:0}function zd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return wt(s,o);{const c=ZT(),f=rI(c.encode(Wy(r,n)),c.encode(Wy(t,n)));return f!==0?f:wt(s,o)}}n+=s>65535?2:1}return wt(r.length,t.length)}function Wy(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function rI(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return wt(r[n],t[n]);return wt(r.length,t.length)}function qa(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=-62135596800,tv=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*tv);return new Se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Jy)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tv}_compareTo(t){return this.seconds===t.seconds?wt(this.nanoseconds,t.nanoseconds):wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Jy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new Se(0,0))}static max(){return new Tt(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="__name__";class ii{constructor(t,n,s){n===void 0?n=0:n>t.length&&gt(),s===void 0?s=t.length-n:s>t.length-n&&gt(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ii.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ii?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const c=ii.compareSegments(t.get(o),n.get(o));if(c!==0)return c}return wt(t.length,n.length)}static compareSegments(t,n){const s=ii.isNumericId(t),o=ii.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ii.extractNumericId(t).compare(ii.extractNumericId(n)):zd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Or.fromString(t.substring(4,t.length-2))}}class Jt extends ii{construct(t,n,s){return new Jt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Jt(n)}static emptyPath(){return new Jt([])}}const sI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ii{construct(t,n,s){return new ze(t,n,s)}static isValidIdentifier(t){return sI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ev}static keyField(){return new ze([ev])}static fromServerFormat(t){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new rt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new rt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(s+=g,o++):(c(),o++)}if(c(),f)throw new rt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(n)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.path=t}static fromPath(t){return new ut(Jt.fromString(t))}static fromName(t){return new ut(Jt.fromString(t).popFirst(5))}static empty(){return new ut(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=-1;function aI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new Se(n+1,0):new Se(n,s));return new Ur(o,ut.empty(),t)}function oI(r){return new Ur(r.readTime,r.key,El)}class Ur{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ur(Tt.min(),ut.empty(),El)}static max(){return new Ur(Tt.max(),ut.empty(),El)}}function lI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ut.comparator(r.documentKey,t.documentKey),n!==0?n:wt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==uI)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new K((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):K.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):K.reject(n)}static resolve(t){return new K((n,s)=>{n(t)})}static reject(t){return new K((n,s)=>{s(t)})}static waitFor(t){return new K((n,s)=>{let o=0,c=0,f=!1;t.forEach(g=>{++o,g.next(()=>{++c,f&&c===o&&n()},p=>s(p))}),f=!0,c===o&&n()})}static or(t){let n=K.resolve(!1);for(const s of t)n=n.next(o=>o?K.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,c)=>{s.push(n.call(this,o,c))}),this.waitFor(s)}static mapArray(t,n){return new K((s,o)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;n(t[y]).next(E=>{f[y]=E,++g,g===c&&s(f)},E=>o(E))}})}static doWhile(t,n){return new K((s,o)=>{const c=()=>{t()===!0?n().next(()=>{c()},o):s()};c()})}}function hI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $a(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}$c.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=-1;function Zc(r){return r==null}function Vc(r){return r===0&&1/r==-1/0}function fI(r){return typeof r=="number"&&Number.isInteger(r)&&!Vc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="";function dI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=nv(t)),t=mI(r.get(n),t);return nv(t)}function mI(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case JT:n+="";break;default:n+=c}}return n}function nv(r){return r+JT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ks(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function tE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,n){this.comparator=t,this.root=n||Le.EMPTY}insert(t,n){return new ie(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Le.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cc(this.root,t,this.comparator,!0)}}class cc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Le{constructor(t,n,s,o,c){this.key=t,this.value=n,this.color=s??Le.RED,this.left=o??Le.EMPTY,this.right=c??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,c){return new Le(t??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Le.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const t=this.left.check();if(t!==this.right.check())throw gt();return t+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(t,n,s,o,c){return this}insert(t,n,s){return new Le(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new rv(this.data.getIterator())}getIteratorFrom(t){return new rv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof be)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new be(this.comparator);return n.data=t,n}}class rv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new Pn([])}unionWith(t){let n=new be(ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return qa(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new eE("Invalid base64 string: "+c):c}}(t);return new Be(n)}static fromUint8Array(t){const n=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(t);return new Be(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const gI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(r){if(Ht(!!r),typeof r=="string"){let t=0;const n=gI.exec(r);if(Ht(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:he(r.seconds),nanos:he(r.nanos)}}function he(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Pr(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="server_timestamp",iE="__type__",rE="__previous_value__",sE="__local_write_time__";function Tm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[iE])===null||n===void 0?void 0:n.stringValue)===nE}function Wc(r){const t=r.mapValue.fields[rE];return Tm(t)?Wc(t):t}function Al(r){const t=kr(r.mapValue.fields[sE].timestampValue);return new Se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t,n,s,o,c,f,g,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const Mc="(default)";class Sl{constructor(t,n){this.projectId=t,this.database=n||Mc}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database===Mc}isEqual(t){return t instanceof Sl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="__type__",_I="__max__",hc={mapValue:{}},oE="__vector__",Uc="value";function xr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Tm(r)?4:vI(r)?9007199254740991:yI(r)?10:11:gt()}function ui(r,t){if(r===t)return!0;const n=xr(r);if(n!==xr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Al(r).isEqual(Al(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=kr(o.timestampValue),g=kr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return Pr(o.bytesValue).isEqual(Pr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return he(o.geoPointValue.latitude)===he(c.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return he(o.integerValue)===he(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=he(o.doubleValue),g=he(c.doubleValue);return f===g?Vc(f)===Vc(g):isNaN(f)&&isNaN(g)}return!1}(r,t);case 9:return qa(r.arrayValue.values||[],t.arrayValue.values||[],ui);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},g=c.mapValue.fields||{};if(iv(f)!==iv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!ui(f[p],g[p])))return!1;return!0}(r,t);default:return gt()}}function bl(r,t){return(r.values||[]).find(n=>ui(n,t))!==void 0}function Ha(r,t){if(r===t)return 0;const n=xr(r),s=xr(t);if(n!==s)return wt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return wt(r.booleanValue,t.booleanValue);case 2:return function(c,f){const g=he(c.integerValue||c.doubleValue),p=he(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return sv(r.timestampValue,t.timestampValue);case 4:return sv(Al(r),Al(t));case 5:return zd(r.stringValue,t.stringValue);case 6:return function(c,f){const g=Pr(c),p=Pr(f);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const g=c.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=wt(g[y],p[y]);if(E!==0)return E}return wt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const g=wt(he(c.latitude),he(f.latitude));return g!==0?g:wt(he(c.longitude),he(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return av(r.arrayValue,t.arrayValue);case 10:return function(c,f){var g,p,y,E;const I=c.fields||{},k=f.fields||{},G=(g=I[Uc])===null||g===void 0?void 0:g.arrayValue,Z=(p=k[Uc])===null||p===void 0?void 0:p.arrayValue,et=wt(((y=G==null?void 0:G.values)===null||y===void 0?void 0:y.length)||0,((E=Z==null?void 0:Z.values)===null||E===void 0?void 0:E.length)||0);return et!==0?et:av(G,Z)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===hc.mapValue&&f===hc.mapValue)return 0;if(c===hc.mapValue)return 1;if(f===hc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let I=0;I<p.length&&I<E.length;++I){const k=zd(p[I],E[I]);if(k!==0)return k;const G=Ha(g[p[I]],y[E[I]]);if(G!==0)return G}return wt(p.length,E.length)}(r.mapValue,t.mapValue);default:throw gt()}}function sv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return wt(r,t);const n=kr(r),s=kr(t),o=wt(n.seconds,s.seconds);return o!==0?o:wt(n.nanos,s.nanos)}function av(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Ha(n[o],s[o]);if(c)return c}return wt(n.length,s.length)}function ja(r){return Bd(r)}function Bd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=kr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Pr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ut.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Bd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Bd(n.fields[f])}`;return o+"}"}(r.mapValue):gt()}function Tc(r){switch(xr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wc(r);return t?16+Tc(t):16;case 5:return 2*r.stringValue.length;case 6:return Pr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+Tc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ks(s.fields,(c,f)=>{o+=c.length+Tc(f)}),o}(r.mapValue);default:throw gt()}}function ov(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function qd(r){return!!r&&"integerValue"in r}function Em(r){return!!r&&"arrayValue"in r}function lv(r){return!!r&&"nullValue"in r}function uv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ec(r){return!!r&&"mapValue"in r}function yI(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[aE])===null||n===void 0?void 0:n.stringValue)===oE}function gl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return ks(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=gl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=gl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function vI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===_I}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.value=t}static empty(){return new Cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Ec(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=gl(n)}setAll(t){let n=ze.emptyPath(),s={},o=[];t.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=g.popLast()}f?s[g.lastSegment()]=gl(f):o.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(t){const n=this.field(t.popLast());Ec(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ui(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ks(n,(o,c)=>t[o]=c);for(const o of s)delete t[o]}clone(){return new Cn(gl(this.value))}}function lE(r){const t=[];return ks(r.fields,(n,s)=>{const o=new ze([n]);if(Ec(s)){const c=lE(s.mapValue).fields;if(c.length===0)t.push(o);else for(const f of c)t.push(o.child(f))}else t.push(o)}),new Pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n,s,o,c,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Qe(t,0,Tt.min(),Tt.min(),Tt.min(),Cn.empty(),0)}static newFoundDocument(t,n,s,o){return new Qe(t,1,n,Tt.min(),s,o,0)}static newNoDocument(t,n){return new Qe(t,2,n,Tt.min(),Tt.min(),Cn.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,Tt.min(),Tt.min(),Cn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,n){this.position=t,this.inclusive=n}}function cv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const c=t[o],f=r.position[o];if(c.field.isKeyField()?s=ut.comparator(ut.fromName(f.referenceValue),n.key):s=Ha(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function hv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ui(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,n="asc"){this.field=t,this.dir=n}}function TI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{}class _e extends uE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new AI(t,n,s):n==="array-contains"?new RI(t,s):n==="in"?new wI(t,s):n==="not-in"?new II(t,s):n==="array-contains-any"?new CI(t,s):new _e(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new SI(t,s):new bI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ha(n,this.value)):n!==null&&xr(this.value)===xr(n)&&this.matchesComparison(Ha(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends uE{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new zn(t,n)}matches(t){return cE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function cE(r){return r.op==="and"}function hE(r){return EI(r)&&cE(r)}function EI(r){for(const t of r.filters)if(t instanceof zn)return!1;return!0}function Hd(r){if(r instanceof _e)return r.field.canonicalString()+r.op.toString()+ja(r.value);if(hE(r))return r.filters.map(t=>Hd(t)).join(",");{const t=r.filters.map(n=>Hd(n)).join(",");return`${r.op}(${t})`}}function fE(r,t){return r instanceof _e?function(s,o){return o instanceof _e&&s.op===o.op&&s.field.isEqual(o.field)&&ui(s.value,o.value)}(r,t):r instanceof zn?function(s,o){return o instanceof zn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,f,g)=>c&&fE(f,o.filters[g]),!0):!1}(r,t):void gt()}function dE(r){return r instanceof _e?function(n){return`${n.field.canonicalString()} ${n.op} ${ja(n.value)}`}(r):r instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(dE).join(" ,")+"}"}(r):"Filter"}class AI extends _e{constructor(t,n,s){super(t,n,s),this.key=ut.fromName(s.referenceValue)}matches(t){const n=ut.comparator(t.key,this.key);return this.matchesComparison(n)}}class SI extends _e{constructor(t,n){super(t,"in",n),this.keys=mE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class bI extends _e{constructor(t,n){super(t,"not-in",n),this.keys=mE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function mE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ut.fromName(s.referenceValue))}class RI extends _e{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Em(n)&&bl(n.arrayValue,this.value)}}class wI extends _e{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&bl(this.value.arrayValue,n)}}class II extends _e{constructor(t,n){super(t,"not-in",n)}matches(t){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!bl(this.value.arrayValue,n)}}class CI extends _e{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Em(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>bl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t,n=null,s=[],o=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=g,this.le=null}}function fv(r,t=null,n=[],s=[],o=null,c=null,f=null){return new DI(r,t,n,s,o,c,f)}function Am(r){const t=At(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Hd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Zc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>ja(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>ja(s)).join(",")),t.le=n}return t.le}function Sm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!TI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!fE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!hv(r.startAt,t.startAt)&&hv(r.endAt,t.endAt)}function jd(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t,n=null,s=[],o=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function OI(r,t,n,s,o,c,f,g){return new Za(r,t,n,s,o,c,f,g)}function bm(r){return new Za(r)}function dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function gE(r){return r.collectionGroup!==null}function pl(r){const t=At(r);if(t.he===null){t.he=[];const n=new Set;for(const c of t.explicitOrderBy)t.he.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new be(ze.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.he.push(new Rl(c,s))}),n.has(ze.keyField().canonicalString())||t.he.push(new Rl(ze.keyField(),s))}return t.he}function ai(r){const t=At(r);return t.Pe||(t.Pe=NI(t,pl(r))),t.Pe}function NI(r,t){if(r.limitType==="F")return fv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Rl(o.field,c)});const n=r.endAt?new kc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new kc(r.startAt.position,r.startAt.inclusive):null;return fv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Gd(r,t){const n=r.filters.concat([t]);return new Za(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Fd(r,t,n){return new Za(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Jc(r,t){return Sm(ai(r),ai(t))&&r.limitType===t.limitType}function pE(r){return`${Am(ai(r))}|lt:${r.limitType}`}function Va(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>dE(o)).join(", ")}]`),Zc(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ja(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ja(o)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function th(r,t){return t.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ut.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,o){for(const c of pl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,g,p){const y=cv(f,g,p);return f.inclusive?y<=0:y<0}(s.startAt,pl(s),o)||s.endAt&&!function(f,g,p){const y=cv(f,g,p);return f.inclusive?y>=0:y>0}(s.endAt,pl(s),o))}(r,t)}function VI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function _E(r){return(t,n)=>{let s=!1;for(const o of pl(r)){const c=MI(o,t,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function MI(r,t,n){const s=r.field.isKeyField()?ut.comparator(t.key,n.key):function(c,f,g){const p=f.data.field(c),y=g.data.field(c);return p!==null&&y!==null?Ha(p,y):gt()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ks(this.inner,(n,s)=>{for(const[o,c]of s)t(o,c)})}isEmpty(){return tE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new ie(ut.comparator);function Ki(){return UI}const yE=new ie(ut.comparator);function hl(...r){let t=yE;for(const n of r)t=t.insert(n.key,n);return t}function vE(r){let t=yE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function ws(){return _l()}function TE(){return _l()}function _l(){return new Ps(r=>r.toString(),(r,t)=>r.isEqual(t))}const kI=new ie(ut.comparator),PI=new be(ut.comparator);function Vt(...r){let t=PI;for(const n of r)t=t.add(n);return t}const xI=new be(wt);function LI(){return xI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(t)?"-0":t}}function EE(r){return{integerValue:""+r}}function zI(r,t){return fI(t)?EE(t):Rm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function BI(r,t,n){return r instanceof Pc?function(o,c){const f={fields:{[iE]:{stringValue:nE},[sE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Tm(c)&&(c=Wc(c)),c&&(f.fields[rE]=c),{mapValue:f}}(n,t):r instanceof wl?SE(r,t):r instanceof Il?bE(r,t):function(o,c){const f=AE(o,c),g=mv(f)+mv(o.Ie);return qd(f)&&qd(o.Ie)?EE(g):Rm(o.serializer,g)}(r,t)}function qI(r,t,n){return r instanceof wl?SE(r,t):r instanceof Il?bE(r,t):n}function AE(r,t){return r instanceof xc?function(s){return qd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Pc extends eh{}class wl extends eh{constructor(t){super(),this.elements=t}}function SE(r,t){const n=RE(t);for(const s of r.elements)n.some(o=>ui(o,s))||n.push(s);return{arrayValue:{values:n}}}class Il extends eh{constructor(t){super(),this.elements=t}}function bE(r,t){let n=RE(t);for(const s of r.elements)n=n.filter(o=>!ui(o,s));return{arrayValue:{values:n}}}class xc extends eh{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function mv(r){return he(r.integerValue||r.doubleValue)}function RE(r){return Em(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function HI(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof wl&&o instanceof wl||s instanceof Il&&o instanceof Il?qa(s.elements,o.elements,ui):s instanceof xc&&o instanceof xc?ui(s.Ie,o.Ie):s instanceof Pc&&o instanceof Pc}(r.transform,t.transform)}class jI{constructor(t,n){this.version=t,this.transformResults=n}}class ji{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ji}static exists(t){return new ji(void 0,t)}static updateTime(t){return new ji(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ac(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class nh{}function wE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new CE(r.key,ji.none()):new Ul(r.key,r.data,ji.none());{const n=r.data,s=Cn.empty();let o=new be(ze.comparator);for(let c of t.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new xs(r.key,s,new Pn(o.toArray()),ji.none())}}function GI(r,t,n){r instanceof Ul?function(o,c,f){const g=o.value.clone(),p=pv(o.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):r instanceof xs?function(o,c,f){if(!Ac(o.precondition,c))return void c.convertToUnknownDocument(f.version);const g=pv(o.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(IE(o)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function yl(r,t,n,s){return r instanceof Ul?function(c,f,g,p){if(!Ac(c.precondition,f))return g;const y=c.value.clone(),E=_v(c.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof xs?function(c,f,g,p){if(!Ac(c.precondition,f))return g;const y=_v(c.fieldTransforms,p,f),E=f.data;return E.setAll(IE(c)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(r,t,n,s):function(c,f,g){return Ac(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,t,n)}function FI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),c=AE(s.transform,o||null);c!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,c))}return n||null}function gv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&qa(s,o,(c,f)=>HI(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ul extends nh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xs extends nh{constructor(t,n,s,o,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function IE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function pv(r,t,n){const s=new Map;Ht(r.length===n.length);for(let o=0;o<n.length;o++){const c=r[o],f=c.transform,g=t.data.field(c.field);s.set(c.field,qI(f,g,n[o]))}return s}function _v(r,t,n){const s=new Map;for(const o of r){const c=o.transform,f=n.data.field(o.field);s.set(o.field,BI(c,f,t))}return s}class CE extends nh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QI extends nh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&GI(c,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=yl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=yl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=TE();return this.mutations.forEach(o=>{const c=t.get(o.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(o.key)?null:g;const p=wE(f,g);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Vt())}isEqual(t){return this.batchId===t.batchId&&qa(this.mutations,t.mutations,(n,s)=>gv(n,s))&&qa(this.baseMutations,t.baseMutations,(n,s)=>gv(n,s))}}class wm{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ht(t.mutations.length===s.length);let o=function(){return kI}();const c=t.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new wm(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Pt;function $I(r){switch(r){case Y.OK:return gt();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return gt()}}function DE(r){if(r===void 0)return Qi("GRPC error has no .code"),Y.UNKNOWN;switch(r){case pe.OK:return Y.OK;case pe.CANCELLED:return Y.CANCELLED;case pe.UNKNOWN:return Y.UNKNOWN;case pe.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case pe.INTERNAL:return Y.INTERNAL;case pe.UNAVAILABLE:return Y.UNAVAILABLE;case pe.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case pe.NOT_FOUND:return Y.NOT_FOUND;case pe.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case pe.ABORTED:return Y.ABORTED;case pe.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case pe.DATA_LOSS:return Y.DATA_LOSS;default:return gt()}}(Pt=pe||(pe={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new Or([4294967295,4294967295],0);function yv(r){const t=ZT().encode(r),n=new GT;return n.update(t),new Uint8Array(n.digest())}function vv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Or([n,s],0),new Or([o,c],0)]}class Im{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new fl(`Invalid padding: ${n}`);if(s<0)throw new fl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new fl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Or.fromNumber(this.Ee)}Ae(t,n,s){let o=t.add(n.multiply(Or.fromNumber(s)));return o.compare(ZI)===1&&(o=new Or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=yv(t),[s,o]=vv(n);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);if(!this.Re(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Im(c,o,n);return s.forEach(g=>f.insert(g)),f}insert(t){if(this.Ee===0)return;const n=yv(t),[s,o]=vv(n);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,n,s,o,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,kl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new ih(Tt.min(),o,new ie(wt),Ki(),Vt())}}class kl{constructor(t,n,s,o,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new kl(s,n,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,n,s,o){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=o}}class OE{constructor(t,n){this.targetId=t,this.ge=n}}class NE{constructor(t,n,s=Be.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Tv{constructor(){this.pe=0,this.ye=Ev(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Vt(),n=Vt(),s=Vt();return this.ye.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:gt()}}),new kl(this.we,this.Se,t,n,s)}Me(){this.be=!1,this.ye=Ev()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Ht(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class WI{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Ki(),this.$e=fc(),this.Ue=fc(),this.Ke=new ie(wt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:gt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,s=t.ge.count,o=this.Xe(n);if(o){const c=o.target;if(jd(c))if(s===0){const f=new ut(c.path);this.ze(n,f,Qe.newNoDocument(f,Tt.min()))}else Ht(s===1);else{const f=this.et(n);if(f!==s){const g=this.tt(t),p=g?this.nt(g,t,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let f,g;try{f=Pr(s).toUint8Array()}catch(p){if(p instanceof eE)return Ba("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Im(f,o,c)}catch(p){return Ba(p instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(c=>{const f=this.ke.it(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.ze(n,c,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((c,f)=>{const g=this.Xe(f);if(g){if(c.current&&jd(g.target)){const p=new ut(g.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Qe.newNoDocument(p,t))}c.ve&&(n.set(f,c.Fe()),c.Me())}});let s=Vt();this.Ue.forEach((c,f)=>{let g=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,f)=>f.setReadTime(t));const o=new ih(t,n,this.Ke,this.Qe,s);return this.Qe=Ki(),this.$e=fc(),this.Ue=fc(),this.Ke=new ie(wt),o}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new Tv,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new be(wt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new be(wt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||it("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Tv),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function fc(){return new ie(ut.comparator)}function Ev(){return new ie(ut.comparator)}const JI={asc:"ASCENDING",desc:"DESCENDING"},t1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e1={and:"AND",or:"OR"};class n1{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Qd(r,t){return r.useProto3Json||Zc(t)?t:{value:t}}function Lc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function VE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function i1(r,t){return Lc(r,t.toTimestamp())}function oi(r){return Ht(!!r),Tt.fromTimestamp(function(n){const s=kr(n);return new Se(s.seconds,s.nanos)}(r))}function Cm(r,t){return Kd(r,t).canonicalString()}function Kd(r,t){const n=function(o){return new Jt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function ME(r){const t=Jt.fromString(r);return Ht(LE(t)),t}function Yd(r,t){return Cm(r.databaseId,t.path)}function Rd(r,t){const n=ME(t);if(n.get(1)!==r.databaseId.projectId)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ut(kE(n))}function UE(r,t){return Cm(r.databaseId,t)}function r1(r){const t=ME(r);return t.length===4?Jt.emptyPath():kE(t)}function Xd(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function kE(r){return Ht(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Av(r,t,n){return{name:Yd(r,t),fields:n.value.mapValue.fields}}function s1(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Ht(E===void 0||typeof E=="string"),Be.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Be.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&function(y){const E=y.code===void 0?Y.UNKNOWN:DE(y.code);return new rt(E,y.message||"")}(f);n=new NE(s,o,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rd(r,s.document.name),c=oi(s.document.updateTime),f=s.document.createTime?oi(s.document.createTime):Tt.min(),g=new Cn({mapValue:{fields:s.document.fields}}),p=Qe.newFoundDocument(o,c,f,g),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Sc(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Rd(r,s.document),c=s.readTime?oi(s.readTime):Tt.min(),f=Qe.newNoDocument(o,c),g=s.removedTargetIds||[];n=new Sc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Rd(r,s.document),c=s.removedTargetIds||[];n=new Sc([],c,o,null)}else{if(!("filter"in t))return gt();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new XI(o,c),g=s.targetId;n=new OE(g,f)}}return n}function a1(r,t){let n;if(t instanceof Ul)n={update:Av(r,t.key,t.value)};else if(t instanceof CE)n={delete:Yd(r,t.key)};else if(t instanceof xs)n={update:Av(r,t.key,t.data),updateMask:g1(t.fieldMask)};else{if(!(t instanceof QI))return gt();n={verify:Yd(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof Pc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof wl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Il)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof xc)return{fieldPath:f.field.canonicalString(),increment:g.Ie};throw gt()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:i1(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt()}(r,t.precondition)),n}function o1(r,t){return r&&r.length>0?(Ht(t!==void 0),r.map(n=>function(o,c){let f=o.updateTime?oi(o.updateTime):oi(c);return f.isEqual(Tt.min())&&(f=oi(c)),new jI(f,o.transformResults||[])}(n,t))):[]}function l1(r,t){return{documents:[UE(r,t.path)]}}function u1(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=UE(r,o);const c=function(y){if(y.length!==0)return xE(zn.create(y,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(y){if(y.length!==0)return y.map(E=>function(k){return{field:Ma(k.field),direction:f1(k.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Qd(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:n,parent:o}}function c1(r){let t=r1(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ht(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let c=[];n.where&&(c=function(I){const k=PE(I);return k instanceof zn&&hE(k)?k.getFilters():[k]}(n.where));let f=[];n.orderBy&&(f=function(I){return I.map(k=>function(Z){return new Rl(Ua(Z.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(k))}(n.orderBy));let g=null;n.limit&&(g=function(I){let k;return k=typeof I=="object"?I.value:I,Zc(k)?null:k}(n.limit));let p=null;n.startAt&&(p=function(I){const k=!!I.before,G=I.values||[];return new kc(G,k)}(n.startAt));let y=null;return n.endAt&&(y=function(I){const k=!I.before,G=I.values||[];return new kc(G,k)}(n.endAt)),OI(t,o,f,c,g,"F",p,y)}function h1(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function PE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ua(n.unaryFilter.field);return _e.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ua(n.unaryFilter.field);return _e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ua(n.unaryFilter.field);return _e.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ua(n.unaryFilter.field);return _e.create(f,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(r):r.fieldFilter!==void 0?function(n){return _e.create(Ua(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return zn.create(n.compositeFilter.filters.map(s=>PE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt()}}(n.compositeFilter.op))}(r):gt()}function f1(r){return JI[r]}function d1(r){return t1[r]}function m1(r){return e1[r]}function Ma(r){return{fieldPath:r.canonicalString()}}function Ua(r){return ze.fromServerFormat(r.fieldPath)}function xE(r){return r instanceof _e?function(n){if(n.op==="=="){if(uv(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NAN"}};if(lv(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uv(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NAN"}};if(lv(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(n.field),op:d1(n.op),value:n.value}}}(r):r instanceof zn?function(n){const s=n.getFilters().map(o=>xE(o));return s.length===1?s[0]:{compositeFilter:{op:m1(n.op),filters:s}}}(r):gt()}function g1(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function LE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t,n,s,o,c=Tt.min(),f=Tt.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t){this.Tt=t}}function _1(r){const t=c1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Fd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.Tn=new v1}addToCollectionParentIndex(t,n){return this.Tn.add(n),K.resolve()}getCollectionParents(t,n){return K.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return K.resolve()}deleteFieldIndex(t,n){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,n){return K.resolve()}getDocumentsMatchingTarget(t,n){return K.resolve(null)}getIndexType(t,n){return K.resolve(0)}getFieldIndexes(t,n){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,n){return K.resolve(Ur.min())}getMinOffsetFromCollectionGroup(t,n){return K.resolve(Ur.min())}updateCollectionGroup(t,n,s){return K.resolve()}updateIndexEntries(t,n){return K.resolve()}}class v1{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new be(Jt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new be(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zE=41943040;class nn{static withCacheSize(t){return new nn(t,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(zE,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Ga(0)}static Kn(){return new Ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="LruGarbageCollector",T1=1048576;function Rv([r,t],[n,s]){const o=wt(r,n);return o===0?wt(t,s):o}class E1{constructor(t){this.Hn=t,this.buffer=new be(Rv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Rv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A1{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){it(bv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$a(n)?it(bv,"Ignoring IndexedDB error during garbage collection: ",n):await Xa(n)}await this.er(3e5)})}}class S1{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return K.resolve($c.ae);const s=new E1(n);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Sv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sv):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,o,c,f,g,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,f=Date.now(),this.nthSequenceNumber(t,o))).next(I=>(s=I,g=Date.now(),this.removeTargets(t,s,n))).next(I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(I=>(y=Date.now(),Na()<=Nt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${I} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:I})))}}function b1(r,t){return new S1(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.changes=new Ps(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&yl(s.mutation,o,Pn.empty(),Se.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Vt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Vt()){const o=ws();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(c=>{let f=hl();return c.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=ws();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Vt()))}populateOverlays(t,n,s){const o=[];return s.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(t,n,s,o){let c=Ki();const f=_l(),g=function(){return _l()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof xs)?c=c.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),yl(E.mutation,y,E.mutation.getFieldMask(),Se.now())):f.set(y.key,Pn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var I;return g.set(y,new w1(E,(I=f.get(y))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(t,n){const s=_l();let o=new ie((f,g)=>f-g),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Pn.empty();E=g.applyToLocalView(y,E),s.set(p,E);const I=(o.get(g.batchId)||Vt()).add(p);o=o.insert(g.batchId,I)})}).next(()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,I=TE();E.forEach(k=>{if(!c.has(k)){const G=wE(n.get(k),s.get(k));G!==null&&I.set(k,G),c=c.add(k)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,I))}return K.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return ut.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):gE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-c.size):K.resolve(ws());let g=El,p=c;return f.next(y=>K.forEach(y,(E,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(E)?K.resolve():this.remoteDocumentCache.getEntry(t,E).next(k=>{p=p.insert(E,k)}))).next(()=>this.populateOverlays(t,y,c)).next(()=>this.computeViews(t,p,y,Vt())).next(E=>({batchId:g,changes:vE(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ut(n)).next(s=>{let o=hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const c=n.collectionGroup;let f=hl();return this.indexManager.getCollectionParents(t,c).next(g=>K.forEach(g,p=>{const y=function(I,k){return new Za(k,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(E=>{E.forEach((I,k)=>{f=f.insert(I,k)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,o))).next(f=>{c.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Qe.newInvalidDocument(E)))});let g=hl();return f.forEach((p,y)=>{const E=c.get(p);E!==void 0&&yl(E.mutation,y,Pn.empty(),Se.now()),th(n,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return K.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:oi(o.createTime)}}(n)),K.resolve()}getNamedQuery(t,n){return K.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:_1(o.bundledQuery),readTime:oi(o.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.overlays=new ie(ut.comparator),this.Rr=new Map}getOverlay(t,n){return K.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ws();return K.forEach(n,o=>this.getOverlay(t,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,c)=>{this.Et(t,n,c)}),K.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),K.resolve()}getOverlaysForCollection(t,n,s){const o=ws(),c=n.length+1,f=new ut(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return K.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let c=new ie((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=ws(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=ws(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>g.set(y,E)),!(g.size()>=o)););return K.resolve(g)}Et(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new YI(n,s));let c=this.Rr.get(n);c===void 0&&(c=Vt(),this.Rr.set(n,c)),this.Rr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.Vr=new be(Ne.mr),this.gr=new be(Ne.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Ne(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Ne(t,n))}Sr(t,n){t.forEach(s=>this.removeReference(s,n))}br(t){const n=new ut(new Jt([])),s=new Ne(n,t),o=new Ne(n,t+1),c=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new ut(new Jt([])),s=new Ne(n,t),o=new Ne(n,t+1);let c=Vt();return this.gr.forEachInRange([s,o],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new Ne(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ne{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return ut.comparator(t.key,n.key)||wt(t.Cr,n.Cr)}static pr(t,n){return wt(t.Cr,n.Cr)||ut.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Ne.mr)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new KI(c,n,s,o);this.mutationQueue.push(f);for(const g of o)this.Mr=this.Mr.add(new Ne(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(f)}lookupMutationBatch(t,n){return K.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Nr(s),c=o<0?0:o;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?vm:this.Fr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ne(n,0),o=new Ne(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],f=>{const g=this.Or(f.Cr);c.push(g)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new be(wt);return n.forEach(o=>{const c=new Ne(o,0),f=new Ne(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],g=>{s=s.add(g.Cr)})}),K.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let c=s;ut.isDocumentKey(c)||(c=c.child(""));const f=new Ne(new ut(c),0);let g=new be(wt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Cr)),!0)},f),K.resolve(this.Br(g))}Br(t){const n=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ht(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return K.forEach(n.mutations,o=>{const c=new Ne(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Ne(n,0),o=this.Mr.firstAfterOrEqual(s);return K.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t){this.kr=t,this.docs=function(){return new ie(ut.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let s=Ki();return n.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Qe.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let c=Ki();const f=n.path,g=new ut(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||lI(oI(E),s)<=0||(o.has(E.key)||th(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,n,s,o){gt()}qr(t,n){return K.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new M1(this)}getSize(t){return K.resolve(this.size)}}class M1 extends R1{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),K.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(t){this.persistence=t,this.Qr=new Ps(n=>Am(n),Sm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Dm,this.targetCount=0,this.Kr=Ga.Un()}forEachTarget(t,n){return this.Qr.forEach((s,o)=>n(o)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),K.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Ga(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,K.resolve()}updateTargetData(t,n){return this.zn(n),K.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,n,s){let o=0;const c=[];return this.Qr.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)}),K.waitFor(c).next(()=>o)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return K.resolve(s)}addMatchingKeys(t,n,s){return this.Ur.yr(n,s),K.resolve()}removeMatchingKeys(t,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(f=>{c.push(o.markPotentiallyOrphaned(t,f))}),K.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),K.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Ur.vr(n);return K.resolve(s)}containsKey(t,n){return K.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new $c(0),this.zr=!1,this.zr=!0,this.jr=new O1,this.referenceDelegate=t(this),this.Hr=new U1(this),this.indexManager=new y1,this.remoteDocumentCache=function(o){return new V1(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new p1(n),this.Yr=new C1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new D1,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new N1(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){it("MemoryPersistence","Starting transaction:",t);const o=new k1(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(t,n){return K.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class k1 extends cI{constructor(t){super(),this.currentSequenceNumber=t}}class Om{constructor(t){this.persistence=t,this.ti=new Dm,this.ni=null}static ri(t){return new Om(t)}get ii(){if(this.ni)return this.ni;throw gt()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),K.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),K.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),K.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,s=>{const o=ut.fromPath(s);return this.si(t,o).next(c=>{c||n.removeEntry(o,Tt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return K.or([()=>K.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class zc{constructor(t,n){this.persistence=t,this.oi=new Ps(s=>dI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=b1(this,n)}static ri(t,n){return new zc(t,n)}Zr(){}Xr(t){return K.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return K.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(c=>c?K.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(g=>{g||(s++,c.removeEntry(f,Tt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),K.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),K.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),K.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Tc(t.data.value)),n}ar(t,n,s){return K.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(t,n){let s=Vt(),o=Vt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Nm(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return NS()?8:hI(Ke())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,o){const c={result:null};return this.rs(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(t,n,o,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new P1;return this._s(t,n,f).next(g=>{if(c.result=g,this.Xi)return this.us(t,n,f,g.size)})}).next(()=>c.result)}us(t,n,s,o){return s.documentReadCount<this.es?(Na()<=Nt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(Na()<=Nt.DEBUG&&it("QueryEngine","Query:",Va(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Na()<=Nt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(n))):K.resolve())}rs(t,n){if(dv(n))return K.resolve(null);let s=ai(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Fd(n,null,"F"),s=ai(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Vt(...c);return this.ns.getDocuments(t,f).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.cs(n,g);return this.ls(n,y,f,p.readTime)?this.rs(t,Fd(n,null,"F")):this.hs(t,y,n,p)}))})))}ss(t,n,s,o){return dv(n)||o.isEqual(Tt.min())?K.resolve(null):this.ns.getDocuments(t,s).next(c=>{const f=this.cs(n,c);return this.ls(n,f,s,o)?K.resolve(null):(Na()<=Nt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Va(n)),this.hs(t,f,n,aI(o,El)).next(g=>g))})}cs(t,n){let s=new be(_E(t));return n.forEach((o,c)=>{th(t,c)&&(s=s.add(c))}),s}ls(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(t,n,s){return Na()<=Nt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Va(n)),this.ns.getDocumentsMatchingQuery(t,n,Ur.min(),s)}hs(t,n,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="LocalStore",L1=3e8;class z1{constructor(t,n,s,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new ie(wt),this.Is=new Ps(c=>Am(c),Sm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new I1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function B1(r,t,n,s){return new z1(r,t,n,s)}async function qE(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let p=Vt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:g}))})})}function q1(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,E){const I=y.batch,k=I.keys();let G=K.resolve();return k.forEach(Z=>{G=G.next(()=>E.getEntry(p,Z)).next(et=>{const $=y.docVersions.get(Z);Ht($!==null),et.version.compareTo($)<0&&(I.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),E.addEntry(et)))})}),G.next(()=>g.mutationQueue.removeMutationBatch(p,I))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Vt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function HE(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function H1(r,t){const n=At(r),s=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const g=[];t.targetChanges.forEach((E,I)=>{const k=o.get(I);if(!k)return;g.push(n.Hr.removeMatchingKeys(c,E.removedDocuments,I).next(()=>n.Hr.addMatchingKeys(c,E.addedDocuments,I)));let G=k.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?G=G.withResumeToken(Be.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(E.resumeToken,s)),o=o.insert(I,G),function(et,$,pt){return et.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=L1?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0}(k,G,E)&&g.push(n.Hr.updateTargetData(c,G))});let p=Ki(),y=Vt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(j1(c,f,t.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Tt.min())){const E=n.Hr.getLastRemoteSnapshotVersion(c).next(I=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(E)}return K.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(n.Ts=o,c))}function j1(r,t,n){let s=Vt(),o=Vt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=Ki();return n.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):it(Vm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function G1(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=vm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function F1(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,t).next(c=>c?(o=c,K.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Ir(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function $d(r,t,n){const s=At(r),o=s.Ts.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!$a(f))throw f;it(Vm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function wv(r,t,n){const s=At(r);let o=Tt.min(),c=Vt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const I=At(p),k=I.Is.get(E);return k!==void 0?K.resolve(I.Ts.get(k)):I.Hr.getTargetData(y,E)}(s,f,ai(t)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?o:Tt.min(),n?c:Vt())).next(g=>(Q1(s,VI(t),g),{documents:g,gs:c})))}function Q1(r,t,n){let s=r.Es.get(t)||Tt.min();n.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(t,s)}class Iv{constructor(){this.activeTargetIds=LI()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class K1{constructor(){this.ho=new Iv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Iv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="ConnectivityMonitor";class Dv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it(Cv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){it(Cv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function Zd(){return dc===null?dc=function(){return 268435456+Math.round(2147483648*Math.random())}():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RestConnection",X1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $1{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Mc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(t,n,s,o,c){const f=Zd(),g=this.bo(t,n.toUriEncodedString());it(wd,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(t,g,p,s).then(y=>(it(wd,`Received RPC '${t}' ${f}: `,y),y),y=>{throw Ba(wd,`RPC '${t}' ${f} failed with error: `,y,"url: ",g,"request:",s),y})}Co(t,n,s,o,c,f){return this.So(t,n,s,o,c)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ya}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}bo(t,n){const s=X1[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class W1 extends $1{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,o){const c=Zd();return new Promise((f,g)=>{const p=new FT;p.setWithCredentials(!0),p.listenOnce(QT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case vc.NO_ERROR:const E=p.getResponseJson();it(Ge,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),f(E);break;case vc.TIMEOUT:it(Ge,`RPC '${t}' ${c} timed out`),g(new rt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case vc.HTTP_ERROR:const I=p.getStatus();if(it(Ge,`RPC '${t}' ${c} failed with status:`,I,"response text:",p.getResponseText()),I>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const G=k==null?void 0:k.error;if(G&&G.status&&G.message){const Z=function($){const pt=$.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(pt)>=0?pt:Y.UNKNOWN}(G.status);g(new rt(Z,G.message))}else g(new rt(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new rt(Y.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{it(Ge,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(o);it(Ge,`RPC '${t}' ${c} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(t,n,s){const o=Zd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=XT(),g=YT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=c.join("");it(Ge,`Creating RPC '${t}' stream ${o}: ${E}`,p);const I=f.createWebChannel(E,p);let k=!1,G=!1;const Z=new Z1({Fo:$=>{G?it(Ge,`Not sending because RPC '${t}' stream ${o} is closed:`,$):(k||(it(Ge,`Opening RPC '${t}' stream ${o} transport.`),I.open(),k=!0),it(Ge,`RPC '${t}' stream ${o} sending:`,$),I.send($))},Mo:()=>I.close()}),et=($,pt,Et)=>{$.listen(pt,ot=>{try{Et(ot)}catch(vt){setTimeout(()=>{throw vt},0)}})};return et(I,cl.EventType.OPEN,()=>{G||(it(Ge,`RPC '${t}' stream ${o} transport opened.`),Z.Qo())}),et(I,cl.EventType.CLOSE,()=>{G||(G=!0,it(Ge,`RPC '${t}' stream ${o} transport closed`),Z.Uo())}),et(I,cl.EventType.ERROR,$=>{G||(G=!0,Ba(Ge,`RPC '${t}' stream ${o} transport errored:`,$),Z.Uo(new rt(Y.UNAVAILABLE,"The operation could not be completed")))}),et(I,cl.EventType.MESSAGE,$=>{var pt;if(!G){const Et=$.data[0];Ht(!!Et);const ot=Et,vt=(ot==null?void 0:ot.error)||((pt=ot[0])===null||pt===void 0?void 0:pt.error);if(vt){it(Ge,`RPC '${t}' stream ${o} received error:`,vt);const ft=vt.status;let bt=function(R){const O=pe[R];if(O!==void 0)return DE(O)}(ft),N=vt.message;bt===void 0&&(bt=Y.INTERNAL,N="Unknown error status: "+ft+" with message "+vt.message),G=!0,Z.Uo(new rt(bt,N)),I.close()}else it(Ge,`RPC '${t}' stream ${o} received:`,Et),Z.Ko(Et)}}),et(g,KT.STAT_EVENT,$=>{$.stat===Ld.PROXY?it(Ge,`RPC '${t}' stream ${o} detected buffering proxy`):$.stat===Ld.NOPROXY&&it(Ge,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Z.$o()},0),Z}}function Id(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(r){return new n1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t,n,s=1e3,o=1.5,c=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="PersistentStream";class GE{constructor(t,n,s,o,c,f,g,p){this.Ti=t,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new jE(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{t(()=>{const o=new rt(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return it(Ov,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(it(Ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J1 extends GE{constructor(t,n,s,o,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=s1(this.serializer,t),s=function(c){if(!("targetChange"in c))return Tt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?oi(f.readTime):Tt.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=Xd(this.serializer),n.addTarget=function(c,f){let g;const p=f.target;if(g=jd(p)?{documents:l1(c,p)}:{query:u1(c,p).ht},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=VE(c,f.resumeToken);const y=Qd(c,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(Tt.min())>0){g.readTime=Lc(c,f.snapshotVersion.toTimestamp());const y=Qd(c,f.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,t);const s=h1(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=Xd(this.serializer),n.removeTarget=t,this.I_(n)}}class tC extends GE{constructor(t,n,s,o,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return Ht(!!t.streamToken),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Ht(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=o1(t.writeResults,t.commitTime),s=oi(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=Xd(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>a1(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{}class nC extends eC{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(t,Kd(n,s),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(Y.UNKNOWN,c.toString())})}Co(t,n,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Co(t,Kd(n,s),o,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rt(Y.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class iC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qi(n),this.N_=!1):it("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="RemoteStore";class rC{constructor(t,n,s,o,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{s.enqueueAndForget(async()=>{Ls(this)&&(it(Ms,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.W_.add(4),await Pl(y),y.j_.set("Unknown"),y.W_.delete(4),await sh(y)}(this))})}),this.j_=new iC(s,o)}}async function sh(r){if(Ls(r))for(const t of r.G_)await t(!0)}async function Pl(r){for(const t of r.G_)await t(!1)}function FE(r,t){const n=At(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Pm(n)?km(n):Wa(n).c_()&&Um(n,t))}function Mm(r,t){const n=At(r),s=Wa(n);n.K_.delete(t),s.c_()&&QE(n,t),n.K_.size===0&&(s.c_()?s.P_():Ls(n)&&n.j_.set("Unknown"))}function Um(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wa(r).y_(t)}function QE(r,t){r.H_.Ne(t),Wa(r).w_(t)}function km(r){r.H_=new WI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),Wa(r).start(),r.j_.B_()}function Pm(r){return Ls(r)&&!Wa(r).u_()&&r.K_.size>0}function Ls(r){return At(r).W_.size===0}function KE(r){r.H_=void 0}async function sC(r){r.j_.set("Online")}async function aC(r){r.K_.forEach((t,n)=>{Um(r,t)})}async function oC(r,t){KE(r),Pm(r)?(r.j_.q_(t),km(r)):r.j_.set("Unknown")}async function lC(r,t,n){if(r.j_.set("Online"),t instanceof NE&&t.state===2&&t.cause)try{await async function(o,c){const f=c.cause;for(const g of c.targetIds)o.K_.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.K_.delete(g),o.H_.removeTarget(g))}(r,t)}catch(s){it(Ms,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Bc(r,s)}else if(t instanceof Sc?r.H_.We(t):t instanceof OE?r.H_.Ze(t):r.H_.je(t),!n.isEqual(Tt.min()))try{const s=await HE(r.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.H_.ot(f);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.K_.get(y);E&&c.K_.set(y,E.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,y)=>{const E=c.K_.get(p);if(!E)return;c.K_.set(p,E.withResumeToken(Be.EMPTY_BYTE_STRING,E.snapshotVersion)),QE(c,p);const I=new Ir(E.target,p,y,E.sequenceNumber);Um(c,I)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){it(Ms,"Failed to raise snapshot:",s),await Bc(r,s)}}async function Bc(r,t,n){if(!$a(t))throw t;r.W_.add(1),await Pl(r),r.j_.set("Offline"),n||(n=()=>HE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(Ms,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await sh(r)})}function YE(r,t){return t().catch(n=>Bc(r,n,t))}async function ah(r){const t=At(r),n=Lr(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:vm;for(;uC(t);)try{const o=await G1(t.localStore,s);if(o===null){t.U_.length===0&&n.P_();break}s=o.batchId,cC(t,o)}catch(o){await Bc(t,o)}XE(t)&&$E(t)}function uC(r){return Ls(r)&&r.U_.length<10}function cC(r,t){r.U_.push(t);const n=Lr(r);n.c_()&&n.S_&&n.b_(t.mutations)}function XE(r){return Ls(r)&&!Lr(r).u_()&&r.U_.length>0}function $E(r){Lr(r).start()}async function hC(r){Lr(r).C_()}async function fC(r){const t=Lr(r);for(const n of r.U_)t.b_(n.mutations)}async function dC(r,t,n){const s=r.U_.shift(),o=wm.from(s,t,n);await YE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await ah(r)}async function mC(r,t){t&&Lr(r).S_&&await async function(s,o){if(function(f){return $I(f)&&f!==Y.ABORTED}(o.code)){const c=s.U_.shift();Lr(s).h_(),await YE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await ah(s)}}(r,t),XE(r)&&$E(r)}async function Nv(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),it(Ms,"RemoteStore received new credentials");const s=Ls(n);n.W_.add(3),await Pl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await sh(n)}async function gC(r,t){const n=At(r);t?(n.W_.delete(2),await sh(n)):t||(n.W_.add(2),await Pl(n),n.j_.set("Unknown"))}function Wa(r){return r.J_||(r.J_=function(n,s,o){const c=At(n);return c.M_(),new J1(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:sC.bind(null,r),No:aC.bind(null,r),Lo:oC.bind(null,r),p_:lC.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Pm(r)?km(r):r.j_.set("Unknown")):(await r.J_.stop(),KE(r))})),r.J_}function Lr(r){return r.Y_||(r.Y_=function(n,s,o){const c=At(n);return c.M_(),new tC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:hC.bind(null,r),Lo:mC.bind(null,r),D_:fC.bind(null,r),v_:dC.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await ah(r)):(await r.Y_.stop(),r.U_.length>0&&(it(Ms,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,n,s,o,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,c){const f=Date.now()+s,g=new xm(t,n,f,o,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lm(r,t){if(Qi("AsyncQueue",`${t}: ${r}`),$a(r))return new rt(Y.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{static emptySet(t){return new La(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ut.comparator(n.key,s.key):(n,s)=>ut.comparator(n.key,s.key),this.keyedMap=hl(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof La)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new La;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.Z_=new ie(ut.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):gt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class Fa{constructor(t,n,s,o,c,f,g,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new Fa(t,n,La.emptySet(n),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class _C{constructor(){this.queries=Mv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=At(n),c=o.queries;o.queries=Mv(),c.forEach((f,g)=>{for(const p of g.ta)p.onError(s)})})(this,new rt(Y.ABORTED,"Firestore shutting down"))}}function Mv(){return new Ps(r=>pE(r),Jc)}async function ZE(r,t){const n=At(r);let s=3;const o=t.query;let c=n.queries.get(o);c?!c.na()&&t.ra()&&(s=2):(c=new pC,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await n.onListen(o,!0);break;case 1:c.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=Lm(f,`Initialization of query '${Va(t.query)}' failed`);return void t.onError(g)}n.queries.set(o,c),c.ta.push(t),t.sa(n.onlineState),c.ea&&t.oa(c.ea)&&zm(n)}async function WE(r,t){const n=At(r),s=t.query;let o=3;const c=n.queries.get(s);if(c){const f=c.ta.indexOf(t);f>=0&&(c.ta.splice(f,1),c.ta.length===0?o=t.ra()?0:1:!c.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function yC(r,t){const n=At(r);let s=!1;for(const o of t){const c=o.query,f=n.queries.get(c);if(f){for(const g of f.ta)g.oa(o)&&(s=!0);f.ea=o}}s&&zm(n)}function vC(r,t,n){const s=At(r),o=s.queries.get(t);if(o)for(const c of o.ta)c.onError(n);s.queries.delete(t)}function zm(r){r.ia.forEach(t=>{t.next()})}var Wd,Uv;(Uv=Wd||(Wd={}))._a="default",Uv.Cache="cache";class JE{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Fa(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Fa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Wd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(t){this.key=t}}class e0{constructor(t){this.key=t}}class TC{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=_E(t),this.wa=new La(this.ya)}get Sa(){return this.fa}ba(t,n){const s=n?n.Da:new Vv,o=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,I)=>{const k=o.get(E),G=th(this.query,I)?I:null,Z=!!k&&this.mutatedKeys.has(k.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let $=!1;k&&G?k.data.isEqual(G.data)?Z!==et&&(s.track({type:3,doc:G}),$=!0):this.va(k,G)||(s.track({type:2,doc:G}),$=!0,(p&&this.ya(G,p)>0||y&&this.ya(G,y)<0)&&(g=!0)):!k&&G?(s.track({type:0,doc:G}),$=!0):k&&!G&&(s.track({type:1,doc:k}),$=!0,(p||y)&&(g=!0)),$&&(G?(f=f.add(G),c=et?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:g,mutatedKeys:c}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((E,I)=>function(G,Z){const et=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return et(G)-et(Z)}(E.type,I.type)||this.ya(E.doc,I.doc)),this.Ca(s),o=o!=null&&o;const g=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new Fa(this.query,t.wa,c,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Vv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Vt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new e0(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new t0(s))}),n}Oa(t){this.fa=t.gs,this.pa=Vt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Fa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Bm="SyncEngine";class EC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class AC{constructor(t){this.key=t,this.Ba=!1}}class SC{constructor(t,n,s,o,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ps(g=>pE(g),Jc),this.qa=new Map,this.Qa=new Set,this.$a=new ie(ut.comparator),this.Ua=new Map,this.Ka=new Dm,this.Wa={},this.Ga=new Map,this.za=Ga.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function bC(r,t,n=!0){const s=o0(r);let o;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await n0(s,t,n,!0),o}async function RC(r,t){const n=o0(r);await n0(n,t,!0,!1)}async function n0(r,t,n,s){const o=await F1(r.localStore,ai(t)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await wC(r,t,c,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&FE(r.remoteStore,o),g}async function wC(r,t,n,s,o){r.Ha=(I,k,G)=>async function(et,$,pt,Et){let ot=$.view.ba(pt);ot.ls&&(ot=await wv(et.localStore,$.query,!1).then(({documents:N})=>$.view.ba(N,ot)));const vt=Et&&Et.targetChanges.get($.targetId),ft=Et&&Et.targetMismatches.get($.targetId)!=null,bt=$.view.applyChanges(ot,et.isPrimaryClient,vt,ft);return Pv(et,$.targetId,bt.Ma),bt.snapshot}(r,I,k,G);const c=await wv(r.localStore,t,!0),f=new TC(t,c.gs),g=f.ba(c.documents),p=kl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(g,r.isPrimaryClient,p);Pv(r,n,y.Ma);const E=new EC(t,n,f);return r.ka.set(t,E),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),y.snapshot}async function IC(r,t,n){const s=At(r),o=s.ka.get(t),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(f=>!Jc(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $d(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Mm(s.remoteStore,o.targetId),Jd(s,o.targetId)}).catch(Xa)):(Jd(s,o.targetId),await $d(s.localStore,o.targetId,!0))}async function CC(r,t){const n=At(r),s=n.ka.get(t),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Mm(n.remoteStore,s.targetId))}async function DC(r,t,n){const s=PC(r);try{const o=await function(f,g){const p=At(f),y=Se.now(),E=g.reduce((G,Z)=>G.add(Z.key),Vt());let I,k;return p.persistence.runTransaction("Locally write mutations","readwrite",G=>{let Z=Ki(),et=Vt();return p.ds.getEntries(G,E).next($=>{Z=$,Z.forEach((pt,Et)=>{Et.isValidDocument()||(et=et.add(pt))})}).next(()=>p.localDocuments.getOverlayedDocuments(G,Z)).next($=>{I=$;const pt=[];for(const Et of g){const ot=FI(Et,I.get(Et.key).overlayedDocument);ot!=null&&pt.push(new xs(Et.key,ot,lE(ot.value.mapValue),ji.exists(!0)))}return p.mutationQueue.addMutationBatch(G,y,pt,g)}).next($=>{k=$;const pt=$.applyToLocalDocumentSet(I,et);return p.documentOverlayCache.saveOverlays(G,$.batchId,pt)})}).then(()=>({batchId:k.batchId,changes:vE(I)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,g,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new ie(wt)),y=y.insert(g,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await xl(s,o.changes),await ah(s.remoteStore)}catch(o){const c=Lm(o,"Failed to persist write");n.reject(c)}}async function i0(r,t){const n=At(r);try{const s=await H1(n.localStore,t);t.targetChanges.forEach((o,c)=>{const f=n.Ua.get(c);f&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ht(f.Ba):o.removedDocuments.size>0&&(Ht(f.Ba),f.Ba=!1))}),await xl(n,s,t)}catch(s){await Xa(s)}}function kv(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((c,f)=>{const g=f.view.sa(t);g.snapshot&&o.push(g.snapshot)}),function(f,g){const p=At(f);p.onlineState=g;let y=!1;p.queries.forEach((E,I)=>{for(const k of I.ta)k.sa(g)&&(y=!0)}),y&&zm(p)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function OC(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Ua.get(t),c=o&&o.key;if(c){let f=new ie(ut.comparator);f=f.insert(c,Qe.newNoDocument(c,Tt.min()));const g=Vt().add(c),p=new ih(Tt.min(),new Map,new ie(wt),f,g);await i0(s,p),s.$a=s.$a.remove(c),s.Ua.delete(t),qm(s)}else await $d(s.localStore,t,!1).then(()=>Jd(s,t,n)).catch(Xa)}async function NC(r,t){const n=At(r),s=t.batch.batchId;try{const o=await q1(n.localStore,t);s0(n,s,null),r0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xl(n,o)}catch(o){await Xa(o)}}async function VC(r,t,n){const s=At(r);try{const o=await function(f,g){const p=At(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next(I=>(Ht(I!==null),E=I.keys(),p.mutationQueue.removeMutationBatch(y,I))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,t);s0(s,t,n),r0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await xl(s,o)}catch(o){await Xa(o)}}function r0(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function s0(r,t,n){const s=At(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(n?c.reject(n):c.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function Jd(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(s=>{r.Ka.containsKey(s)||a0(r,s)})}function a0(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Mm(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),qm(r))}function Pv(r,t,n){for(const s of n)s instanceof t0?(r.Ka.addReference(s.key,t),MC(r,s)):s instanceof e0?(it(Bm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,t),r.Ka.containsKey(s.key)||a0(r,s.key)):gt()}function MC(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(it(Bm,"New document in limbo: "+n),r.Qa.add(s),qm(r))}function qm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new ut(Jt.fromString(t)),s=r.za.next();r.Ua.set(s,new AC(n)),r.$a=r.$a.insert(n,s),FE(r.remoteStore,new Ir(ai(bm(n.path)),s,"TargetPurposeLimboResolution",$c.ae))}}async function xl(r,t,n){const s=At(r),o=[],c=[],f=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{f.push(s.Ha(p,t,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const I=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(y){o.push(y);const I=Nm.Yi(p.targetId,y);c.push(I)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const E=At(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>K.forEach(y,k=>K.forEach(k.Hi,G=>E.persistence.referenceDelegate.addReference(I,k.targetId,G)).next(()=>K.forEach(k.Ji,G=>E.persistence.referenceDelegate.removeReference(I,k.targetId,G)))))}catch(I){if(!$a(I))throw I;it(Vm,"Failed to update sequence numbers: "+I)}for(const I of y){const k=I.targetId;if(!I.fromCache){const G=E.Ts.get(k),Z=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion(Z);E.Ts=E.Ts.insert(k,et)}}}(s.localStore,c))}async function UC(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){it(Bm,"User change. New user:",t.toKey());const s=await qE(n.localStore,t);n.currentUser=t,function(c,f){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new rt(Y.CANCELLED,f))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await xl(n,s.Rs)}}function kC(r,t){const n=At(r),s=n.Ua.get(t);if(s&&s.Ba)return Vt().add(s.key);{let o=Vt();const c=n.qa.get(t);if(!c)return o;for(const f of c){const g=n.ka.get(f);o=o.unionWith(g.view.Sa)}return o}}function o0(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=i0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=OC.bind(null,t),t.La.p_=yC.bind(null,t.eventManager),t.La.Ja=vC.bind(null,t.eventManager),t}function PC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=NC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VC.bind(null,t),t}class qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=rh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return B1(this.persistence,new x1,t.initialUser,this.serializer)}Xa(t){return new BE(Om.ri,this.serializer)}Za(t){return new K1}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qc.provider={build:()=>new qc};class xC extends qc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){Ht(this.persistence.referenceDelegate instanceof zc);const s=this.persistence.referenceDelegate.garbageCollector;return new A1(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new BE(s=>zc.ri(s,n),this.serializer)}}class tm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>kv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UC.bind(null,this.syncEngine),await gC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new _C}()}createDatastore(t){const n=rh(t.databaseInfo.databaseId),s=function(c){return new W1(c)}(t.databaseInfo);return function(c,f,g,p){return new nC(c,f,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,c,f,g){return new rC(s,o,c,f,g)}(this.localStore,this.datastore,t.asyncQueue,n=>kv(this.syncEngine,n,0),function(){return Dv.D()?new Dv:new Y1}())}createSyncEngine(t,n){return function(o,c,f,g,p,y,E){const I=new SC(o,c,f,g,p,y);return E&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const c=At(o);it(Ms,"RemoteStore shutting down."),c.W_.add(5),await Pl(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tm.provider={build:()=>new tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="FirestoreClient";class LC{constructor(t,n,s,o,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=WT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{it(zr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(it(zr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Lm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Cd(r,t){r.asyncQueue.verifyOperationInProgress(),it(zr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await qE(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function xv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await zC(r);it(zr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Nv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Nv(t.remoteStore,o)),r._onlineComponents=t}async function zC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(zr,"Using user provided OfflineComponentProvider");try{await Cd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ba("Error using user provided cache. Falling back to memory cache: "+n),await Cd(r,new qc)}}else it(zr,"Using default OfflineComponentProvider"),await Cd(r,new xC(void 0));return r._offlineComponents}async function u0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(zr,"Using user provided OnlineComponentProvider"),await xv(r,r._uninitializedComponentsProvider._online)):(it(zr,"Using default OnlineComponentProvider"),await xv(r,new tm))),r._onlineComponents}function BC(r){return u0(r).then(t=>t.syncEngine)}async function em(r){const t=await u0(r),n=t.eventManager;return n.onListen=bC.bind(null,t.syncEngine),n.onUnlisten=IC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=RC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=CC.bind(null,t.syncEngine),n}function qC(r,t,n={}){const s=new Nr;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,g,p,y){const E=new l0({next:k=>{E.su(),f.enqueueAndForget(()=>WE(c,I)),k.fromCache&&p.source==="server"?y.reject(new rt(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(k)},error:k=>y.reject(k)}),I=new JE(g,E,{includeMetadataChanges:!0,Ta:!0});return ZE(c,I)}(await em(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(r,t,n){if(!n)throw new rt(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function HC(r,t,n,s){if(t===!0&&s===!0)throw new rt(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function zv(r){if(!ut.isDocumentKey(r))throw new rt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Bv(r){if(ut.isDocumentKey(r))throw new rt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function oh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt()}function Cs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oh(r);throw new rt(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="firestore.googleapis.com",qv=!0;class Hv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=f0,this.ssl=qv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:qv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<T1)throw new rt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}HC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Zw;switch(s.type){case"firstParty":return new eI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Lv.get(n);s&&(it("ComponentProvider","Removing Datastore"),Lv.delete(n),s.terminate())}(this),Promise.resolve()}}function jC(r,t,n,s={}){var o;const c=(r=Cs(r,lh))._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${n}`;c.host!==f0&&c.host!==g&&Ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!Ds(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Fe.MOCK_USER;else{y=oT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new rt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Fe(I)}r._authCredentials=new Ww(new $T(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Br(this.firestore,t,this._query)}}class dn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new dn(this.firestore,t,this._key)}}class Vr extends Br{constructor(t,n,s){super(t,n,bm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new dn(this.firestore,null,new ut(t))}withConverter(t){return new Vr(this.firestore,t,this._path)}}function d0(r,t,...n){if(r=Ye(r),h0("collection","path",t),r instanceof lh){const s=Jt.fromString(t,...n);return Bv(s),new Vr(r,null,s)}{if(!(r instanceof dn||r instanceof Vr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return Bv(s),new Vr(r.firestore,null,s)}}function GC(r,t,...n){if(r=Ye(r),arguments.length===1&&(t=WT.newId()),h0("doc","path",t),r instanceof lh){const s=Jt.fromString(t,...n);return zv(s),new dn(r,null,new ut(s))}{if(!(r instanceof dn||r instanceof Vr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return zv(s),new dn(r.firestore,r instanceof Vr?r.converter:null,new ut(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="AsyncQueue";class Gv{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new jE(this,"async_queue_retry"),this.Su=()=>{const s=Id();s&&it(jv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const n=Id();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Id();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Nr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!$a(t))throw t;it(jv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let g=f.message||"";return f.stack&&(g=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),g}(s);throw Qi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=xm.createAndSchedule(this,t,n,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&gt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}function Fv(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Cl extends lh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new Gv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Gv(t),this._firestoreClient=void 0,await t}}}function FC(r,t){const n=typeof r=="object"?r:am(),s=typeof r=="string"?r:Mc,o=Qc(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=rT("firestore");c&&jC(o,...c)}return o}function Hm(r){if(r._terminated)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||QC(r),r._firestoreClient}function QC(r){var t,n,s;const o=r._freezeSettings(),c=function(g,p,y,E){return new pI(g,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,c0(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new LC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qa(Be.fromBase64String(t))}catch(n){throw new rt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qa(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return wt(this._lat,t._lat)||wt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=/^__.*__$/;class YC{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new xs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ul(t,this.data,n,this.fieldTransforms)}}function g0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class Qm{constructor(t,n,s,o,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Qm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Uu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Hc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(g0(this.Lu)&&KC.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class XC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||rh(t)}ju(t,n,s,o=!1){return new Qm({Lu:t,methodName:n,zu:s,path:ze.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function p0(r){const t=r._freezeSettings(),n=rh(r._databaseId);return new XC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function $C(r,t,n,s,o,c={}){const f=r.ju(c.merge||c.mergeFields?2:0,t,n,o);v0("Data must be an object, but it was:",f,s);const g=_0(s,f);let p,y;if(c.merge)p=new Pn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const I of c.mergeFields){const k=WC(t,I,n);if(!f.contains(k))throw new rt(Y.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);tD(E,k)||E.push(k)}p=new Pn(E),y=f.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=f.fieldTransforms;return new YC(new Cn(g),p,y)}function ZC(r,t,n,s=!1){return Km(n,r.ju(s?4:3,t))}function Km(r,t){if(y0(r=Ye(r)))return v0("Unsupported field value:",t,r),_0(r,t);if(r instanceof m0)return function(s,o){if(!g0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const c=[];let f=0;for(const g of s){let p=Km(g,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,o){if((s=Ye(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Se.fromDate(s);return{timestampValue:Lc(o.serializer,c)}}if(s instanceof Se){const c=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lc(o.serializer,c)}}if(s instanceof Gm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qa)return{bytesValue:VE(o.serializer,s._byteString)};if(s instanceof dn){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Cm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Fm)return function(f,g){return{mapValue:{fields:{[aE]:{stringValue:oE},[Uc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return Rm(g.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${oh(s)}`)}(r,t)}function _0(r,t){const n={};return tE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ks(r,(s,o)=>{const c=Km(o,t.qu(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function y0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Se||r instanceof Gm||r instanceof Qa||r instanceof dn||r instanceof m0||r instanceof Fm)}function v0(r,t,n){if(!y0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=oh(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function WC(r,t,n){if((t=Ye(t))instanceof jm)return t._internalPath;if(typeof t=="string")return T0(r,t);throw Hc("Field path arguments must be of type string or ",r,!1,void 0,n)}const JC=new RegExp("[~\\*/\\[\\]]");function T0(r,t,n){if(t.search(JC)>=0)throw Hc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new jm(...t.split("."))._internalPath}catch{throw Hc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Hc(r,t,n,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new rt(Y.INVALID_ARGUMENT,g+r+p)}function tD(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t,n,s,o,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new eD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(uh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eD extends E0{data(){return super.data()}}function uh(r,t){return typeof t=="string"?T0(r,t):t instanceof jm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ym{}class S0 extends Ym{}function Xm(r,t,...n){let s=[];t instanceof Ym&&s.push(t),s=s.concat(n),function(c){const f=c.filter(p=>p instanceof $m).length,g=c.filter(p=>p instanceof ch).length;if(f>1||f>0&&g>0)throw new rt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class ch extends S0{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ch(t,n,s)}_apply(t){const n=this._parse(t);return b0(t._query,n),new Br(t.firestore,t.converter,Gd(t._query,n))}_parse(t){const n=p0(t.firestore);return function(c,f,g,p,y,E,I){let k;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Kv(I,E);const Z=[];for(const et of I)Z.push(Qv(p,c,et));k={arrayValue:{values:Z}}}else k=Qv(p,c,I)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Kv(I,E),k=ZC(g,f,I,E==="in"||E==="not-in");return _e.create(y,E,k)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function nD(r,t,n){const s=t,o=uh("where",r);return ch._create(o,s,n)}class $m extends Ym{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new $m(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:zn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,c){let f=o;const g=c.getFlattenedFilters();for(const p of g)b0(f,p),f=Gd(f,p)}(t._query,n),new Br(t.firestore,t.converter,Gd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zm extends S0{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Zm(t,n)}_apply(t){const n=function(o,c,f){if(o.startAt!==null)throw new rt(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new rt(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rl(c,f)}(t._query,this._field,this._direction);return new Br(t.firestore,t.converter,function(o,c){const f=o.explicitOrderBy.concat([c]);return new Za(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function iD(r,t="asc"){const n=t,s=uh("orderBy",r);return Zm._create(s,n)}function Qv(r,t,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new rt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gE(t)&&n.indexOf("/")!==-1)throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Jt.fromString(n));if(!ut.isDocumentKey(s))throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ov(r,new ut(s))}if(n instanceof dn)return ov(r,n._key);throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(n)}.`)}function Kv(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function b0(r,t){const n=function(o,c){for(const f of o)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class rD{convertValue(t,n="none"){switch(xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Pr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ks(t,(o,c)=>{s[o]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,o;const c=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Uc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>he(f.doubleValue));return new Fm(c)}convertGeoPoint(t){return new Gm(he(t.latitude),he(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Wc(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Al(t));default:return null}}convertTimestamp(t){const n=kr(t);return new Se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Jt.fromString(t);Ht(LE(s));const o=new Sl(s.get(1),s.get(3)),c=new ut(s.popFirst(5));return o.isEqual(n)||Qi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class R0 extends E0{constructor(t,n,s,o,c,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(uh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class bc extends R0{data(t={}){return super.data(t)}}class w0{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new dl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new bc(this._firestore,this._userDataWriter,s.key,s,new dl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(g=>{const p=new bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new dl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new bc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new dl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),E=f.indexOf(g.doc.key)),{type:aD(g.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function aD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}class Wm extends rD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function oD(r){r=Cs(r,Br);const t=Cs(r.firestore,Cl),n=Hm(t),s=new Wm(t);return A0(r._query),qC(n,r._query).then(o=>new w0(t,s,r,o))}function I0(r,t){const n=Cs(r.firestore,Cl),s=GC(r),o=sD(r.converter,t);return lD(n,[$C(p0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ji.exists(!1))]).then(()=>s)}function C0(r,...t){var n,s,o;r=Ye(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||Fv(t[f])||(c=t[f],f++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(Fv(t[f])){const I=t[f];t[f]=(n=I.next)===null||n===void 0?void 0:n.bind(I),t[f+1]=(s=I.error)===null||s===void 0?void 0:s.bind(I),t[f+2]=(o=I.complete)===null||o===void 0?void 0:o.bind(I)}let p,y,E;if(r instanceof dn)y=Cs(r.firestore,Cl),E=bm(r._key.path),p={next:I=>{t[f]&&t[f](uD(y,r,I))},error:t[f+1],complete:t[f+2]};else{const I=Cs(r,Br);y=Cs(I.firestore,Cl),E=I._query;const k=new Wm(y);p={next:G=>{t[f]&&t[f](new w0(y,k,I,G))},error:t[f+1],complete:t[f+2]},A0(r._query)}return function(k,G,Z,et){const $=new l0(et),pt=new JE(G,$,Z);return k.asyncQueue.enqueueAndForget(async()=>ZE(await em(k),pt)),()=>{$.su(),k.asyncQueue.enqueueAndForget(async()=>WE(await em(k),pt))}}(Hm(y),E,g,p)}function lD(r,t){return function(s,o){const c=new Nr;return s.asyncQueue.enqueueAndForget(async()=>DC(await BC(s),o,c)),c.promise}(Hm(r),t)}function uD(r,t,n){const s=n.docs.get(t._key),o=new Wm(r);return new R0(r,o,t._key,s,new dl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){Ya=o})(Us),Os(new Mr("firestore",(s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new Cl(new Jw(s.getProvider("auth-internal")),new nI(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new rt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(y.options.projectId,E)}(f,o),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),ri(Xy,$y,t),ri(Xy,$y,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="firebasestorage.googleapis.com",cD="storageBucket",hD=2*60*1e3,fD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends hi{constructor(t,n,s=0){super(Dd(t),`Firebase Storage: ${n} (${Dd(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Dd(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ci;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ci||(ci={}));function Dd(r){return"storage/"+r}function dD(){const r="An unknown error occurred, please check the error payload for server response.";return new fi(ci.UNKNOWN,r)}function mD(){return new fi(ci.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gD(){return new fi(ci.CANCELED,"User canceled the upload/download.")}function pD(r){return new fi(ci.INVALID_URL,"Invalid URL '"+r+"'.")}function _D(r){return new fi(ci.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Yv(r){return new fi(ci.INVALID_ARGUMENT,r)}function O0(){return new fi(ci.APP_DELETED,"The Firebase app was deleted.")}function yD(r){return new fi(ci.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=xn.makeFromUrl(t,n)}catch{return new xn(t,"")}if(s.path==="")return s;throw _D(t)}static makeFromUrl(t,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(vt){vt.path.charAt(vt.path.length-1)==="/"&&(vt.path_=vt.path_.slice(0,-1))}const f="(/(.*))?$",g=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function y(vt){vt.path_=decodeURIComponent(vt.path)}const E="v[A-Za-z0-9_]+",I=n.replace(/[.]/g,"\\."),k="(/([^?#]*).*)?$",G=new RegExp(`^https?://${I}/${E}/b/${o}/o${k}`,"i"),Z={bucket:1,path:3},et=n===D0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,$="([^?#]*)",pt=new RegExp(`^https?://${et}/${o}/${$}`,"i"),ot=[{regex:g,indices:p,postModify:c},{regex:G,indices:Z,postModify:y},{regex:pt,indices:{bucket:1,path:2},postModify:y}];for(let vt=0;vt<ot.length;vt++){const ft=ot[vt],bt=ft.regex.exec(t);if(bt){const N=bt[ft.indices.bucket];let S=bt[ft.indices.path];S||(S=""),s=new xn(N,S),ft.postModify(s);break}}if(s==null)throw pD(t);return s}}class vD{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(r,t,n){let s=1,o=null,c=null,f=!1,g=0;function p(){return g===2}let y=!1;function E(...$){y||(y=!0,t.apply(null,$))}function I($){o=setTimeout(()=>{o=null,r(G,p())},$)}function k(){c&&clearTimeout(c)}function G($,...pt){if(y){k();return}if($){k(),E.call(null,$,...pt);return}if(p()||f){k(),E.call(null,$,...pt);return}s<64&&(s*=2);let ot;g===1?(g=2,ot=0):ot=(s+Math.random())*1e3,I(ot)}let Z=!1;function et($){Z||(Z=!0,k(),!y&&(o!==null?($||(g=2),clearTimeout(o),I(0)):$||(g=1)))}return I(0),c=setTimeout(()=>{f=!0,et(!0)},n),et}function ED(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(r){return r!==void 0}function Xv(r,t,n,s){if(s<t)throw Yv(`Invalid value for '${r}'. Expected ${t} or greater.`);if(s>n)throw Yv(`Invalid value for '${r}'. Expected ${n} or less.`)}function SD(r){const t=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=t(s)+"="+t(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var jc;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(jc||(jc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(r,t){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=t.indexOf(r)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t,n,s,o,c,f,g,p,y,E,I,k=!0){this.url_=t,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=g,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=I,this.retry=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,Z)=>{this.resolve_=G,this.reject_=Z,this.start_()})}start_(){const t=(s,o)=>{if(o){s(!1,new mc(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=g=>{const p=g.loaded,y=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const g=c.getErrorCode()===jc.NO_ERROR,p=c.getStatus();if(!g||bD(p,this.additionalRetryCodes_)&&this.retry){const E=c.getErrorCode()===jc.ABORT;s(!1,new mc(!1,null,E));return}const y=this.successCodes_.indexOf(p)!==-1;s(!0,new mc(y,c))})},n=(s,o)=>{const c=this.resolve_,f=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(g,g.getResponse());AD(p)?c(p):c()}catch(p){f(p)}else if(g!==null){const p=dD();p.serverResponse=g.getErrorText(),this.errorCallback_?f(this.errorCallback_(g,p)):f(p)}else if(o.canceled){const p=this.appDelete_?O0():gD();f(p)}else{const p=mD();f(p)}};this.canceled_?n(!1,new mc(!1,null,!0)):this.backoffId_=TD(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&ED(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mc{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function wD(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function ID(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function CD(r,t){t&&(r["X-Firebase-GMPID"]=t)}function DD(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function OD(r,t,n,s,o,c,f=!0){const g=SD(r.urlParams),p=r.url+g,y=Object.assign({},r.headers);return CD(y,t),wD(y,n),ID(y,c),DD(y,s),new RD(p,r.method,y,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function VD(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,n){this._service=t,n instanceof xn?this._location=n:this._location=xn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Gc(t,n)}get root(){const t=new xn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VD(this._location.path)}get storage(){return this._service}get parent(){const t=ND(this._location.path);if(t===null)return null;const n=new xn(this._location.bucket,t);return new Gc(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw yD(t)}}function $v(r,t){const n=t==null?void 0:t[cD];return n==null?null:xn.makeFromBucketSpec(n,r)}function MD(r,t,n,s={}){r.host=`${t}:${n}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:oT(o,r.app.options.projectId))}class UD{constructor(t,n,s,o,c){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._bucket=null,this._host=D0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hD,this._maxUploadRetryTime=fD,this._requests=new Set,o!=null?this._bucket=xn.makeFromBucketSpec(o,this._host):this._bucket=$v(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=xn.makeFromBucketSpec(this._url,t):this._bucket=$v(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Xv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Xv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Gc(this,t)}_makeRequest(t,n,s,o,c=!0){if(this._deleted)return new vD(O0());{const f=OD(t,this._appId,s,o,n,this._firebaseVersion,c);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,o).getPromise()}}const Zv="@firebase/storage",Wv="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="storage";function kD(r=am(),t){r=Ye(r);const s=Qc(r,N0).getImmediate({identifier:t}),o=rT("storage");return o&&PD(s,...o),s}function PD(r,t,n,s={}){MD(r,t,n,s)}function xD(r,{instanceIdentifier:t}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new UD(n,s,o,t,Us)}function LD(){Os(new Mr(N0,xD,"PUBLIC").setMultipleInstances(!0)),ri(Zv,Wv,""),ri(Zv,Wv,"esm2017")}LD();const zD={apiKey:"AIzaSyARRtV-At76wg0lCIvyxmoyEn-Z04qBajM",authDomain:"auth-si36.firebaseapp.com",projectId:"auth-si36",storageBucket:"auth-si36.appspot.com",messagingSenderId:"617887457990",appId:"1:617887457990:web:9bff6da988ad4351b6edc7"},Jm=cT(zD),tg=Xw(Jm),BD=new zi,V0=FC(Jm);kD(Jm);const qD=()=>rw(tg,BD),HD=()=>LR(tg),jD=r=>xR(tg,r),M0=d0(V0,"challenges"),nm=r=>d0(V0,`challenges/${r}/votes`),GD=r=>{const t=Xm(M0,iD("createdAt","desc"));return C0(t,n=>r(n.docs.map(s=>({id:s.id,...s.data()}))))};function FD(){return Bt.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-purple-500 to-pink-500",children:Bt.jsx("button",{onClick:qD,className:"px-6 py-3 bg-white text-gray-800 rounded-lg shadow hover:bg-gray-100 transition",children:"Sign in with Google"})})}function QD({challengeId:r,user:t}){const[n,s]=Dn.useState(!1);Dn.useEffect(()=>{(async()=>{const c=Xm(nm(r),nD("voter","==",t.uid)),f=await oD(c);s(!f.empty)})()},[r,t.uid]);const o=async()=>{n||(await I0(nm(r),{voter:t.uid,timestamp:Date.now()}),s(!0))};return Bt.jsx("button",{onClick:o,disabled:n,className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition disabled:bg-gray-400",children:n?"Voted":"Vote"})}function KD({card:r,user:t}){const[n,s]=Dn.useState(0);return Dn.useEffect(()=>{const o=Xm(nm(r.id));return C0(o,f=>s(f.size))},[r.id]),Bt.jsxs("div",{className:"bg-white rounded-xl shadow hover:shadow-lg transition overflow-hidden",children:[Bt.jsx("img",{src:r.imageURL,alt:r.challengeText,className:"w-full h-48 object-cover"}),Bt.jsxs("div",{className:"p-4",children:[Bt.jsx("h3",{className:"font-semibold text-gray-800",children:r.challengeText}),Bt.jsxs("div",{className:"flex items-center justify-between mt-3",children:[Bt.jsxs("span",{className:"text-gray-600",children:[n," vote",n!==1&&"s"]}),Bt.jsx(QD,{challengeId:r.id,user:t})]})]})]})}const YD="onshot_unsigned",XD="dhsgvtewc";function $D({user:r}){const[t,n]=Dn.useState(""),[s,o]=Dn.useState(null),[c,f]=Dn.useState(!1),g=async y=>{const E=new FormData;return E.append("file",y),E.append("upload_preset",YD),(await(await fetch(`https://api.cloudinary.com/v1_1/${XD}/image/upload`,{method:"POST",body:E})).json()).secure_url},p=async y=>{if(y.preventDefault(),!(!t||!s)){f(!0);try{const E=await g(s);await I0(M0,{challengeText:t,imageURL:E,createdAt:Date.now(),createdBy:r.uid}),n(""),o(null)}catch(E){console.error("Error uploading challenge:",E)}f(!1)}};return Bt.jsxs("form",{onSubmit:p,className:"bg-white p-6 rounded-xl shadow space-y-4",children:[Bt.jsx("input",{type:"text",value:t,onChange:y=>n(y.target.value),placeholder:"Describe the challenge",className:"w-full border px-3 py-2 rounded focus:outline-none focus:ring"}),Bt.jsx("input",{type:"file",accept:"image/*",onChange:y=>o(y.target.files[0]),className:"w-full"}),Bt.jsx("button",{type:"submit",disabled:c,className:"px-6 py-3 bg-green-500 text-white rounded-full hover:bg-green-600 transition disabled:opacity-50",children:c?"Posting":"Post Challenge"})]})}function ZD({user:r}){const[t,n]=Dn.useState([]);return Dn.useEffect(()=>GD(n),[]),Bt.jsxs("div",{className:"space-y-6",children:[Bt.jsx($D,{user:r}),Bt.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(s=>Bt.jsx(KD,{card:s,user:r},s.id))})]})}function WD({user:r,onSignOut:t}){return Bt.jsxs("nav",{className:"bg-blue-600 text-white p-4 rounded mb-6 flex justify-between items-center",children:[Bt.jsx("h1",{className:"text-xl font-bold",children:"Card Challenge"}),Bt.jsxs("div",{className:"flex items-center space-x-3",children:[r.photoURL&&Bt.jsx("img",{src:r.photoURL,alt:r.displayName,className:"w-8 h-8 rounded-full"}),Bt.jsx("button",{onClick:t,className:"px-3 py-1 bg-white text-blue-600 rounded hover:bg-gray-200 transition",children:"Sign Out"})]})]})}function JD(){const[r,t]=Dn.useState(null);return Dn.useEffect(()=>jD(t),[]),r?Bt.jsxs(Bt.Fragment,{children:[Bt.jsx(WD,{user:r,onSignOut:HD}),Bt.jsx("main",{className:"p-6 max-w-3xl mx-auto",children:Bt.jsx(ZD,{user:r})})]}):Bt.jsx(FD,{})}gS.createRoot(document.getElementById("root")).render(Bt.jsx(oS.StrictMode,{children:Bt.jsx(JD,{})}));
